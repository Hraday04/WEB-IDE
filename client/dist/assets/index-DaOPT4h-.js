(function(){const I=document.createElement("link").relList;if(I&&I.supports&&I.supports("modulepreload"))return;for(const K of document.querySelectorAll('link[rel="modulepreload"]'))M(K);new MutationObserver(K=>{for(const D of K)if(D.type==="childList")for(const x of D.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&M(x)}).observe(document,{childList:!0,subtree:!0});function L(K){const D={};return K.integrity&&(D.integrity=K.integrity),K.referrerPolicy&&(D.referrerPolicy=K.referrerPolicy),K.crossOrigin==="use-credentials"?D.credentials="include":K.crossOrigin==="anonymous"?D.credentials="omit":D.credentials="same-origin",D}function M(K){if(K.ep)return;K.ep=!0;const D=L(K);fetch(K.href,D)}})();var Fi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tv(j){return j&&j.__esModule&&Object.prototype.hasOwnProperty.call(j,"default")?j.default:j}var Mc={exports:{}},ro={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd;function iv(){if(pd)return ro;pd=1;var j=Symbol.for("react.transitional.element"),I=Symbol.for("react.fragment");function L(M,K,D){var x=null;if(D!==void 0&&(x=""+D),K.key!==void 0&&(x=""+K.key),"key"in K){D={};for(var v in K)v!=="key"&&(D[v]=K[v])}else D=K;return K=D.ref,{$$typeof:j,type:M,key:x,ref:K!==void 0?K:null,props:D}}return ro.Fragment=I,ro.jsx=L,ro.jsxs=L,ro}var gd;function nv(){return gd||(gd=1,Mc.exports=iv()),Mc.exports}var Ie=nv(),Tc={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd;function rv(){if(vd)return He;vd=1;var j=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),x=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),s=Symbol.for("react.lazy"),i=Symbol.iterator;function r(B){return B===null||typeof B!="object"?null:(B=i&&B[i]||B["@@iterator"],typeof B=="function"?B:null)}var n={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o=Object.assign,a={};function l(B,P,V){this.props=B,this.context=P,this.refs=a,this.updater=V||n}l.prototype.isReactComponent={},l.prototype.setState=function(B,P){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,P,"setState")},l.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function f(){}f.prototype=l.prototype;function u(B,P,V){this.props=B,this.context=P,this.refs=a,this.updater=V||n}var g=u.prototype=new f;g.constructor=u,o(g,l.prototype),g.isPureReactComponent=!0;var y=Array.isArray,_={H:null,A:null,T:null,S:null},p=Object.prototype.hasOwnProperty;function S(B,P,V,G,Y,q){return V=q.ref,{$$typeof:j,type:B,key:P,ref:V!==void 0?V:null,props:q}}function b(B,P){return S(B.type,P,void 0,void 0,void 0,B.props)}function w(B){return typeof B=="object"&&B!==null&&B.$$typeof===j}function R(B){var P={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(V){return P[V]})}var H=/\/+/g;function k(B,P){return typeof B=="object"&&B!==null&&B.key!=null?R(""+B.key):P.toString(36)}function E(){}function A(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(E,E):(B.status="pending",B.then(function(P){B.status==="pending"&&(B.status="fulfilled",B.value=P)},function(P){B.status==="pending"&&(B.status="rejected",B.reason=P)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function C(B,P,V,G,Y){var q=typeof B;(q==="undefined"||q==="boolean")&&(B=null);var Z=!1;if(B===null)Z=!0;else switch(q){case"bigint":case"string":case"number":Z=!0;break;case"object":switch(B.$$typeof){case j:case I:Z=!0;break;case s:return Z=B._init,C(Z(B._payload),P,V,G,Y)}}if(Z)return Y=Y(B),Z=G===""?"."+k(B,0):G,y(Y)?(V="",Z!=null&&(V=Z.replace(H,"$&/")+"/"),C(Y,P,V,"",function(ie){return ie})):Y!=null&&(w(Y)&&(Y=b(Y,V+(Y.key==null||B&&B.key===Y.key?"":(""+Y.key).replace(H,"$&/")+"/")+Z)),P.push(Y)),1;Z=0;var Q=G===""?".":G+":";if(y(B))for(var U=0;U<B.length;U++)G=B[U],q=Q+k(G,U),Z+=C(G,P,V,q,Y);else if(U=r(B),typeof U=="function")for(B=U.call(B),U=0;!(G=B.next()).done;)G=G.value,q=Q+k(G,U++),Z+=C(G,P,V,q,Y);else if(q==="object"){if(typeof B.then=="function")return C(A(B),P,V,G,Y);throw P=String(B),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return Z}function $(B,P,V){if(B==null)return B;var G=[],Y=0;return C(B,G,"","",function(q){return P.call(V,q,Y++)}),G}function z(B){if(B._status===-1){var P=B._result;P=P(),P.then(function(V){(B._status===0||B._status===-1)&&(B._status=1,B._result=V)},function(V){(B._status===0||B._status===-1)&&(B._status=2,B._result=V)}),B._status===-1&&(B._status=0,B._result=P)}if(B._status===1)return B._result.default;throw B._result}var F=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function N(){}return He.Children={map:$,forEach:function(B,P,V){$(B,function(){P.apply(this,arguments)},V)},count:function(B){var P=0;return $(B,function(){P++}),P},toArray:function(B){return $(B,function(P){return P})||[]},only:function(B){if(!w(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},He.Component=l,He.Fragment=L,He.Profiler=K,He.PureComponent=u,He.StrictMode=M,He.Suspense=h,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,He.act=function(){throw Error("act(...) is not supported in production builds of React.")},He.cache=function(B){return function(){return B.apply(null,arguments)}},He.cloneElement=function(B,P,V){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var G=o({},B.props),Y=B.key,q=void 0;if(P!=null)for(Z in P.ref!==void 0&&(q=void 0),P.key!==void 0&&(Y=""+P.key),P)!p.call(P,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&P.ref===void 0||(G[Z]=P[Z]);var Z=arguments.length-2;if(Z===1)G.children=V;else if(1<Z){for(var Q=Array(Z),U=0;U<Z;U++)Q[U]=arguments[U+2];G.children=Q}return S(B.type,Y,void 0,void 0,q,G)},He.createContext=function(B){return B={$$typeof:x,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:D,_context:B},B},He.createElement=function(B,P,V){var G,Y={},q=null;if(P!=null)for(G in P.key!==void 0&&(q=""+P.key),P)p.call(P,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(Y[G]=P[G]);var Z=arguments.length-2;if(Z===1)Y.children=V;else if(1<Z){for(var Q=Array(Z),U=0;U<Z;U++)Q[U]=arguments[U+2];Y.children=Q}if(B&&B.defaultProps)for(G in Z=B.defaultProps,Z)Y[G]===void 0&&(Y[G]=Z[G]);return S(B,q,void 0,void 0,null,Y)},He.createRef=function(){return{current:null}},He.forwardRef=function(B){return{$$typeof:v,render:B}},He.isValidElement=w,He.lazy=function(B){return{$$typeof:s,_payload:{_status:-1,_result:B},_init:z}},He.memo=function(B,P){return{$$typeof:d,type:B,compare:P===void 0?null:P}},He.startTransition=function(B){var P=_.T,V={};_.T=V;try{var G=B(),Y=_.S;Y!==null&&Y(V,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(N,F)}catch(q){F(q)}finally{_.T=P}},He.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},He.use=function(B){return _.H.use(B)},He.useActionState=function(B,P,V){return _.H.useActionState(B,P,V)},He.useCallback=function(B,P){return _.H.useCallback(B,P)},He.useContext=function(B){return _.H.useContext(B)},He.useDebugValue=function(){},He.useDeferredValue=function(B,P){return _.H.useDeferredValue(B,P)},He.useEffect=function(B,P){return _.H.useEffect(B,P)},He.useId=function(){return _.H.useId()},He.useImperativeHandle=function(B,P,V){return _.H.useImperativeHandle(B,P,V)},He.useInsertionEffect=function(B,P){return _.H.useInsertionEffect(B,P)},He.useLayoutEffect=function(B,P){return _.H.useLayoutEffect(B,P)},He.useMemo=function(B,P){return _.H.useMemo(B,P)},He.useOptimistic=function(B,P){return _.H.useOptimistic(B,P)},He.useReducer=function(B,P,V){return _.H.useReducer(B,P,V)},He.useRef=function(B){return _.H.useRef(B)},He.useState=function(B){return _.H.useState(B)},He.useSyncExternalStore=function(B,P,V){return _.H.useSyncExternalStore(B,P,V)},He.useTransition=function(){return _.H.useTransition()},He.version="19.0.0",He}var md;function is(){return md||(md=1,Tc.exports=rv()),Tc.exports}var kt=is(),xc={exports:{}},so={},Lc={exports:{}},Rc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d;function sv(){return _d||(_d=1,function(j){function I($,z){var F=$.length;$.push(z);e:for(;0<F;){var N=F-1>>>1,B=$[N];if(0<K(B,z))$[N]=z,$[F]=B,F=N;else break e}}function L($){return $.length===0?null:$[0]}function M($){if($.length===0)return null;var z=$[0],F=$.pop();if(F!==z){$[0]=F;e:for(var N=0,B=$.length,P=B>>>1;N<P;){var V=2*(N+1)-1,G=$[V],Y=V+1,q=$[Y];if(0>K(G,F))Y<B&&0>K(q,G)?($[N]=q,$[Y]=F,N=Y):($[N]=G,$[V]=F,N=V);else if(Y<B&&0>K(q,F))$[N]=q,$[Y]=F,N=Y;else break e}}return z}function K($,z){var F=$.sortIndex-z.sortIndex;return F!==0?F:$.id-z.id}if(j.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var D=performance;j.unstable_now=function(){return D.now()}}else{var x=Date,v=x.now();j.unstable_now=function(){return x.now()-v}}var h=[],d=[],s=1,i=null,r=3,n=!1,o=!1,a=!1,l=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;function g($){for(var z=L(d);z!==null;){if(z.callback===null)M(d);else if(z.startTime<=$)M(d),z.sortIndex=z.expirationTime,I(h,z);else break;z=L(d)}}function y($){if(a=!1,g($),!o)if(L(h)!==null)o=!0,A();else{var z=L(d);z!==null&&C(y,z.startTime-$)}}var _=!1,p=-1,S=5,b=-1;function w(){return!(j.unstable_now()-b<S)}function R(){if(_){var $=j.unstable_now();b=$;var z=!0;try{e:{o=!1,a&&(a=!1,f(p),p=-1),n=!0;var F=r;try{t:{for(g($),i=L(h);i!==null&&!(i.expirationTime>$&&w());){var N=i.callback;if(typeof N=="function"){i.callback=null,r=i.priorityLevel;var B=N(i.expirationTime<=$);if($=j.unstable_now(),typeof B=="function"){i.callback=B,g($),z=!0;break t}i===L(h)&&M(h),g($)}else M(h);i=L(h)}if(i!==null)z=!0;else{var P=L(d);P!==null&&C(y,P.startTime-$),z=!1}}break e}finally{i=null,r=F,n=!1}z=void 0}}finally{z?H():_=!1}}}var H;if(typeof u=="function")H=function(){u(R)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,E=k.port2;k.port1.onmessage=R,H=function(){E.postMessage(null)}}else H=function(){l(R,0)};function A(){_||(_=!0,H())}function C($,z){p=l(function(){$(j.unstable_now())},z)}j.unstable_IdlePriority=5,j.unstable_ImmediatePriority=1,j.unstable_LowPriority=4,j.unstable_NormalPriority=3,j.unstable_Profiling=null,j.unstable_UserBlockingPriority=2,j.unstable_cancelCallback=function($){$.callback=null},j.unstable_continueExecution=function(){o||n||(o=!0,A())},j.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},j.unstable_getCurrentPriorityLevel=function(){return r},j.unstable_getFirstCallbackNode=function(){return L(h)},j.unstable_next=function($){switch(r){case 1:case 2:case 3:var z=3;break;default:z=r}var F=r;r=z;try{return $()}finally{r=F}},j.unstable_pauseExecution=function(){},j.unstable_requestPaint=function(){},j.unstable_runWithPriority=function($,z){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var F=r;r=$;try{return z()}finally{r=F}},j.unstable_scheduleCallback=function($,z,F){var N=j.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?N+F:N):F=N,$){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=F+B,$={id:s++,callback:z,priorityLevel:$,startTime:F,expirationTime:B,sortIndex:-1},F>N?($.sortIndex=F,I(d,$),L(h)===null&&$===L(d)&&(a?(f(p),p=-1):a=!0,C(y,F-N))):($.sortIndex=B,I(h,$),o||n||(o=!0,A())),$},j.unstable_shouldYield=w,j.unstable_wrapCallback=function($){var z=r;return function(){var F=r;r=z;try{return $.apply(this,arguments)}finally{r=F}}}}(Rc)),Rc}var yd;function ov(){return yd||(yd=1,Lc.exports=sv()),Lc.exports}var kc={exports:{}},Ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd;function av(){if(bd)return Ft;bd=1;var j=is();function I(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)d+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function L(){}var M={d:{f:L,r:function(){throw Error(I(522))},D:L,C:L,L,m:L,X:L,S:L,M:L},p:0,findDOMNode:null},K=Symbol.for("react.portal");function D(h,d,s){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:i==null?null:""+i,children:h,containerInfo:d,implementation:s}}var x=j.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ft.createPortal=function(h,d){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(I(299));return D(h,d,null,s)},Ft.flushSync=function(h){var d=x.T,s=M.p;try{if(x.T=null,M.p=2,h)return h()}finally{x.T=d,M.p=s,M.d.f()}},Ft.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,M.d.C(h,d))},Ft.prefetchDNS=function(h){typeof h=="string"&&M.d.D(h)},Ft.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var s=d.as,i=v(s,d.crossOrigin),r=typeof d.integrity=="string"?d.integrity:void 0,n=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;s==="style"?M.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:n}):s==="script"&&M.d.X(h,{crossOrigin:i,integrity:r,fetchPriority:n,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ft.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var s=v(d.as,d.crossOrigin);M.d.M(h,{crossOrigin:s,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&M.d.M(h)},Ft.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var s=d.as,i=v(s,d.crossOrigin);M.d.L(h,s,{crossOrigin:i,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ft.preloadModule=function(h,d){if(typeof h=="string")if(d){var s=v(d.as,d.crossOrigin);M.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:s,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else M.d.m(h)},Ft.requestFormReset=function(h){M.d.r(h)},Ft.unstable_batchedUpdates=function(h,d){return h(d)},Ft.useFormState=function(h,d,s){return x.H.useFormState(h,d,s)},Ft.useFormStatus=function(){return x.H.useHostTransitionStatus()},Ft.version="19.0.0",Ft}var Sd;function lv(){if(Sd)return kc.exports;Sd=1;function j(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j)}catch(I){console.error(I)}}return j(),kc.exports=av(),kc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wd;function cv(){if(wd)return so;wd=1;var j=ov(),I=is(),L=lv();function M(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)t+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function K(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var D=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),r=Symbol.for("react.consumer"),n=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),l=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),y=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function p(e){return e===null||typeof e!="object"?null:(e=_&&e[_]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function b(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case h:return"Fragment";case v:return"Portal";case s:return"Profiler";case d:return"StrictMode";case a:return"Suspense";case l:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case n:return(e.displayName||"Context")+".Provider";case r:return(e._context.displayName||"Context")+".Consumer";case o:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case f:return t=e.displayName||null,t!==null?t:b(e.type)||"Memo";case u:t=e._payload,e=e._init;try{return b(e(t))}catch{}}return null}var w=I.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=Object.assign,H,k;function E(e){if(H===void 0)try{throw Error()}catch(c){var t=c.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||"",k=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+H+e+k}var A=!1;function C(e,t){if(!e||A)return"";A=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(t){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(fe){var ce=fe}Reflect.construct(e,[],_e)}else{try{_e.call()}catch(fe){ce=fe}e.call(_e.prototype)}}else{try{throw Error()}catch(fe){ce=fe}(_e=e())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(fe){if(fe&&ce&&typeof fe.stack=="string")return[fe.stack,ce.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=m.DetermineComponentFrameRoot(),W=O[0],X=O[1];if(W&&X){var te=W.split(`
`),se=X.split(`
`);for(T=m=0;m<te.length&&!te[m].includes("DetermineComponentFrameRoot");)m++;for(;T<se.length&&!se[T].includes("DetermineComponentFrameRoot");)T++;if(m===te.length||T===se.length)for(m=te.length-1,T=se.length-1;1<=m&&0<=T&&te[m]!==se[T];)T--;for(;1<=m&&0<=T;m--,T--)if(te[m]!==se[T]){if(m!==1||T!==1)do if(m--,T--,0>T||te[m]!==se[T]){var de=`
`+te[m].replace(" at new "," at ");return e.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",e.displayName)),de}while(1<=m&&0<=T);break}}}finally{A=!1,Error.prepareStackTrace=c}return(c=e?e.displayName||e.name:"")?E(c):""}function $(e){switch(e.tag){case 26:case 27:case 5:return E(e.type);case 16:return E("Lazy");case 13:return E("Suspense");case 19:return E("SuspenseList");case 0:case 15:return e=C(e.type,!1),e;case 11:return e=C(e.type.render,!1),e;case 1:return e=C(e.type,!0),e;default:return""}}function z(e){try{var t="";do t+=$(e),e=e.return;while(e);return t}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function F(e){var t=e,c=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(c=t.return),e=t.return;while(e)}return t.tag===3?c:null}function N(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function B(e){if(F(e)!==e)throw Error(M(188))}function P(e){var t=e.alternate;if(!t){if(t=F(e),t===null)throw Error(M(188));return t!==e?null:e}for(var c=e,m=t;;){var T=c.return;if(T===null)break;var O=T.alternate;if(O===null){if(m=T.return,m!==null){c=m;continue}break}if(T.child===O.child){for(O=T.child;O;){if(O===c)return B(T),e;if(O===m)return B(T),t;O=O.sibling}throw Error(M(188))}if(c.return!==m.return)c=T,m=O;else{for(var W=!1,X=T.child;X;){if(X===c){W=!0,c=T,m=O;break}if(X===m){W=!0,m=T,c=O;break}X=X.sibling}if(!W){for(X=O.child;X;){if(X===c){W=!0,c=O,m=T;break}if(X===m){W=!0,m=O,c=T;break}X=X.sibling}if(!W)throw Error(M(189))}}if(c.alternate!==m)throw Error(M(190))}if(c.tag!==3)throw Error(M(188));return c.stateNode.current===c?e:t}function V(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=V(e),t!==null)return t;e=e.sibling}return null}var G=Array.isArray,Y=L.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},Z=[],Q=-1;function U(e){return{current:e}}function ie(e){0>Q||(e.current=Z[Q],Z[Q]=null,Q--)}function ee(e,t){Q++,Z[Q]=e.current,e.current=t}var he=U(null),pe=U(null),be=U(null),Le=U(null);function Te(e,t){switch(ee(be,t),ee(pe,e),ee(he,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Wf(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=Wf(e),t=jf(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ie(he),ee(he,t)}function ze(){ie(he),ie(pe),ie(be)}function Ee(e){e.memoizedState!==null&&ee(Le,e);var t=he.current,c=jf(t,e.type);t!==c&&(ee(pe,e),ee(he,c))}function ut(e){pe.current===e&&(ie(he),ie(pe)),Le.current===e&&(ie(Le),Js._currentValue=q)}var Et=Object.prototype.hasOwnProperty,Pt=j.unstable_scheduleCallback,Xt=j.unstable_cancelCallback,jt=j.unstable_shouldYield,at=j.unstable_requestPaint,ot=j.unstable_now,At=j.unstable_getCurrentPriorityLevel,ue=j.unstable_ImmediatePriority,ye=j.unstable_UserBlockingPriority,Se=j.unstable_NormalPriority,De=j.unstable_LowPriority,Re=j.unstable_IdlePriority,je=j.log,ke=j.unstable_setDisableYieldValue,Ve=null,Be=null;function Pe(e){if(Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Ve,e,void 0,(e.current.flags&128)===128)}catch{}}function ae(e){if(typeof je=="function"&&ke(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Ve,e)}catch{}}var ve=Math.clz32?Math.clz32:Ri,Me=Math.log,Ge=Math.LN2;function Ri(e){return e>>>=0,e===0?32:31-(Me(e)/Ge|0)|0}var ni=128,Wi=4194304;function vi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ki(e,t){var c=e.pendingLanes;if(c===0)return 0;var m=0,T=e.suspendedLanes,O=e.pingedLanes,W=e.warmLanes;e=e.finishedLanes!==0;var X=c&134217727;return X!==0?(c=X&~T,c!==0?m=vi(c):(O&=X,O!==0?m=vi(O):e||(W=X&~W,W!==0&&(m=vi(W))))):(X=c&~T,X!==0?m=vi(X):O!==0?m=vi(O):e||(W=c&~W,W!==0&&(m=vi(W)))),m===0?0:t!==0&&t!==m&&(t&T)===0&&(T=m&-m,W=t&-t,T>=W||T===32&&(W&4194176)!==0)?t:m}function ji(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function rs(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mr(){var e=ni;return ni<<=1,(ni&4194176)===0&&(ni=128),e}function fn(){var e=Wi;return Wi<<=1,(Wi&62914560)===0&&(Wi=4194304),e}function ss(e){for(var t=[],c=0;31>c;c++)t.push(e);return t}function Wn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xa(e,t,c,m,T,O){var W=e.pendingLanes;e.pendingLanes=c,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=c,e.entangledLanes&=c,e.errorRecoveryDisabledLanes&=c,e.shellSuspendCounter=0;var X=e.entanglements,te=e.expirationTimes,se=e.hiddenUpdates;for(c=W&~c;0<c;){var de=31-ve(c),_e=1<<de;X[de]=0,te[de]=-1;var ce=se[de];if(ce!==null)for(se[de]=null,de=0;de<ce.length;de++){var fe=ce[de];fe!==null&&(fe.lane&=-536870913)}c&=~_e}m!==0&&ho(e,m,0),O!==0&&T===0&&e.tag!==0&&(e.suspendedLanes|=O&~(W&~t))}function ho(e,t,c){e.pendingLanes|=t,e.suspendedLanes&=~t;var m=31-ve(t);e.entangledLanes|=t,e.entanglements[m]=e.entanglements[m]|1073741824|c&4194218}function uo(e,t){var c=e.entangledLanes|=t;for(e=e.entanglements;c;){var m=31-ve(c),T=1<<m;T&t|e[m]&t&&(e[m]|=t),c&=~T}}function os(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function _r(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:ld(e.type))}function Vi(e,t){var c=Y.p;try{return Y.p=e,t()}finally{Y.p=c}}var $i=Math.random().toString(36).slice(2),Mt="__reactFiber$"+$i,Nt="__reactProps$"+$i,dn="__reactContainer$"+$i,as="__reactEvents$"+$i,mi="__reactListeners$"+$i,La="__reactHandles$"+$i,fo="__reactResources$"+$i,jn="__reactMarker$"+$i;function ls(e){delete e[Mt],delete e[Nt],delete e[as],delete e[mi],delete e[La]}function Gi(e){var t=e[Mt];if(t)return t;for(var c=e.parentNode;c;){if(t=c[dn]||c[Mt]){if(c=t.alternate,t.child!==null||c!==null&&c.child!==null)for(e=Kf(e);e!==null;){if(c=e[Mt])return c;e=Kf(e)}return t}e=c,c=e.parentNode}return null}function Vt(e){if(e=e[Mt]||e[dn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Vn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(M(33))}function pn(e){var t=e[fo];return t||(t=e[fo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[jn]=!0}var po=new Set,go={};function ri(e,t){gn(e,t),gn(e+"Capture",t)}function gn(e,t){for(go[e]=t,e=0;e<t.length;e++)po.add(t[e])}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Di=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},mo={};function Ra(e){return Et.call(mo,e)?!0:Et.call(vo,e)?!1:Di.test(e)?mo[e]=!0:(vo[e]=!0,!1)}function yr(e,t,c){if(Ra(t))if(c===null)e.removeAttribute(t);else{switch(typeof c){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var m=t.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+c)}}function br(e,t,c){if(c===null)e.removeAttribute(t);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+c)}}function yi(e,t,c,m){if(m===null)e.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(c);return}e.setAttributeNS(t,c,""+m)}}function $t(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _o(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Gn(e){var t=_o(e)?"checked":"value",c=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),m=""+e[t];if(!e.hasOwnProperty(t)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var T=c.get,O=c.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return T.call(this)},set:function(W){m=""+W,O.call(this,W)}}),Object.defineProperty(e,t,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(W){m=""+W},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kn(e){e._valueTracker||(e._valueTracker=Gn(e))}function cs(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var c=t.getValue(),m="";return e&&(m=_o(e)?e.checked?"true":"false":e.value),e=m,e!==c?(t.setValue(e),!0):!1}function Sr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ka=/[\n"\\]/g;function Gt(e){return e.replace(ka,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function hs(e,t,c,m,T,O,W,X){e.name="",W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?e.type=W:e.removeAttribute("type"),t!=null?W==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+$t(t)):e.value!==""+$t(t)&&(e.value=""+$t(t)):W!=="submit"&&W!=="reset"||e.removeAttribute("value"),t!=null?fs(e,W,$t(t)):c!=null?fs(e,W,$t(c)):m!=null&&e.removeAttribute("value"),T==null&&O!=null&&(e.defaultChecked=!!O),T!=null&&(e.checked=T&&typeof T!="function"&&typeof T!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?e.name=""+$t(X):e.removeAttribute("name")}function us(e,t,c,m,T,O,W,X){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(e.type=O),t!=null||c!=null){if(!(O!=="submit"&&O!=="reset"||t!=null))return;c=c!=null?""+$t(c):"",t=t!=null?""+$t(t):c,X||t===e.value||(e.value=t),e.defaultValue=t}m=m??T,m=typeof m!="function"&&typeof m!="symbol"&&!!m,e.checked=X?e.checked:!!m,e.defaultChecked=!!m,W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(e.name=W)}function fs(e,t,c){t==="number"&&Sr(e.ownerDocument)===e||e.defaultValue===""+c||(e.defaultValue=""+c)}function vn(e,t,c,m){if(e=e.options,t){t={};for(var T=0;T<c.length;T++)t["$"+c[T]]=!0;for(c=0;c<e.length;c++)T=t.hasOwnProperty("$"+e[c].value),e[c].selected!==T&&(e[c].selected=T),T&&m&&(e[c].defaultSelected=!0)}else{for(c=""+$t(c),t=null,T=0;T<e.length;T++){if(e[T].value===c){e[T].selected=!0,m&&(e[T].defaultSelected=!0);return}t!==null||e[T].disabled||(t=e[T])}t!==null&&(t.selected=!0)}}function ds(e,t,c){if(t!=null&&(t=""+$t(t),t!==e.value&&(e.value=t),c==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=c!=null?""+$t(c):""}function Yn(e,t,c,m){if(t==null){if(m!=null){if(c!=null)throw Error(M(92));if(G(m)){if(1<m.length)throw Error(M(93));m=m[0]}c=m}c==null&&(c=""),t=c}c=$t(t),e.defaultValue=c,m=e.textContent,m===c&&m!==""&&m!==null&&(e.value=m)}function qt(e,t){if(t){var c=e.firstChild;if(c&&c===e.lastChild&&c.nodeType===3){c.nodeValue=t;return}}e.textContent=t}var $a=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yo(e,t,c){var m=t.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":m?e.setProperty(t,c):typeof c!="number"||c===0||$a.has(t)?t==="float"?e.cssFloat=c:e[t]=(""+c).trim():e[t]=c+"px"}function bi(e,t,c){if(t!=null&&typeof t!="object")throw Error(M(62));if(e=e.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||t!=null&&t.hasOwnProperty(m)||(m.indexOf("--")===0?e.setProperty(m,""):m==="float"?e.cssFloat="":e[m]="");for(var T in t)m=t[T],t.hasOwnProperty(T)&&c[T]!==m&&yo(e,T,m)}else for(var O in t)t.hasOwnProperty(O)&&yo(e,O,t[O])}function ps(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Da=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Oa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wr(e){return Oa.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var gs=null;function Si(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ki=null,mn=null;function Xn(e){var t=Vt(e);if(t&&(e=t.stateNode)){var c=e[Nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(hs(e,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),t=c.name,c.type==="radio"&&t!=null){for(c=e;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Gt(""+t)+'"][type="radio"]'),t=0;t<c.length;t++){var m=c[t];if(m!==e&&m.form===e.form){var T=m[Nt]||null;if(!T)throw Error(M(90));hs(m,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(t=0;t<c.length;t++)m=c[t],m.form===e.form&&cs(m)}break e;case"textarea":ds(e,c.value,c.defaultValue);break e;case"select":t=c.value,t!=null&&vn(e,!!c.multiple,t,!1)}}}var vs=!1;function Cr(e,t,c){if(vs)return e(t,c);vs=!0;try{var m=e(t);return m}finally{if(vs=!1,(Ki!==null||mn!==null)&&(Jo(),Ki&&(t=Ki,e=mn,mn=Ki=null,Xn(t),e)))for(t=0;t<e.length;t++)Xn(e[t])}}function qn(e,t){var c=e.stateNode;if(c===null)return null;var m=c[Nt]||null;if(m===null)return null;c=m[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(e=e.type,m=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!m;break e;default:e=!1}if(e)return null;if(c&&typeof c!="function")throw Error(M(231,t,typeof c));return c}var Er=!1;if(_i)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){Er=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{Er=!1}var wi=null,Yi=null,Qn=null;function bo(){if(Qn)return Qn;var e,t=Yi,c=t.length,m,T="value"in wi?wi.value:wi.textContent,O=T.length;for(e=0;e<c&&t[e]===T[e];e++);var W=c-e;for(m=1;m<=W&&t[c-m]===T[O-m];m++);return Qn=T.slice(e,1<m?1-m:void 0)}function Ar(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mr(){return!0}function J(){return!1}function ne(e){function t(c,m,T,O,W){this._reactName=c,this._targetInst=T,this.type=m,this.nativeEvent=O,this.target=W,this.currentTarget=null;for(var X in e)e.hasOwnProperty(X)&&(c=e[X],this[X]=c?c(O):O[X]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Mr:J,this.isPropagationStopped=J,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Mr)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Mr)},persist:function(){},isPersistent:Mr}),t}var ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},we=ne(ge),Ze=R({},ge,{view:0,detail:0}),Ne=ne(Ze),nt,ft,lt,Je=R({},Ze,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ba,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lt&&(lt&&e.type==="mousemove"?(nt=e.screenX-lt.screenX,ft=e.screenY-lt.screenY):ft=nt=0,lt=e),nt)},movementY:function(e){return"movementY"in e?e.movementY:ft}}),It=ne(Je),Qt=R({},Je,{dataTransfer:0}),Tt=ne(Qt),Kt=R({},Ze,{relatedTarget:0}),Ht=ne(Kt),Oi=R({},ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Ci=ne(Oi),Xi=R({},ge,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),So=ne(Xi),Tr=R({},ge,{data:0}),Zn=ne(Tr),hp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},up={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fp[e])?!!t[e]:!1}function Ba(){return dp}var pp=R({},Ze,{key:function(e){if(e.key){var t=hp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?up[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ba,charCode:function(e){return e.type==="keypress"?Ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gp=ne(pp),vp=R({},Je,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rh=ne(vp),mp=R({},Ze,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ba}),_p=ne(mp),yp=R({},ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),bp=ne(yp),Sp=R({},Je,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wp=ne(Sp),Cp=R({},ge,{newState:0,oldState:0}),Ep=ne(Cp),Ap=[9,13,27,32],Na=_i&&"CompositionEvent"in window,ms=null;_i&&"documentMode"in document&&(ms=document.documentMode);var Mp=_i&&"TextEvent"in window&&!ms,sh=_i&&(!Na||ms&&8<ms&&11>=ms),oh=" ",ah=!1;function lh(e,t){switch(e){case"keyup":return Ap.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ch(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xr=!1;function Tp(e,t){switch(e){case"compositionend":return ch(t);case"keypress":return t.which!==32?null:(ah=!0,oh);case"textInput":return e=t.data,e===oh&&ah?null:e;default:return null}}function xp(e,t){if(xr)return e==="compositionend"||!Na&&lh(e,t)?(e=bo(),Qn=Yi=wi=null,xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sh&&t.locale!=="ko"?null:t.data;default:return null}}var Lp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lp[e.type]:t==="textarea"}function uh(e,t,c,m){Ki?mn?mn.push(m):mn=[m]:Ki=m,t=ra(t,"onChange"),0<t.length&&(c=new we("onChange","change",null,c,m),e.push({event:c,listeners:t}))}var _s=null,ys=null;function Rp(e){Hf(e,0)}function wo(e){var t=Vn(e);if(cs(t))return e}function fh(e,t){if(e==="change")return t}var dh=!1;if(_i){var Ia;if(_i){var Ha="oninput"in document;if(!Ha){var ph=document.createElement("div");ph.setAttribute("oninput","return;"),Ha=typeof ph.oninput=="function"}Ia=Ha}else Ia=!1;dh=Ia&&(!document.documentMode||9<document.documentMode)}function gh(){_s&&(_s.detachEvent("onpropertychange",vh),ys=_s=null)}function vh(e){if(e.propertyName==="value"&&wo(ys)){var t=[];uh(t,ys,e,Si(e)),Cr(Rp,t)}}function kp(e,t,c){e==="focusin"?(gh(),_s=t,ys=c,_s.attachEvent("onpropertychange",vh)):e==="focusout"&&gh()}function $p(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wo(ys)}function Dp(e,t){if(e==="click")return wo(t)}function Op(e,t){if(e==="input"||e==="change")return wo(t)}function Bp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zt=typeof Object.is=="function"?Object.is:Bp;function bs(e,t){if(Zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var c=Object.keys(e),m=Object.keys(t);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var T=c[m];if(!Et.call(t,T)||!Zt(e[T],t[T]))return!1}return!0}function mh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _h(e,t){var c=mh(e);e=0;for(var m;c;){if(c.nodeType===3){if(m=e+c.textContent.length,e<=t&&m>=t)return{node:c,offset:t-e};e=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=mh(c)}}function yh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Sr(e.document);t instanceof e.HTMLIFrameElement;){try{var c=typeof t.contentWindow.location.href=="string"}catch{c=!1}if(c)e=t.contentWindow;else break;t=Sr(e.document)}return t}function za(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Np(e,t){var c=bh(t);t=e.focusedElem;var m=e.selectionRange;if(c!==t&&t&&t.ownerDocument&&yh(t.ownerDocument.documentElement,t)){if(m!==null&&za(t)){if(e=m.start,c=m.end,c===void 0&&(c=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(c,t.value.length);else if(c=(e=t.ownerDocument||document)&&e.defaultView||window,c.getSelection){c=c.getSelection();var T=t.textContent.length,O=Math.min(m.start,T);m=m.end===void 0?O:Math.min(m.end,T),!c.extend&&O>m&&(T=m,m=O,O=T),T=_h(t,O);var W=_h(t,m);T&&W&&(c.rangeCount!==1||c.anchorNode!==T.node||c.anchorOffset!==T.offset||c.focusNode!==W.node||c.focusOffset!==W.offset)&&(e=e.createRange(),e.setStart(T.node,T.offset),c.removeAllRanges(),O>m?(c.addRange(e),c.extend(W.node,W.offset)):(e.setEnd(W.node,W.offset),c.addRange(e)))}}for(e=[],c=t;c=c.parentNode;)c.nodeType===1&&e.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)c=e[t],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var Ip=_i&&"documentMode"in document&&11>=document.documentMode,Lr=null,Fa=null,Ss=null,Pa=!1;function Sh(e,t,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Pa||Lr==null||Lr!==Sr(m)||(m=Lr,"selectionStart"in m&&za(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ss&&bs(Ss,m)||(Ss=m,m=ra(Fa,"onSelect"),0<m.length&&(t=new we("onSelect","select",null,t,c),e.push({event:t,listeners:m}),t.target=Lr)))}function Jn(e,t){var c={};return c[e.toLowerCase()]=t.toLowerCase(),c["Webkit"+e]="webkit"+t,c["Moz"+e]="moz"+t,c}var Rr={animationend:Jn("Animation","AnimationEnd"),animationiteration:Jn("Animation","AnimationIteration"),animationstart:Jn("Animation","AnimationStart"),transitionrun:Jn("Transition","TransitionRun"),transitionstart:Jn("Transition","TransitionStart"),transitioncancel:Jn("Transition","TransitionCancel"),transitionend:Jn("Transition","TransitionEnd")},Ua={},wh={};_i&&(wh=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function er(e){if(Ua[e])return Ua[e];if(!Rr[e])return e;var t=Rr[e],c;for(c in t)if(t.hasOwnProperty(c)&&c in wh)return Ua[e]=t[c];return e}var Ch=er("animationend"),Eh=er("animationiteration"),Ah=er("animationstart"),Hp=er("transitionrun"),zp=er("transitionstart"),Fp=er("transitioncancel"),Mh=er("transitionend"),Th=new Map,xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ei(e,t){Th.set(e,t),ri(t,[e])}var si=[],kr=0,Wa=0;function Co(){for(var e=kr,t=Wa=kr=0;t<e;){var c=si[t];si[t++]=null;var m=si[t];si[t++]=null;var T=si[t];si[t++]=null;var O=si[t];if(si[t++]=null,m!==null&&T!==null){var W=m.pending;W===null?T.next=T:(T.next=W.next,W.next=T),m.pending=T}O!==0&&Lh(c,T,O)}}function Eo(e,t,c,m){si[kr++]=e,si[kr++]=t,si[kr++]=c,si[kr++]=m,Wa|=m,e.lanes|=m,e=e.alternate,e!==null&&(e.lanes|=m)}function ja(e,t,c,m){return Eo(e,t,c,m),Ao(e)}function yn(e,t){return Eo(e,null,null,t),Ao(e)}function Lh(e,t,c){e.lanes|=c;var m=e.alternate;m!==null&&(m.lanes|=c);for(var T=!1,O=e.return;O!==null;)O.childLanes|=c,m=O.alternate,m!==null&&(m.childLanes|=c),O.tag===22&&(e=O.stateNode,e===null||e._visibility&1||(T=!0)),e=O,O=O.return;T&&t!==null&&e.tag===3&&(O=e.stateNode,T=31-ve(c),O=O.hiddenUpdates,e=O[T],e===null?O[T]=[t]:e.push(t),t.lane=c|536870912)}function Ao(e){if(50<Gs)throw Gs=0,ql=null,Error(M(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var $r={},Rh=new WeakMap;function oi(e,t){if(typeof e=="object"&&e!==null){var c=Rh.get(e);return c!==void 0?c:(t={value:e,source:t,stack:z(t)},Rh.set(e,t),t)}return{value:e,source:t,stack:z(t)}}var Dr=[],Or=0,Mo=null,To=0,ai=[],li=0,tr=null,qi=1,Qi="";function ir(e,t){Dr[Or++]=To,Dr[Or++]=Mo,Mo=e,To=t}function kh(e,t,c){ai[li++]=qi,ai[li++]=Qi,ai[li++]=tr,tr=e;var m=qi;e=Qi;var T=32-ve(m)-1;m&=~(1<<T),c+=1;var O=32-ve(t)+T;if(30<O){var W=T-T%5;O=(m&(1<<W)-1).toString(32),m>>=W,T-=W,qi=1<<32-ve(t)+T|c<<T|m,Qi=O+e}else qi=1<<O|c<<T|m,Qi=e}function Va(e){e.return!==null&&(ir(e,1),kh(e,1,0))}function Ga(e){for(;e===Mo;)Mo=Dr[--Or],Dr[Or]=null,To=Dr[--Or],Dr[Or]=null;for(;e===tr;)tr=ai[--li],ai[li]=null,Qi=ai[--li],ai[li]=null,qi=ai[--li],ai[li]=null}var Ut=null,Dt=null,qe=!1,Ai=null,Bi=!1,Ka=Error(M(519));function nr(e){var t=Error(M(418,""));throw Es(oi(t,e)),Ka}function $h(e){var t=e.stateNode,c=e.type,m=e.memoizedProps;switch(t[Mt]=e,t[Nt]=m,c){case"dialog":Ke("cancel",t),Ke("close",t);break;case"iframe":case"object":case"embed":Ke("load",t);break;case"video":case"audio":for(c=0;c<Ys.length;c++)Ke(Ys[c],t);break;case"source":Ke("error",t);break;case"img":case"image":case"link":Ke("error",t),Ke("load",t);break;case"details":Ke("toggle",t);break;case"input":Ke("invalid",t),us(t,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Kn(t);break;case"select":Ke("invalid",t);break;case"textarea":Ke("invalid",t),Yn(t,m.value,m.defaultValue,m.children),Kn(t)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||t.textContent===""+c||m.suppressHydrationWarning===!0||Uf(t.textContent,c)?(m.popover!=null&&(Ke("beforetoggle",t),Ke("toggle",t)),m.onScroll!=null&&Ke("scroll",t),m.onScrollEnd!=null&&Ke("scrollend",t),m.onClick!=null&&(t.onclick=sa),t=!0):t=!1,t||nr(e)}function Dh(e){for(Ut=e.return;Ut;)switch(Ut.tag){case 3:case 27:Bi=!0;return;case 5:case 13:Bi=!1;return;default:Ut=Ut.return}}function ws(e){if(e!==Ut)return!1;if(!qe)return Dh(e),qe=!0,!1;var t=!1,c;if((c=e.tag!==3&&e.tag!==27)&&((c=e.tag===5)&&(c=e.type,c=!(c!=="form"&&c!=="button")||dc(e.type,e.memoizedProps)),c=!c),c&&(t=!0),t&&Dt&&nr(e),Dh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(M(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(c=e.data,c==="/$"){if(t===0){Dt=Ti(e.nextSibling);break e}t--}else c!=="$"&&c!=="$!"&&c!=="$?"||t++;e=e.nextSibling}Dt=null}}else Dt=Ut?Ti(e.stateNode.nextSibling):null;return!0}function Cs(){Dt=Ut=null,qe=!1}function Es(e){Ai===null?Ai=[e]:Ai.push(e)}var As=Error(M(460)),Oh=Error(M(474)),Ya={then:function(){}};function Bh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xo(){}function Nh(e,t,c){switch(c=e[c],c===void 0?e.push(t):c!==t&&(t.then(xo,xo),t=c),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===As?Error(M(483)):e;default:if(typeof t.status=="string")t.then(xo,xo);else{if(e=rt,e!==null&&100<e.shellSuspendCounter)throw Error(M(482));e=t,e.status="pending",e.then(function(m){if(t.status==="pending"){var T=t;T.status="fulfilled",T.value=m}},function(m){if(t.status==="pending"){var T=t;T.status="rejected",T.reason=m}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===As?Error(M(483)):e}throw Ms=t,As}}var Ms=null;function Ih(){if(Ms===null)throw Error(M(459));var e=Ms;return Ms=null,e}var Br=null,Ts=0;function Lo(e){var t=Ts;return Ts+=1,Br===null&&(Br=[]),Nh(Br,e,t)}function xs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ro(e,t){throw t.$$typeof===D?Error(M(525)):(e=Object.prototype.toString.call(t),Error(M(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Hh(e){var t=e._init;return t(e._payload)}function zh(e){function t(oe,re){if(e){var le=oe.deletions;le===null?(oe.deletions=[re],oe.flags|=16):le.push(re)}}function c(oe,re){if(!e)return null;for(;re!==null;)t(oe,re),re=re.sibling;return null}function m(oe){for(var re=new Map;oe!==null;)oe.key!==null?re.set(oe.key,oe):re.set(oe.index,oe),oe=oe.sibling;return re}function T(oe,re){return oe=kn(oe,re),oe.index=0,oe.sibling=null,oe}function O(oe,re,le){return oe.index=le,e?(le=oe.alternate,le!==null?(le=le.index,le<re?(oe.flags|=33554434,re):le):(oe.flags|=33554434,re)):(oe.flags|=1048576,re)}function W(oe){return e&&oe.alternate===null&&(oe.flags|=33554434),oe}function X(oe,re,le,me){return re===null||re.tag!==6?(re=Ul(le,oe.mode,me),re.return=oe,re):(re=T(re,le),re.return=oe,re)}function te(oe,re,le,me){var Ce=le.type;return Ce===h?de(oe,re,le.props.children,me,le.key):re!==null&&(re.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===u&&Hh(Ce)===re.type)?(re=T(re,le.props),xs(re,le),re.return=oe,re):(re=Yo(le.type,le.key,le.props,null,oe.mode,me),xs(re,le),re.return=oe,re)}function se(oe,re,le,me){return re===null||re.tag!==4||re.stateNode.containerInfo!==le.containerInfo||re.stateNode.implementation!==le.implementation?(re=Wl(le,oe.mode,me),re.return=oe,re):(re=T(re,le.children||[]),re.return=oe,re)}function de(oe,re,le,me,Ce){return re===null||re.tag!==7?(re=dr(le,oe.mode,me,Ce),re.return=oe,re):(re=T(re,le),re.return=oe,re)}function _e(oe,re,le){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=Ul(""+re,oe.mode,le),re.return=oe,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case x:return le=Yo(re.type,re.key,re.props,null,oe.mode,le),xs(le,re),le.return=oe,le;case v:return re=Wl(re,oe.mode,le),re.return=oe,re;case u:var me=re._init;return re=me(re._payload),_e(oe,re,le)}if(G(re)||p(re))return re=dr(re,oe.mode,le,null),re.return=oe,re;if(typeof re.then=="function")return _e(oe,Lo(re),le);if(re.$$typeof===n)return _e(oe,Vo(oe,re),le);Ro(oe,re)}return null}function ce(oe,re,le,me){var Ce=re!==null?re.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Ce!==null?null:X(oe,re,""+le,me);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case x:return le.key===Ce?te(oe,re,le,me):null;case v:return le.key===Ce?se(oe,re,le,me):null;case u:return Ce=le._init,le=Ce(le._payload),ce(oe,re,le,me)}if(G(le)||p(le))return Ce!==null?null:de(oe,re,le,me,null);if(typeof le.then=="function")return ce(oe,re,Lo(le),me);if(le.$$typeof===n)return ce(oe,re,Vo(oe,le),me);Ro(oe,le)}return null}function fe(oe,re,le,me,Ce){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return oe=oe.get(le)||null,X(re,oe,""+me,Ce);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case x:return oe=oe.get(me.key===null?le:me.key)||null,te(re,oe,me,Ce);case v:return oe=oe.get(me.key===null?le:me.key)||null,se(re,oe,me,Ce);case u:var Ue=me._init;return me=Ue(me._payload),fe(oe,re,le,me,Ce)}if(G(me)||p(me))return oe=oe.get(le)||null,de(re,oe,me,Ce,null);if(typeof me.then=="function")return fe(oe,re,le,Lo(me),Ce);if(me.$$typeof===n)return fe(oe,re,le,Vo(re,me),Ce);Ro(re,me)}return null}function Ae(oe,re,le,me){for(var Ce=null,Ue=null,xe=re,$e=re=0,Rt=null;xe!==null&&$e<le.length;$e++){xe.index>$e?(Rt=xe,xe=null):Rt=xe.sibling;var Qe=ce(oe,xe,le[$e],me);if(Qe===null){xe===null&&(xe=Rt);break}e&&xe&&Qe.alternate===null&&t(oe,xe),re=O(Qe,re,$e),Ue===null?Ce=Qe:Ue.sibling=Qe,Ue=Qe,xe=Rt}if($e===le.length)return c(oe,xe),qe&&ir(oe,$e),Ce;if(xe===null){for(;$e<le.length;$e++)xe=_e(oe,le[$e],me),xe!==null&&(re=O(xe,re,$e),Ue===null?Ce=xe:Ue.sibling=xe,Ue=xe);return qe&&ir(oe,$e),Ce}for(xe=m(xe);$e<le.length;$e++)Rt=fe(xe,oe,$e,le[$e],me),Rt!==null&&(e&&Rt.alternate!==null&&xe.delete(Rt.key===null?$e:Rt.key),re=O(Rt,re,$e),Ue===null?Ce=Rt:Ue.sibling=Rt,Ue=Rt);return e&&xe.forEach(function(Hn){return t(oe,Hn)}),qe&&ir(oe,$e),Ce}function Oe(oe,re,le,me){if(le==null)throw Error(M(151));for(var Ce=null,Ue=null,xe=re,$e=re=0,Rt=null,Qe=le.next();xe!==null&&!Qe.done;$e++,Qe=le.next()){xe.index>$e?(Rt=xe,xe=null):Rt=xe.sibling;var Hn=ce(oe,xe,Qe.value,me);if(Hn===null){xe===null&&(xe=Rt);break}e&&xe&&Hn.alternate===null&&t(oe,xe),re=O(Hn,re,$e),Ue===null?Ce=Hn:Ue.sibling=Hn,Ue=Hn,xe=Rt}if(Qe.done)return c(oe,xe),qe&&ir(oe,$e),Ce;if(xe===null){for(;!Qe.done;$e++,Qe=le.next())Qe=_e(oe,Qe.value,me),Qe!==null&&(re=O(Qe,re,$e),Ue===null?Ce=Qe:Ue.sibling=Qe,Ue=Qe);return qe&&ir(oe,$e),Ce}for(xe=m(xe);!Qe.done;$e++,Qe=le.next())Qe=fe(xe,oe,$e,Qe.value,me),Qe!==null&&(e&&Qe.alternate!==null&&xe.delete(Qe.key===null?$e:Qe.key),re=O(Qe,re,$e),Ue===null?Ce=Qe:Ue.sibling=Qe,Ue=Qe);return e&&xe.forEach(function(ev){return t(oe,ev)}),qe&&ir(oe,$e),Ce}function gt(oe,re,le,me){if(typeof le=="object"&&le!==null&&le.type===h&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case x:e:{for(var Ce=le.key;re!==null;){if(re.key===Ce){if(Ce=le.type,Ce===h){if(re.tag===7){c(oe,re.sibling),me=T(re,le.props.children),me.return=oe,oe=me;break e}}else if(re.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===u&&Hh(Ce)===re.type){c(oe,re.sibling),me=T(re,le.props),xs(me,le),me.return=oe,oe=me;break e}c(oe,re);break}else t(oe,re);re=re.sibling}le.type===h?(me=dr(le.props.children,oe.mode,me,le.key),me.return=oe,oe=me):(me=Yo(le.type,le.key,le.props,null,oe.mode,me),xs(me,le),me.return=oe,oe=me)}return W(oe);case v:e:{for(Ce=le.key;re!==null;){if(re.key===Ce)if(re.tag===4&&re.stateNode.containerInfo===le.containerInfo&&re.stateNode.implementation===le.implementation){c(oe,re.sibling),me=T(re,le.children||[]),me.return=oe,oe=me;break e}else{c(oe,re);break}else t(oe,re);re=re.sibling}me=Wl(le,oe.mode,me),me.return=oe,oe=me}return W(oe);case u:return Ce=le._init,le=Ce(le._payload),gt(oe,re,le,me)}if(G(le))return Ae(oe,re,le,me);if(p(le)){if(Ce=p(le),typeof Ce!="function")throw Error(M(150));return le=Ce.call(le),Oe(oe,re,le,me)}if(typeof le.then=="function")return gt(oe,re,Lo(le),me);if(le.$$typeof===n)return gt(oe,re,Vo(oe,le),me);Ro(oe,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,re!==null&&re.tag===6?(c(oe,re.sibling),me=T(re,le),me.return=oe,oe=me):(c(oe,re),me=Ul(le,oe.mode,me),me.return=oe,oe=me),W(oe)):c(oe,re)}return function(oe,re,le,me){try{Ts=0;var Ce=gt(oe,re,le,me);return Br=null,Ce}catch(xe){if(xe===As)throw xe;var Ue=fi(29,xe,null,oe.mode);return Ue.lanes=me,Ue.return=oe,Ue}finally{}}}var rr=zh(!0),Fh=zh(!1),Nr=U(null),ko=U(0);function Ph(e,t){e=cn,ee(ko,e),ee(Nr,t),cn=e|t.baseLanes}function Xa(){ee(ko,cn),ee(Nr,Nr.current)}function qa(){cn=ko.current,ie(Nr),ie(ko)}var ci=U(null),Ni=null;function bn(e){var t=e.alternate;ee(wt,wt.current&1),ee(ci,e),Ni===null&&(t===null||Nr.current!==null||t.memoizedState!==null)&&(Ni=e)}function Uh(e){if(e.tag===22){if(ee(wt,wt.current),ee(ci,e),Ni===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Ni=e)}}else Sn()}function Sn(){ee(wt,wt.current),ee(ci,ci.current)}function Zi(e){ie(ci),Ni===e&&(Ni=null),ie(wt)}var wt=U(0);function $o(e){for(var t=e;t!==null;){if(t.tag===13){var c=t.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(c,m){e.push(m)}};this.abort=function(){t.aborted=!0,e.forEach(function(c){return c()})}},Up=j.unstable_scheduleCallback,Wp=j.unstable_NormalPriority,Ct={$$typeof:n,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qa(){return{controller:new Pp,data:new Map,refCount:0}}function Ls(e){e.refCount--,e.refCount===0&&Up(Wp,function(){e.controller.abort()})}var Rs=null,Za=0,Ir=0,Hr=null;function jp(e,t){if(Rs===null){var c=Rs=[];Za=0,Ir=rc(),Hr={status:"pending",value:void 0,then:function(m){c.push(m)}}}return Za++,t.then(Wh,Wh),t}function Wh(){if(--Za===0&&Rs!==null){Hr!==null&&(Hr.status="fulfilled");var e=Rs;Rs=null,Ir=0,Hr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Vp(e,t){var c=[],m={status:"pending",value:null,reason:null,then:function(T){c.push(T)}};return e.then(function(){m.status="fulfilled",m.value=t;for(var T=0;T<c.length;T++)(0,c[T])(t)},function(T){for(m.status="rejected",m.reason=T,T=0;T<c.length;T++)(0,c[T])(void 0)}),m}var jh=w.S;w.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&jp(e,t),jh!==null&&jh(e,t)};var sr=U(null);function Ja(){var e=sr.current;return e!==null?e:rt.pooledCache}function Do(e,t){t===null?ee(sr,sr.current):ee(sr,t.pool)}function Vh(){var e=Ja();return e===null?null:{parent:Ct._currentValue,pool:e}}var wn=0,Fe=null,et=null,_t=null,Oo=!1,zr=!1,or=!1,Bo=0,ks=0,Fr=null,Gp=0;function vt(){throw Error(M(321))}function el(e,t){if(t===null)return!1;for(var c=0;c<t.length&&c<e.length;c++)if(!Zt(e[c],t[c]))return!1;return!0}function tl(e,t,c,m,T,O){return wn=O,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,w.H=e===null||e.memoizedState===null?ar:Cn,or=!1,O=c(m,T),or=!1,zr&&(O=Kh(t,c,m,T)),Gh(e),O}function Gh(e){w.H=Ii;var t=et!==null&&et.next!==null;if(wn=0,_t=et=Fe=null,Oo=!1,ks=0,Fr=null,t)throw Error(M(300));e===null||xt||(e=e.dependencies,e!==null&&jo(e)&&(xt=!0))}function Kh(e,t,c,m){Fe=e;var T=0;do{if(zr&&(Fr=null),ks=0,zr=!1,25<=T)throw Error(M(301));if(T+=1,_t=et=null,e.updateQueue!=null){var O=e.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}w.H=lr,O=t(c,m)}while(zr);return O}function Kp(){var e=w.H,t=e.useState()[0];return t=typeof t.then=="function"?$s(t):t,e=e.useState()[0],(et!==null?et.memoizedState:null)!==e&&(Fe.flags|=1024),t}function il(){var e=Bo!==0;return Bo=0,e}function nl(e,t,c){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c}function rl(e){if(Oo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Oo=!1}wn=0,_t=et=Fe=null,zr=!1,ks=Bo=0,Fr=null}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Fe.memoizedState=_t=e:_t=_t.next=e,_t}function yt(){if(et===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var t=_t===null?Fe.memoizedState:_t.next;if(t!==null)_t=t,et=e;else{if(e===null)throw Fe.alternate===null?Error(M(467)):Error(M(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},_t===null?Fe.memoizedState=_t=e:_t=_t.next=e}return _t}var No;No=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function $s(e){var t=ks;return ks+=1,Fr===null&&(Fr=[]),e=Nh(Fr,e,t),t=Fe,(_t===null?t.memoizedState:_t.next)===null&&(t=t.alternate,w.H=t===null||t.memoizedState===null?ar:Cn),e}function Io(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $s(e);if(e.$$typeof===n)return zt(e)}throw Error(M(438,String(e)))}function sl(e){var t=null,c=Fe.updateQueue;if(c!==null&&(t=c.memoCache),t==null){var m=Fe.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(t={data:m.data.map(function(T){return T.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),c===null&&(c=No(),Fe.updateQueue=c),c.memoCache=t,c=t.data[t.index],c===void 0)for(c=t.data[t.index]=Array(e),m=0;m<e;m++)c[m]=y;return t.index++,c}function Ji(e,t){return typeof t=="function"?t(e):t}function Ho(e){var t=yt();return ol(t,et,e)}function ol(e,t,c){var m=e.queue;if(m===null)throw Error(M(311));m.lastRenderedReducer=c;var T=e.baseQueue,O=m.pending;if(O!==null){if(T!==null){var W=T.next;T.next=O.next,O.next=W}t.baseQueue=T=O,m.pending=null}if(O=e.baseState,T===null)e.memoizedState=O;else{t=T.next;var X=W=null,te=null,se=t,de=!1;do{var _e=se.lane&-536870913;if(_e!==se.lane?(Xe&_e)===_e:(wn&_e)===_e){var ce=se.revertLane;if(ce===0)te!==null&&(te=te.next={lane:0,revertLane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),_e===Ir&&(de=!0);else if((wn&ce)===ce){se=se.next,ce===Ir&&(de=!0);continue}else _e={lane:0,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},te===null?(X=te=_e,W=O):te=te.next=_e,Fe.lanes|=ce,$n|=ce;_e=se.action,or&&c(O,_e),O=se.hasEagerState?se.eagerState:c(O,_e)}else ce={lane:_e,revertLane:se.revertLane,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},te===null?(X=te=ce,W=O):te=te.next=ce,Fe.lanes|=_e,$n|=_e;se=se.next}while(se!==null&&se!==t);if(te===null?W=O:te.next=X,!Zt(O,e.memoizedState)&&(xt=!0,de&&(c=Hr,c!==null)))throw c;e.memoizedState=O,e.baseState=W,e.baseQueue=te,m.lastRenderedState=O}return T===null&&(m.lanes=0),[e.memoizedState,m.dispatch]}function al(e){var t=yt(),c=t.queue;if(c===null)throw Error(M(311));c.lastRenderedReducer=e;var m=c.dispatch,T=c.pending,O=t.memoizedState;if(T!==null){c.pending=null;var W=T=T.next;do O=e(O,W.action),W=W.next;while(W!==T);Zt(O,t.memoizedState)||(xt=!0),t.memoizedState=O,t.baseQueue===null&&(t.baseState=O),c.lastRenderedState=O}return[O,m]}function Yh(e,t,c){var m=Fe,T=yt(),O=qe;if(O){if(c===void 0)throw Error(M(407));c=c()}else c=t();var W=!Zt((et||T).memoizedState,c);if(W&&(T.memoizedState=c,xt=!0),T=T.queue,hl(Qh.bind(null,m,T,e),[e]),T.getSnapshot!==t||W||_t!==null&&_t.memoizedState.tag&1){if(m.flags|=2048,Pr(9,qh.bind(null,m,T,c,t),{destroy:void 0},null),rt===null)throw Error(M(349));O||(wn&60)!==0||Xh(m,t,c)}return c}function Xh(e,t,c){e.flags|=16384,e={getSnapshot:t,value:c},t=Fe.updateQueue,t===null?(t=No(),Fe.updateQueue=t,t.stores=[e]):(c=t.stores,c===null?t.stores=[e]:c.push(e))}function qh(e,t,c,m){t.value=c,t.getSnapshot=m,Zh(t)&&Jh(e)}function Qh(e,t,c){return c(function(){Zh(t)&&Jh(e)})}function Zh(e){var t=e.getSnapshot;e=e.value;try{var c=t();return!Zt(e,c)}catch{return!0}}function Jh(e){var t=yn(e,2);t!==null&&Wt(t,e,2)}function ll(e){var t=Yt();if(typeof e=="function"){var c=e;if(e=c(),or){ae(!0);try{c()}finally{ae(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},t}function eu(e,t,c,m){return e.baseState=c,ol(e,et,typeof m=="function"?m:Ji)}function Yp(e,t,c,m,T){if(Po(e))throw Error(M(485));if(e=t.action,e!==null){var O={payload:T,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){O.listeners.push(W)}};w.T!==null?c(!0):O.isTransition=!1,m(O),c=t.pending,c===null?(O.next=t.pending=O,tu(t,O)):(O.next=c.next,t.pending=c.next=O)}}function tu(e,t){var c=t.action,m=t.payload,T=e.state;if(t.isTransition){var O=w.T,W={};w.T=W;try{var X=c(T,m),te=w.S;te!==null&&te(W,X),iu(e,t,X)}catch(se){cl(e,t,se)}finally{w.T=O}}else try{O=c(T,m),iu(e,t,O)}catch(se){cl(e,t,se)}}function iu(e,t,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){nu(e,t,m)},function(m){return cl(e,t,m)}):nu(e,t,c)}function nu(e,t,c){t.status="fulfilled",t.value=c,ru(t),e.state=c,t=e.pending,t!==null&&(c=t.next,c===t?e.pending=null:(c=c.next,t.next=c,tu(e,c)))}function cl(e,t,c){var m=e.pending;if(e.pending=null,m!==null){m=m.next;do t.status="rejected",t.reason=c,ru(t),t=t.next;while(t!==m)}e.action=null}function ru(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function su(e,t){return t}function ou(e,t){if(qe){var c=rt.formState;if(c!==null){e:{var m=Fe;if(qe){if(Dt){t:{for(var T=Dt,O=Bi;T.nodeType!==8;){if(!O){T=null;break t}if(T=Ti(T.nextSibling),T===null){T=null;break t}}O=T.data,T=O==="F!"||O==="F"?T:null}if(T){Dt=Ti(T.nextSibling),m=T.data==="F!";break e}}nr(m)}m=!1}m&&(t=c[0])}}return c=Yt(),c.memoizedState=c.baseState=t,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:su,lastRenderedState:t},c.queue=m,c=Eu.bind(null,Fe,m),m.dispatch=c,m=ll(!1),O=gl.bind(null,Fe,!1,m.queue),m=Yt(),T={state:t,dispatch:null,action:e,pending:null},m.queue=T,c=Yp.bind(null,Fe,T,O,c),T.dispatch=c,m.memoizedState=e,[t,c,!1]}function au(e){var t=yt();return lu(t,et,e)}function lu(e,t,c){t=ol(e,t,su)[0],e=Ho(Ji)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?$s(t):t;var m=yt(),T=m.queue,O=T.dispatch;return c!==m.memoizedState&&(Fe.flags|=2048,Pr(9,Xp.bind(null,T,c),{destroy:void 0},null)),[t,O,e]}function Xp(e,t){e.action=t}function cu(e){var t=yt(),c=et;if(c!==null)return lu(t,c,e);yt(),t=t.memoizedState,c=yt();var m=c.queue.dispatch;return c.memoizedState=e,[t,m,!1]}function Pr(e,t,c,m){return e={tag:e,create:t,inst:c,deps:m,next:null},t=Fe.updateQueue,t===null&&(t=No(),Fe.updateQueue=t),c=t.lastEffect,c===null?t.lastEffect=e.next=e:(m=c.next,c.next=e,e.next=m,t.lastEffect=e),e}function hu(){return yt().memoizedState}function zo(e,t,c,m){var T=Yt();Fe.flags|=e,T.memoizedState=Pr(1|t,c,{destroy:void 0},m===void 0?null:m)}function Fo(e,t,c,m){var T=yt();m=m===void 0?null:m;var O=T.memoizedState.inst;et!==null&&m!==null&&el(m,et.memoizedState.deps)?T.memoizedState=Pr(t,c,O,m):(Fe.flags|=e,T.memoizedState=Pr(1|t,c,O,m))}function uu(e,t){zo(8390656,8,e,t)}function hl(e,t){Fo(2048,8,e,t)}function fu(e,t){return Fo(4,2,e,t)}function du(e,t){return Fo(4,4,e,t)}function pu(e,t){if(typeof t=="function"){e=e();var c=t(e);return function(){typeof c=="function"?c():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gu(e,t,c){c=c!=null?c.concat([e]):null,Fo(4,4,pu.bind(null,t,e),c)}function ul(){}function vu(e,t){var c=yt();t=t===void 0?null:t;var m=c.memoizedState;return t!==null&&el(t,m[1])?m[0]:(c.memoizedState=[e,t],e)}function mu(e,t){var c=yt();t=t===void 0?null:t;var m=c.memoizedState;if(t!==null&&el(t,m[1]))return m[0];if(m=e(),or){ae(!0);try{e()}finally{ae(!1)}}return c.memoizedState=[m,t],m}function fl(e,t,c){return c===void 0||(wn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=c,e=bf(),Fe.lanes|=e,$n|=e,c)}function _u(e,t,c,m){return Zt(c,t)?c:Nr.current!==null?(e=fl(e,c,m),Zt(e,t)||(xt=!0),e):(wn&42)===0?(xt=!0,e.memoizedState=c):(e=bf(),Fe.lanes|=e,$n|=e,t)}function yu(e,t,c,m,T){var O=Y.p;Y.p=O!==0&&8>O?O:8;var W=w.T,X={};w.T=X,gl(e,!1,t,c);try{var te=T(),se=w.S;if(se!==null&&se(X,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var de=Vp(te,m);Ds(e,t,de,ii(e))}else Ds(e,t,m,ii(e))}catch(_e){Ds(e,t,{then:function(){},status:"rejected",reason:_e},ii())}finally{Y.p=O,w.T=W}}function qp(){}function dl(e,t,c,m){if(e.tag!==5)throw Error(M(476));var T=bu(e).queue;yu(e,T,t,q,c===null?qp:function(){return Su(e),c(m)})}function bu(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:q},next:null};var c={};return t.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:c},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Su(e){var t=bu(e).next.queue;Ds(e,t,{},ii())}function pl(){return zt(Js)}function wu(){return yt().memoizedState}function Cu(){return yt().memoizedState}function Qp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var c=ii();e=Mn(c);var m=Tn(t,e,c);m!==null&&(Wt(m,t,c),Ns(m,t,c)),t={cache:Qa()},e.payload=t;return}t=t.return}}function Zp(e,t,c){var m=ii();c={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Po(e)?Au(t,c):(c=ja(e,t,c,m),c!==null&&(Wt(c,e,m),Mu(c,t,m)))}function Eu(e,t,c){var m=ii();Ds(e,t,c,m)}function Ds(e,t,c,m){var T={lane:m,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Po(e))Au(t,T);else{var O=e.alternate;if(e.lanes===0&&(O===null||O.lanes===0)&&(O=t.lastRenderedReducer,O!==null))try{var W=t.lastRenderedState,X=O(W,c);if(T.hasEagerState=!0,T.eagerState=X,Zt(X,W))return Eo(e,t,T,0),rt===null&&Co(),!1}catch{}finally{}if(c=ja(e,t,T,m),c!==null)return Wt(c,e,m),Mu(c,t,m),!0}return!1}function gl(e,t,c,m){if(m={lane:2,revertLane:rc(),action:m,hasEagerState:!1,eagerState:null,next:null},Po(e)){if(t)throw Error(M(479))}else t=ja(e,c,m,2),t!==null&&Wt(t,e,2)}function Po(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function Au(e,t){zr=Oo=!0;var c=e.pending;c===null?t.next=t:(t.next=c.next,c.next=t),e.pending=t}function Mu(e,t,c){if((c&4194176)!==0){var m=t.lanes;m&=e.pendingLanes,c|=m,t.lanes=c,uo(e,c)}}var Ii={readContext:zt,use:Io,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useLayoutEffect:vt,useInsertionEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useSyncExternalStore:vt,useId:vt};Ii.useCacheRefresh=vt,Ii.useMemoCache=vt,Ii.useHostTransitionStatus=vt,Ii.useFormState=vt,Ii.useActionState=vt,Ii.useOptimistic=vt;var ar={readContext:zt,use:Io,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:uu,useImperativeHandle:function(e,t,c){c=c!=null?c.concat([e]):null,zo(4194308,4,pu.bind(null,t,e),c)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){zo(4,2,e,t)},useMemo:function(e,t){var c=Yt();t=t===void 0?null:t;var m=e();if(or){ae(!0);try{e()}finally{ae(!1)}}return c.memoizedState=[m,t],m},useReducer:function(e,t,c){var m=Yt();if(c!==void 0){var T=c(t);if(or){ae(!0);try{c(t)}finally{ae(!1)}}}else T=t;return m.memoizedState=m.baseState=T,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:T},m.queue=e,e=e.dispatch=Zp.bind(null,Fe,e),[m.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:function(e){e=ll(e);var t=e.queue,c=Eu.bind(null,Fe,t);return t.dispatch=c,[e.memoizedState,c]},useDebugValue:ul,useDeferredValue:function(e,t){var c=Yt();return fl(c,e,t)},useTransition:function(){var e=ll(!1);return e=yu.bind(null,Fe,e.queue,!0,!1),Yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,c){var m=Fe,T=Yt();if(qe){if(c===void 0)throw Error(M(407));c=c()}else{if(c=t(),rt===null)throw Error(M(349));(Xe&60)!==0||Xh(m,t,c)}T.memoizedState=c;var O={value:c,getSnapshot:t};return T.queue=O,uu(Qh.bind(null,m,O,e),[e]),m.flags|=2048,Pr(9,qh.bind(null,m,O,c,t),{destroy:void 0},null),c},useId:function(){var e=Yt(),t=rt.identifierPrefix;if(qe){var c=Qi,m=qi;c=(m&~(1<<32-ve(m)-1)).toString(32)+c,t=":"+t+"R"+c,c=Bo++,0<c&&(t+="H"+c.toString(32)),t+=":"}else c=Gp++,t=":"+t+"r"+c.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return Yt().memoizedState=Qp.bind(null,Fe)}};ar.useMemoCache=sl,ar.useHostTransitionStatus=pl,ar.useFormState=ou,ar.useActionState=ou,ar.useOptimistic=function(e){var t=Yt();t.memoizedState=t.baseState=e;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=c,t=gl.bind(null,Fe,!0,c),c.dispatch=t,[e,t]};var Cn={readContext:zt,use:Io,useCallback:vu,useContext:zt,useEffect:hl,useImperativeHandle:gu,useInsertionEffect:fu,useLayoutEffect:du,useMemo:mu,useReducer:Ho,useRef:hu,useState:function(){return Ho(Ji)},useDebugValue:ul,useDeferredValue:function(e,t){var c=yt();return _u(c,et.memoizedState,e,t)},useTransition:function(){var e=Ho(Ji)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:$s(e),t]},useSyncExternalStore:Yh,useId:wu};Cn.useCacheRefresh=Cu,Cn.useMemoCache=sl,Cn.useHostTransitionStatus=pl,Cn.useFormState=au,Cn.useActionState=au,Cn.useOptimistic=function(e,t){var c=yt();return eu(c,et,e,t)};var lr={readContext:zt,use:Io,useCallback:vu,useContext:zt,useEffect:hl,useImperativeHandle:gu,useInsertionEffect:fu,useLayoutEffect:du,useMemo:mu,useReducer:al,useRef:hu,useState:function(){return al(Ji)},useDebugValue:ul,useDeferredValue:function(e,t){var c=yt();return et===null?fl(c,e,t):_u(c,et.memoizedState,e,t)},useTransition:function(){var e=al(Ji)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:$s(e),t]},useSyncExternalStore:Yh,useId:wu};lr.useCacheRefresh=Cu,lr.useMemoCache=sl,lr.useHostTransitionStatus=pl,lr.useFormState=cu,lr.useActionState=cu,lr.useOptimistic=function(e,t){var c=yt();return et!==null?eu(c,et,e,t):(c.baseState=e,[e,c.queue.dispatch])};function vl(e,t,c,m){t=e.memoizedState,c=c(m,t),c=c==null?t:R({},t,c),e.memoizedState=c,e.lanes===0&&(e.updateQueue.baseState=c)}var ml={isMounted:function(e){return(e=e._reactInternals)?F(e)===e:!1},enqueueSetState:function(e,t,c){e=e._reactInternals;var m=ii(),T=Mn(m);T.payload=t,c!=null&&(T.callback=c),t=Tn(e,T,m),t!==null&&(Wt(t,e,m),Ns(t,e,m))},enqueueReplaceState:function(e,t,c){e=e._reactInternals;var m=ii(),T=Mn(m);T.tag=1,T.payload=t,c!=null&&(T.callback=c),t=Tn(e,T,m),t!==null&&(Wt(t,e,m),Ns(t,e,m))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var c=ii(),m=Mn(c);m.tag=2,t!=null&&(m.callback=t),t=Tn(e,m,c),t!==null&&(Wt(t,e,c),Ns(t,e,c))}};function Tu(e,t,c,m,T,O,W){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(m,O,W):t.prototype&&t.prototype.isPureReactComponent?!bs(c,m)||!bs(T,O):!0}function xu(e,t,c,m){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(c,m),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(c,m),t.state!==e&&ml.enqueueReplaceState(t,t.state,null)}function cr(e,t){var c=t;if("ref"in t){c={};for(var m in t)m!=="ref"&&(c[m]=t[m])}if(e=e.defaultProps){c===t&&(c=R({},c));for(var T in e)c[T]===void 0&&(c[T]=e[T])}return c}var Uo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Lu(e){Uo(e)}function Ru(e){console.error(e)}function ku(e){Uo(e)}function Wo(e,t){try{var c=e.onUncaughtError;c(t.value,{componentStack:t.stack})}catch(m){setTimeout(function(){throw m})}}function $u(e,t,c){try{var m=e.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function _l(e,t,c){return c=Mn(c),c.tag=3,c.payload={element:null},c.callback=function(){Wo(e,t)},c}function Du(e){return e=Mn(e),e.tag=3,e}function Ou(e,t,c,m){var T=c.type.getDerivedStateFromError;if(typeof T=="function"){var O=m.value;e.payload=function(){return T(O)},e.callback=function(){$u(t,c,m)}}var W=c.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(e.callback=function(){$u(t,c,m),typeof T!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var X=m.stack;this.componentDidCatch(m.value,{componentStack:X!==null?X:""})})}function Jp(e,t,c,m,T){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(t=c.alternate,t!==null&&Bs(t,c,T,!0),c=ci.current,c!==null){switch(c.tag){case 13:return Ni===null?Jl():c.alternate===null&&pt===0&&(pt=3),c.flags&=-257,c.flags|=65536,c.lanes=T,m===Ya?c.flags|=16384:(t=c.updateQueue,t===null?c.updateQueue=new Set([m]):t.add(m),tc(e,m,T)),!1;case 22:return c.flags|=65536,m===Ya?c.flags|=16384:(t=c.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=t):(c=t.retryQueue,c===null?t.retryQueue=new Set([m]):c.add(m)),tc(e,m,T)),!1}throw Error(M(435,c.tag))}return tc(e,m,T),Jl(),!1}if(qe)return t=ci.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=T,m!==Ka&&(e=Error(M(422),{cause:m}),Es(oi(e,c)))):(m!==Ka&&(t=Error(M(423),{cause:m}),Es(oi(t,c))),e=e.current.alternate,e.flags|=65536,T&=-T,e.lanes|=T,m=oi(m,c),T=_l(e.stateNode,m,T),Dl(e,T),pt!==4&&(pt=2)),!1;var O=Error(M(520),{cause:m});if(O=oi(O,c),js===null?js=[O]:js.push(O),pt!==4&&(pt=2),t===null)return!0;m=oi(m,c),c=t;do{switch(c.tag){case 3:return c.flags|=65536,e=T&-T,c.lanes|=e,e=_l(c.stateNode,m,e),Dl(c,e),!1;case 1:if(t=c.type,O=c.stateNode,(c.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Dn===null||!Dn.has(O))))return c.flags|=65536,T&=-T,c.lanes|=T,T=Du(T),Ou(T,e,c,m),Dl(c,T),!1}c=c.return}while(c!==null);return!1}var Bu=Error(M(461)),xt=!1;function Ot(e,t,c,m){t.child=e===null?Fh(t,null,c,m):rr(t,e.child,c,m)}function Nu(e,t,c,m,T){c=c.render;var O=t.ref;if("ref"in m){var W={};for(var X in m)X!=="ref"&&(W[X]=m[X])}else W=m;return ur(t),m=tl(e,t,c,W,O,T),X=il(),e!==null&&!xt?(nl(e,t,T),en(e,t,T)):(qe&&X&&Va(t),t.flags|=1,Ot(e,t,m,T),t.child)}function Iu(e,t,c,m,T){if(e===null){var O=c.type;return typeof O=="function"&&!Pl(O)&&O.defaultProps===void 0&&c.compare===null?(t.tag=15,t.type=O,Hu(e,t,O,m,T)):(e=Yo(c.type,null,m,t,t.mode,T),e.ref=t.ref,e.return=t,t.child=e)}if(O=e.child,!Tl(e,T)){var W=O.memoizedProps;if(c=c.compare,c=c!==null?c:bs,c(W,m)&&e.ref===t.ref)return en(e,t,T)}return t.flags|=1,e=kn(O,m),e.ref=t.ref,e.return=t,t.child=e}function Hu(e,t,c,m,T){if(e!==null){var O=e.memoizedProps;if(bs(O,m)&&e.ref===t.ref)if(xt=!1,t.pendingProps=m=O,Tl(e,T))(e.flags&131072)!==0&&(xt=!0);else return t.lanes=e.lanes,en(e,t,T)}return yl(e,t,c,m,T)}function zu(e,t,c){var m=t.pendingProps,T=m.children,O=(t.stateNode._pendingVisibility&2)!==0,W=e!==null?e.memoizedState:null;if(Os(e,t),m.mode==="hidden"||O){if((t.flags&128)!==0){if(m=W!==null?W.baseLanes|c:c,e!==null){for(T=t.child=e.child,O=0;T!==null;)O=O|T.lanes|T.childLanes,T=T.sibling;t.childLanes=O&~m}else t.childLanes=0,t.child=null;return Fu(e,t,m,c)}if((c&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Do(t,W!==null?W.cachePool:null),W!==null?Ph(t,W):Xa(),Uh(t);else return t.lanes=t.childLanes=536870912,Fu(e,t,W!==null?W.baseLanes|c:c,c)}else W!==null?(Do(t,W.cachePool),Ph(t,W),Sn(),t.memoizedState=null):(e!==null&&Do(t,null),Xa(),Sn());return Ot(e,t,T,c),t.child}function Fu(e,t,c,m){var T=Ja();return T=T===null?null:{parent:Ct._currentValue,pool:T},t.memoizedState={baseLanes:c,cachePool:T},e!==null&&Do(t,null),Xa(),Uh(t),e!==null&&Bs(e,t,m,!0),null}function Os(e,t){var c=t.ref;if(c===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof c!="function"&&typeof c!="object")throw Error(M(284));(e===null||e.ref!==c)&&(t.flags|=2097664)}}function yl(e,t,c,m,T){return ur(t),c=tl(e,t,c,m,void 0,T),m=il(),e!==null&&!xt?(nl(e,t,T),en(e,t,T)):(qe&&m&&Va(t),t.flags|=1,Ot(e,t,c,T),t.child)}function Pu(e,t,c,m,T,O){return ur(t),t.updateQueue=null,c=Kh(t,m,c,T),Gh(e),m=il(),e!==null&&!xt?(nl(e,t,O),en(e,t,O)):(qe&&m&&Va(t),t.flags|=1,Ot(e,t,c,O),t.child)}function Uu(e,t,c,m,T){if(ur(t),t.stateNode===null){var O=$r,W=c.contextType;typeof W=="object"&&W!==null&&(O=zt(W)),O=new c(m,O),t.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=ml,t.stateNode=O,O._reactInternals=t,O=t.stateNode,O.props=m,O.state=t.memoizedState,O.refs={},kl(t),W=c.contextType,O.context=typeof W=="object"&&W!==null?zt(W):$r,O.state=t.memoizedState,W=c.getDerivedStateFromProps,typeof W=="function"&&(vl(t,c,W,m),O.state=t.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(W=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),W!==O.state&&ml.enqueueReplaceState(O,O.state,null),Hs(t,m,O,T),Is(),O.state=t.memoizedState),typeof O.componentDidMount=="function"&&(t.flags|=4194308),m=!0}else if(e===null){O=t.stateNode;var X=t.memoizedProps,te=cr(c,X);O.props=te;var se=O.context,de=c.contextType;W=$r,typeof de=="object"&&de!==null&&(W=zt(de));var _e=c.getDerivedStateFromProps;de=typeof _e=="function"||typeof O.getSnapshotBeforeUpdate=="function",X=t.pendingProps!==X,de||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(X||se!==W)&&xu(t,O,m,W),An=!1;var ce=t.memoizedState;O.state=ce,Hs(t,m,O,T),Is(),se=t.memoizedState,X||ce!==se||An?(typeof _e=="function"&&(vl(t,c,_e,m),se=t.memoizedState),(te=An||Tu(t,c,te,m,ce,se,W))?(de||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(t.flags|=4194308)):(typeof O.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=m,t.memoizedState=se),O.props=m,O.state=se,O.context=W,m=te):(typeof O.componentDidMount=="function"&&(t.flags|=4194308),m=!1)}else{O=t.stateNode,$l(e,t),W=t.memoizedProps,de=cr(c,W),O.props=de,_e=t.pendingProps,ce=O.context,se=c.contextType,te=$r,typeof se=="object"&&se!==null&&(te=zt(se)),X=c.getDerivedStateFromProps,(se=typeof X=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(W!==_e||ce!==te)&&xu(t,O,m,te),An=!1,ce=t.memoizedState,O.state=ce,Hs(t,m,O,T),Is();var fe=t.memoizedState;W!==_e||ce!==fe||An||e!==null&&e.dependencies!==null&&jo(e.dependencies)?(typeof X=="function"&&(vl(t,c,X,m),fe=t.memoizedState),(de=An||Tu(t,c,de,m,ce,fe,te)||e!==null&&e.dependencies!==null&&jo(e.dependencies))?(se||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(m,fe,te),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(m,fe,te)),typeof O.componentDidUpdate=="function"&&(t.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof O.componentDidUpdate!="function"||W===e.memoizedProps&&ce===e.memoizedState||(t.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===e.memoizedProps&&ce===e.memoizedState||(t.flags|=1024),t.memoizedProps=m,t.memoizedState=fe),O.props=m,O.state=fe,O.context=te,m=de):(typeof O.componentDidUpdate!="function"||W===e.memoizedProps&&ce===e.memoizedState||(t.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===e.memoizedProps&&ce===e.memoizedState||(t.flags|=1024),m=!1)}return O=m,Os(e,t),m=(t.flags&128)!==0,O||m?(O=t.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:O.render(),t.flags|=1,e!==null&&m?(t.child=rr(t,e.child,null,T),t.child=rr(t,null,c,T)):Ot(e,t,c,T),t.memoizedState=O.state,e=t.child):e=en(e,t,T),e}function Wu(e,t,c,m){return Cs(),t.flags|=256,Ot(e,t,c,m),t.child}var bl={dehydrated:null,treeContext:null,retryLane:0};function Sl(e){return{baseLanes:e,cachePool:Vh()}}function wl(e,t,c){return e=e!==null?e.childLanes&~c:0,t&&(e|=di),e}function ju(e,t,c){var m=t.pendingProps,T=!1,O=(t.flags&128)!==0,W;if((W=O)||(W=e!==null&&e.memoizedState===null?!1:(wt.current&2)!==0),W&&(T=!0,t.flags&=-129),W=(t.flags&32)!==0,t.flags&=-33,e===null){if(qe){if(T?bn(t):Sn(),qe){var X=Dt,te;if(te=X){e:{for(te=X,X=Bi;te.nodeType!==8;){if(!X){X=null;break e}if(te=Ti(te.nextSibling),te===null){X=null;break e}}X=te}X!==null?(t.memoizedState={dehydrated:X,treeContext:tr!==null?{id:qi,overflow:Qi}:null,retryLane:536870912},te=fi(18,null,null,0),te.stateNode=X,te.return=t,t.child=te,Ut=t,Dt=null,te=!0):te=!1}te||nr(t)}if(X=t.memoizedState,X!==null&&(X=X.dehydrated,X!==null))return X.data==="$!"?t.lanes=16:t.lanes=536870912,null;Zi(t)}return X=m.children,m=m.fallback,T?(Sn(),T=t.mode,X=El({mode:"hidden",children:X},T),m=dr(m,T,c,null),X.return=t,m.return=t,X.sibling=m,t.child=X,T=t.child,T.memoizedState=Sl(c),T.childLanes=wl(e,W,c),t.memoizedState=bl,m):(bn(t),Cl(t,X))}if(te=e.memoizedState,te!==null&&(X=te.dehydrated,X!==null)){if(O)t.flags&256?(bn(t),t.flags&=-257,t=Al(e,t,c)):t.memoizedState!==null?(Sn(),t.child=e.child,t.flags|=128,t=null):(Sn(),T=m.fallback,X=t.mode,m=El({mode:"visible",children:m.children},X),T=dr(T,X,c,null),T.flags|=2,m.return=t,T.return=t,m.sibling=T,t.child=m,rr(t,e.child,null,c),m=t.child,m.memoizedState=Sl(c),m.childLanes=wl(e,W,c),t.memoizedState=bl,t=T);else if(bn(t),X.data==="$!"){if(W=X.nextSibling&&X.nextSibling.dataset,W)var se=W.dgst;W=se,m=Error(M(419)),m.stack="",m.digest=W,Es({value:m,source:null,stack:null}),t=Al(e,t,c)}else if(xt||Bs(e,t,c,!1),W=(c&e.childLanes)!==0,xt||W){if(W=rt,W!==null){if(m=c&-c,(m&42)!==0)m=1;else switch(m){case 2:m=1;break;case 8:m=4;break;case 32:m=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:m=64;break;case 268435456:m=134217728;break;default:m=0}if(m=(m&(W.suspendedLanes|c))!==0?0:m,m!==0&&m!==te.retryLane)throw te.retryLane=m,yn(e,m),Wt(W,e,m),Bu}X.data==="$?"||Jl(),t=Al(e,t,c)}else X.data==="$?"?(t.flags|=128,t.child=e.child,t=pg.bind(null,e),X._reactRetry=t,t=null):(e=te.treeContext,Dt=Ti(X.nextSibling),Ut=t,qe=!0,Ai=null,Bi=!1,e!==null&&(ai[li++]=qi,ai[li++]=Qi,ai[li++]=tr,qi=e.id,Qi=e.overflow,tr=t),t=Cl(t,m.children),t.flags|=4096);return t}return T?(Sn(),T=m.fallback,X=t.mode,te=e.child,se=te.sibling,m=kn(te,{mode:"hidden",children:m.children}),m.subtreeFlags=te.subtreeFlags&31457280,se!==null?T=kn(se,T):(T=dr(T,X,c,null),T.flags|=2),T.return=t,m.return=t,m.sibling=T,t.child=m,m=T,T=t.child,X=e.child.memoizedState,X===null?X=Sl(c):(te=X.cachePool,te!==null?(se=Ct._currentValue,te=te.parent!==se?{parent:se,pool:se}:te):te=Vh(),X={baseLanes:X.baseLanes|c,cachePool:te}),T.memoizedState=X,T.childLanes=wl(e,W,c),t.memoizedState=bl,m):(bn(t),c=e.child,e=c.sibling,c=kn(c,{mode:"visible",children:m.children}),c.return=t,c.sibling=null,e!==null&&(W=t.deletions,W===null?(t.deletions=[e],t.flags|=16):W.push(e)),t.child=c,t.memoizedState=null,c)}function Cl(e,t){return t=El({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function El(e,t){return mf(e,t,0,null)}function Al(e,t,c){return rr(t,e.child,null,c),e=Cl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vu(e,t,c){e.lanes|=t;var m=e.alternate;m!==null&&(m.lanes|=t),Ll(e.return,t,c)}function Ml(e,t,c,m,T){var O=e.memoizedState;O===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:T}:(O.isBackwards=t,O.rendering=null,O.renderingStartTime=0,O.last=m,O.tail=c,O.tailMode=T)}function Gu(e,t,c){var m=t.pendingProps,T=m.revealOrder,O=m.tail;if(Ot(e,t,m.children,c),m=wt.current,(m&2)!==0)m=m&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vu(e,c,t);else if(e.tag===19)Vu(e,c,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}m&=1}switch(ee(wt,m),T){case"forwards":for(c=t.child,T=null;c!==null;)e=c.alternate,e!==null&&$o(e)===null&&(T=c),c=c.sibling;c=T,c===null?(T=t.child,t.child=null):(T=c.sibling,c.sibling=null),Ml(t,!1,T,c,O);break;case"backwards":for(c=null,T=t.child,t.child=null;T!==null;){if(e=T.alternate,e!==null&&$o(e)===null){t.child=T;break}e=T.sibling,T.sibling=c,c=T,T=e}Ml(t,!0,c,null,O);break;case"together":Ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function en(e,t,c){if(e!==null&&(t.dependencies=e.dependencies),$n|=t.lanes,(c&t.childLanes)===0)if(e!==null){if(Bs(e,t,c,!1),(c&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(M(153));if(t.child!==null){for(e=t.child,c=kn(e,e.pendingProps),t.child=c,c.return=t;e.sibling!==null;)e=e.sibling,c=c.sibling=kn(e,e.pendingProps),c.return=t;c.sibling=null}return t.child}function Tl(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&jo(e)))}function eg(e,t,c){switch(t.tag){case 3:Te(t,t.stateNode.containerInfo),En(t,Ct,e.memoizedState.cache),Cs();break;case 27:case 5:Ee(t);break;case 4:Te(t,t.stateNode.containerInfo);break;case 10:En(t,t.type,t.memoizedProps.value);break;case 13:var m=t.memoizedState;if(m!==null)return m.dehydrated!==null?(bn(t),t.flags|=128,null):(c&t.child.childLanes)!==0?ju(e,t,c):(bn(t),e=en(e,t,c),e!==null?e.sibling:null);bn(t);break;case 19:var T=(e.flags&128)!==0;if(m=(c&t.childLanes)!==0,m||(Bs(e,t,c,!1),m=(c&t.childLanes)!==0),T){if(m)return Gu(e,t,c);t.flags|=128}if(T=t.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),ee(wt,wt.current),m)break;return null;case 22:case 23:return t.lanes=0,zu(e,t,c);case 24:En(t,Ct,e.memoizedState.cache)}return en(e,t,c)}function Ku(e,t,c){if(e!==null)if(e.memoizedProps!==t.pendingProps)xt=!0;else{if(!Tl(e,c)&&(t.flags&128)===0)return xt=!1,eg(e,t,c);xt=(e.flags&131072)!==0}else xt=!1,qe&&(t.flags&1048576)!==0&&kh(t,To,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var m=t.elementType,T=m._init;if(m=T(m._payload),t.type=m,typeof m=="function")Pl(m)?(e=cr(m,e),t.tag=1,t=Uu(null,t,m,e,c)):(t.tag=0,t=yl(null,t,m,e,c));else{if(m!=null){if(T=m.$$typeof,T===o){t.tag=11,t=Nu(null,t,m,e,c);break e}else if(T===f){t.tag=14,t=Iu(null,t,m,e,c);break e}}throw t=b(m)||m,Error(M(306,t,""))}}return t;case 0:return yl(e,t,t.type,t.pendingProps,c);case 1:return m=t.type,T=cr(m,t.pendingProps),Uu(e,t,m,T,c);case 3:e:{if(Te(t,t.stateNode.containerInfo),e===null)throw Error(M(387));var O=t.pendingProps;T=t.memoizedState,m=T.element,$l(e,t),Hs(t,O,null,c);var W=t.memoizedState;if(O=W.cache,En(t,Ct,O),O!==T.cache&&Rl(t,[Ct],c,!0),Is(),O=W.element,T.isDehydrated)if(T={element:O,isDehydrated:!1,cache:W.cache},t.updateQueue.baseState=T,t.memoizedState=T,t.flags&256){t=Wu(e,t,O,c);break e}else if(O!==m){m=oi(Error(M(424)),t),Es(m),t=Wu(e,t,O,c);break e}else for(Dt=Ti(t.stateNode.containerInfo.firstChild),Ut=t,qe=!0,Ai=null,Bi=!0,c=Fh(t,null,O,c),t.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Cs(),O===m){t=en(e,t,c);break e}Ot(e,t,O,c)}t=t.child}return t;case 26:return Os(e,t),e===null?(c=Qf(t.type,null,t.pendingProps,null))?t.memoizedState=c:qe||(c=t.type,e=t.pendingProps,m=oa(be.current).createElement(c),m[Mt]=t,m[Nt]=e,Bt(m,c,e),mt(m),t.stateNode=m):t.memoizedState=Qf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ee(t),e===null&&qe&&(m=t.stateNode=Yf(t.type,t.pendingProps,be.current),Ut=t,Bi=!0,Dt=Ti(m.firstChild)),m=t.pendingProps.children,e!==null||qe?Ot(e,t,m,c):t.child=rr(t,null,m,c),Os(e,t),t.child;case 5:return e===null&&qe&&((T=m=Dt)&&(m=Rg(m,t.type,t.pendingProps,Bi),m!==null?(t.stateNode=m,Ut=t,Dt=Ti(m.firstChild),Bi=!1,T=!0):T=!1),T||nr(t)),Ee(t),T=t.type,O=t.pendingProps,W=e!==null?e.memoizedProps:null,m=O.children,dc(T,O)?m=null:W!==null&&dc(T,W)&&(t.flags|=32),t.memoizedState!==null&&(T=tl(e,t,Kp,null,null,c),Js._currentValue=T),Os(e,t),Ot(e,t,m,c),t.child;case 6:return e===null&&qe&&((e=c=Dt)&&(c=kg(c,t.pendingProps,Bi),c!==null?(t.stateNode=c,Ut=t,Dt=null,e=!0):e=!1),e||nr(t)),null;case 13:return ju(e,t,c);case 4:return Te(t,t.stateNode.containerInfo),m=t.pendingProps,e===null?t.child=rr(t,null,m,c):Ot(e,t,m,c),t.child;case 11:return Nu(e,t,t.type,t.pendingProps,c);case 7:return Ot(e,t,t.pendingProps,c),t.child;case 8:return Ot(e,t,t.pendingProps.children,c),t.child;case 12:return Ot(e,t,t.pendingProps.children,c),t.child;case 10:return m=t.pendingProps,En(t,t.type,m.value),Ot(e,t,m.children,c),t.child;case 9:return T=t.type._context,m=t.pendingProps.children,ur(t),T=zt(T),m=m(T),t.flags|=1,Ot(e,t,m,c),t.child;case 14:return Iu(e,t,t.type,t.pendingProps,c);case 15:return Hu(e,t,t.type,t.pendingProps,c);case 19:return Gu(e,t,c);case 22:return zu(e,t,c);case 24:return ur(t),m=zt(Ct),e===null?(T=Ja(),T===null&&(T=rt,O=Qa(),T.pooledCache=O,O.refCount++,O!==null&&(T.pooledCacheLanes|=c),T=O),t.memoizedState={parent:m,cache:T},kl(t),En(t,Ct,T)):((e.lanes&c)!==0&&($l(e,t),Hs(t,null,null,c),Is()),T=e.memoizedState,O=t.memoizedState,T.parent!==m?(T={parent:m,cache:m},t.memoizedState=T,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=T),En(t,Ct,m)):(m=O.cache,En(t,Ct,m),m!==T.cache&&Rl(t,[Ct],c,!0))),Ot(e,t,t.pendingProps.children,c),t.child;case 29:throw t.pendingProps}throw Error(M(156,t.tag))}var xl=U(null),hr=null,tn=null;function En(e,t,c){ee(xl,t._currentValue),t._currentValue=c}function nn(e){e._currentValue=xl.current,ie(xl)}function Ll(e,t,c){for(;e!==null;){var m=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,m!==null&&(m.childLanes|=t)):m!==null&&(m.childLanes&t)!==t&&(m.childLanes|=t),e===c)break;e=e.return}}function Rl(e,t,c,m){var T=e.child;for(T!==null&&(T.return=e);T!==null;){var O=T.dependencies;if(O!==null){var W=T.child;O=O.firstContext;e:for(;O!==null;){var X=O;O=T;for(var te=0;te<t.length;te++)if(X.context===t[te]){O.lanes|=c,X=O.alternate,X!==null&&(X.lanes|=c),Ll(O.return,c,e),m||(W=null);break e}O=X.next}}else if(T.tag===18){if(W=T.return,W===null)throw Error(M(341));W.lanes|=c,O=W.alternate,O!==null&&(O.lanes|=c),Ll(W,c,e),W=null}else W=T.child;if(W!==null)W.return=T;else for(W=T;W!==null;){if(W===e){W=null;break}if(T=W.sibling,T!==null){T.return=W.return,W=T;break}W=W.return}T=W}}function Bs(e,t,c,m){e=null;for(var T=t,O=!1;T!==null;){if(!O){if((T.flags&524288)!==0)O=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var W=T.alternate;if(W===null)throw Error(M(387));if(W=W.memoizedProps,W!==null){var X=T.type;Zt(T.pendingProps.value,W.value)||(e!==null?e.push(X):e=[X])}}else if(T===Le.current){if(W=T.alternate,W===null)throw Error(M(387));W.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(e!==null?e.push(Js):e=[Js])}T=T.return}e!==null&&Rl(t,e,c,m),t.flags|=262144}function jo(e){for(e=e.firstContext;e!==null;){if(!Zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ur(e){hr=e,tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function zt(e){return Yu(hr,e)}function Vo(e,t){return hr===null&&ur(e),Yu(e,t)}function Yu(e,t){var c=t._currentValue;if(t={context:t,memoizedValue:c,next:null},tn===null){if(e===null)throw Error(M(308));tn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else tn=tn.next=t;return c}var An=!1;function kl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $l(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Mn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Tn(e,t,c){var m=e.updateQueue;if(m===null)return null;if(m=m.shared,(ht&2)!==0){var T=m.pending;return T===null?t.next=t:(t.next=T.next,T.next=t),m.pending=t,t=Ao(e),Lh(e,null,c),t}return Eo(e,m,t,c),Ao(e)}function Ns(e,t,c){if(t=t.updateQueue,t!==null&&(t=t.shared,(c&4194176)!==0)){var m=t.lanes;m&=e.pendingLanes,c|=m,t.lanes=c,uo(e,c)}}function Dl(e,t){var c=e.updateQueue,m=e.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var T=null,O=null;if(c=c.firstBaseUpdate,c!==null){do{var W={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};O===null?T=O=W:O=O.next=W,c=c.next}while(c!==null);O===null?T=O=t:O=O.next=t}else T=O=t;c={baseState:m.baseState,firstBaseUpdate:T,lastBaseUpdate:O,shared:m.shared,callbacks:m.callbacks},e.updateQueue=c;return}e=c.lastBaseUpdate,e===null?c.firstBaseUpdate=t:e.next=t,c.lastBaseUpdate=t}var Ol=!1;function Is(){if(Ol){var e=Hr;if(e!==null)throw e}}function Hs(e,t,c,m){Ol=!1;var T=e.updateQueue;An=!1;var O=T.firstBaseUpdate,W=T.lastBaseUpdate,X=T.shared.pending;if(X!==null){T.shared.pending=null;var te=X,se=te.next;te.next=null,W===null?O=se:W.next=se,W=te;var de=e.alternate;de!==null&&(de=de.updateQueue,X=de.lastBaseUpdate,X!==W&&(X===null?de.firstBaseUpdate=se:X.next=se,de.lastBaseUpdate=te))}if(O!==null){var _e=T.baseState;W=0,de=se=te=null,X=O;do{var ce=X.lane&-536870913,fe=ce!==X.lane;if(fe?(Xe&ce)===ce:(m&ce)===ce){ce!==0&&ce===Ir&&(Ol=!0),de!==null&&(de=de.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var Ae=e,Oe=X;ce=t;var gt=c;switch(Oe.tag){case 1:if(Ae=Oe.payload,typeof Ae=="function"){_e=Ae.call(gt,_e,ce);break e}_e=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Oe.payload,ce=typeof Ae=="function"?Ae.call(gt,_e,ce):Ae,ce==null)break e;_e=R({},_e,ce);break e;case 2:An=!0}}ce=X.callback,ce!==null&&(e.flags|=64,fe&&(e.flags|=8192),fe=T.callbacks,fe===null?T.callbacks=[ce]:fe.push(ce))}else fe={lane:ce,tag:X.tag,payload:X.payload,callback:X.callback,next:null},de===null?(se=de=fe,te=_e):de=de.next=fe,W|=ce;if(X=X.next,X===null){if(X=T.shared.pending,X===null)break;fe=X,X=fe.next,fe.next=null,T.lastBaseUpdate=fe,T.shared.pending=null}}while(!0);de===null&&(te=_e),T.baseState=te,T.firstBaseUpdate=se,T.lastBaseUpdate=de,O===null&&(T.shared.lanes=0),$n|=W,e.lanes=W,e.memoizedState=_e}}function Xu(e,t){if(typeof e!="function")throw Error(M(191,e));e.call(t)}function qu(e,t){var c=e.callbacks;if(c!==null)for(e.callbacks=null,e=0;e<c.length;e++)Xu(c[e],t)}function zs(e,t){try{var c=t.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var T=m.next;c=T;do{if((c.tag&e)===e){m=void 0;var O=c.create,W=c.inst;m=O(),W.destroy=m}c=c.next}while(c!==T)}}catch(X){it(t,t.return,X)}}function xn(e,t,c){try{var m=t.updateQueue,T=m!==null?m.lastEffect:null;if(T!==null){var O=T.next;m=O;do{if((m.tag&e)===e){var W=m.inst,X=W.destroy;if(X!==void 0){W.destroy=void 0,T=t;var te=c;try{X()}catch(se){it(T,te,se)}}}m=m.next}while(m!==O)}}catch(se){it(t,t.return,se)}}function Qu(e){var t=e.updateQueue;if(t!==null){var c=e.stateNode;try{qu(t,c)}catch(m){it(e,e.return,m)}}}function Zu(e,t,c){c.props=cr(e.type,e.memoizedProps),c.state=e.memoizedState;try{c.componentWillUnmount()}catch(m){it(e,t,m)}}function fr(e,t){try{var c=e.ref;if(c!==null){var m=e.stateNode;switch(e.tag){case 26:case 27:case 5:var T=m;break;default:T=m}typeof c=="function"?e.refCleanup=c(T):c.current=T}}catch(O){it(e,t,O)}}function Jt(e,t){var c=e.ref,m=e.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(T){it(e,t,T)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(T){it(e,t,T)}else c.current=null}function Ju(e){var t=e.type,c=e.memoizedProps,m=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(T){it(e,e.return,T)}}function ef(e,t,c){try{var m=e.stateNode;Ag(m,e.type,c,t),m[Nt]=t}catch(T){it(e,e.return,T)}}function tf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Bl(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Nl(e,t,c){var m=e.tag;if(m===5||m===6)e=e.stateNode,t?c.nodeType===8?c.parentNode.insertBefore(e,t):c.insertBefore(e,t):(c.nodeType===8?(t=c.parentNode,t.insertBefore(e,c)):(t=c,t.appendChild(e)),c=c._reactRootContainer,c!=null||t.onclick!==null||(t.onclick=sa));else if(m!==4&&m!==27&&(e=e.child,e!==null))for(Nl(e,t,c),e=e.sibling;e!==null;)Nl(e,t,c),e=e.sibling}function Go(e,t,c){var m=e.tag;if(m===5||m===6)e=e.stateNode,t?c.insertBefore(e,t):c.appendChild(e);else if(m!==4&&m!==27&&(e=e.child,e!==null))for(Go(e,t,c),e=e.sibling;e!==null;)Go(e,t,c),e=e.sibling}var rn=!1,dt=!1,Il=!1,nf=typeof WeakSet=="function"?WeakSet:Set,Lt=null,rf=!1;function tg(e,t){if(e=e.containerInfo,uc=fa,e=bh(e),za(e)){if("selectionStart"in e)var c={start:e.selectionStart,end:e.selectionEnd};else e:{c=(c=e.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var T=m.anchorOffset,O=m.focusNode;m=m.focusOffset;try{c.nodeType,O.nodeType}catch{c=null;break e}var W=0,X=-1,te=-1,se=0,de=0,_e=e,ce=null;t:for(;;){for(var fe;_e!==c||T!==0&&_e.nodeType!==3||(X=W+T),_e!==O||m!==0&&_e.nodeType!==3||(te=W+m),_e.nodeType===3&&(W+=_e.nodeValue.length),(fe=_e.firstChild)!==null;)ce=_e,_e=fe;for(;;){if(_e===e)break t;if(ce===c&&++se===T&&(X=W),ce===O&&++de===m&&(te=W),(fe=_e.nextSibling)!==null)break;_e=ce,ce=_e.parentNode}_e=fe}c=X===-1||te===-1?null:{start:X,end:te}}else c=null}c=c||{start:0,end:0}}else c=null;for(fc={focusedElem:e,selectionRange:c},fa=!1,Lt=t;Lt!==null;)if(t=Lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Lt=e;else for(;Lt!==null;){switch(t=Lt,O=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&O!==null){e=void 0,c=t,T=O.memoizedProps,O=O.memoizedState,m=c.stateNode;try{var Ae=cr(c.type,T,c.elementType===c.type);e=m.getSnapshotBeforeUpdate(Ae,O),m.__reactInternalSnapshotBeforeUpdate=e}catch(Oe){it(c,c.return,Oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,c=e.nodeType,c===9)vc(e);else if(c===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(M(163))}if(e=t.sibling,e!==null){e.return=t.return,Lt=e;break}Lt=t.return}return Ae=rf,rf=!1,Ae}function sf(e,t,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:on(e,c),m&4&&zs(5,c);break;case 1:if(on(e,c),m&4)if(e=c.stateNode,t===null)try{e.componentDidMount()}catch(X){it(c,c.return,X)}else{var T=cr(c.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(T,t,e.__reactInternalSnapshotBeforeUpdate)}catch(X){it(c,c.return,X)}}m&64&&Qu(c),m&512&&fr(c,c.return);break;case 3:if(on(e,c),m&64&&(m=c.updateQueue,m!==null)){if(e=null,c.child!==null)switch(c.child.tag){case 27:case 5:e=c.child.stateNode;break;case 1:e=c.child.stateNode}try{qu(m,e)}catch(X){it(c,c.return,X)}}break;case 26:on(e,c),m&512&&fr(c,c.return);break;case 27:case 5:on(e,c),t===null&&m&4&&Ju(c),m&512&&fr(c,c.return);break;case 12:on(e,c);break;case 13:on(e,c),m&4&&lf(e,c);break;case 22:if(T=c.memoizedState!==null||rn,!T){t=t!==null&&t.memoizedState!==null||dt;var O=rn,W=dt;rn=T,(dt=t)&&!W?Ln(e,c,(c.subtreeFlags&8772)!==0):on(e,c),rn=O,dt=W}m&512&&(c.memoizedProps.mode==="manual"?fr(c,c.return):Jt(c,c.return));break;default:on(e,c)}}function of(e){var t=e.alternate;t!==null&&(e.alternate=null,of(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ls(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var bt=null,ei=!1;function sn(e,t,c){for(c=c.child;c!==null;)af(e,t,c),c=c.sibling}function af(e,t,c){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Ve,c)}catch{}switch(c.tag){case 26:dt||Jt(c,t),sn(e,t,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:dt||Jt(c,t);var m=bt,T=ei;for(bt=c.stateNode,sn(e,t,c),c=c.stateNode,t=c.attributes;t.length;)c.removeAttributeNode(t[0]);ls(c),bt=m,ei=T;break;case 5:dt||Jt(c,t);case 6:T=bt;var O=ei;if(bt=null,sn(e,t,c),bt=T,ei=O,bt!==null)if(ei)try{e=bt,m=c.stateNode,e.nodeType===8?e.parentNode.removeChild(m):e.removeChild(m)}catch(W){it(c,t,W)}else try{bt.removeChild(c.stateNode)}catch(W){it(c,t,W)}break;case 18:bt!==null&&(ei?(t=bt,c=c.stateNode,t.nodeType===8?gc(t.parentNode,c):t.nodeType===1&&gc(t,c),no(t)):gc(bt,c.stateNode));break;case 4:m=bt,T=ei,bt=c.stateNode.containerInfo,ei=!0,sn(e,t,c),bt=m,ei=T;break;case 0:case 11:case 14:case 15:dt||xn(2,c,t),dt||xn(4,c,t),sn(e,t,c);break;case 1:dt||(Jt(c,t),m=c.stateNode,typeof m.componentWillUnmount=="function"&&Zu(c,t,m)),sn(e,t,c);break;case 21:sn(e,t,c);break;case 22:dt||Jt(c,t),dt=(m=dt)||c.memoizedState!==null,sn(e,t,c),dt=m;break;default:sn(e,t,c)}}function lf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{no(e)}catch(c){it(t,t.return,c)}}function ig(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new nf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new nf),t;default:throw Error(M(435,e.tag))}}function Hl(e,t){var c=ig(e);t.forEach(function(m){var T=gg.bind(null,e,m);c.has(m)||(c.add(m),m.then(T,T))})}function hi(e,t){var c=t.deletions;if(c!==null)for(var m=0;m<c.length;m++){var T=c[m],O=e,W=t,X=W;e:for(;X!==null;){switch(X.tag){case 27:case 5:bt=X.stateNode,ei=!1;break e;case 3:bt=X.stateNode.containerInfo,ei=!0;break e;case 4:bt=X.stateNode.containerInfo,ei=!0;break e}X=X.return}if(bt===null)throw Error(M(160));af(O,W,T),bt=null,ei=!1,O=T.alternate,O!==null&&(O.return=null),T.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)cf(t,e),t=t.sibling}var Mi=null;function cf(e,t){var c=e.alternate,m=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hi(t,e),ui(e),m&4&&(xn(3,e,e.return),zs(3,e),xn(5,e,e.return));break;case 1:hi(t,e),ui(e),m&512&&(dt||c===null||Jt(c,c.return)),m&64&&rn&&(e=e.updateQueue,e!==null&&(m=e.callbacks,m!==null&&(c=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var T=Mi;if(hi(t,e),ui(e),m&512&&(dt||c===null||Jt(c,c.return)),m&4){var O=c!==null?c.memoizedState:null;if(m=e.memoizedState,c===null)if(m===null)if(e.stateNode===null){e:{m=e.type,c=e.memoizedProps,T=T.ownerDocument||T;t:switch(m){case"title":O=T.getElementsByTagName("title")[0],(!O||O[jn]||O[Mt]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=T.createElement(m),T.head.insertBefore(O,T.querySelector("head > title"))),Bt(O,m,c),O[Mt]=e,mt(O),m=O;break e;case"link":var W=ed("link","href",T).get(m+(c.href||""));if(W){for(var X=0;X<W.length;X++)if(O=W[X],O.getAttribute("href")===(c.href==null?null:c.href)&&O.getAttribute("rel")===(c.rel==null?null:c.rel)&&O.getAttribute("title")===(c.title==null?null:c.title)&&O.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){W.splice(X,1);break t}}O=T.createElement(m),Bt(O,m,c),T.head.appendChild(O);break;case"meta":if(W=ed("meta","content",T).get(m+(c.content||""))){for(X=0;X<W.length;X++)if(O=W[X],O.getAttribute("content")===(c.content==null?null:""+c.content)&&O.getAttribute("name")===(c.name==null?null:c.name)&&O.getAttribute("property")===(c.property==null?null:c.property)&&O.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&O.getAttribute("charset")===(c.charSet==null?null:c.charSet)){W.splice(X,1);break t}}O=T.createElement(m),Bt(O,m,c),T.head.appendChild(O);break;default:throw Error(M(468,m))}O[Mt]=e,mt(O),m=O}e.stateNode=m}else td(T,e.type,e.stateNode);else e.stateNode=Jf(T,m,e.memoizedProps);else O!==m?(O===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):O.count--,m===null?td(T,e.type,e.stateNode):Jf(T,m,e.memoizedProps)):m===null&&e.stateNode!==null&&ef(e,e.memoizedProps,c.memoizedProps)}break;case 27:if(m&4&&e.alternate===null){T=e.stateNode,O=e.memoizedProps;try{for(var te=T.firstChild;te;){var se=te.nextSibling,de=te.nodeName;te[jn]||de==="HEAD"||de==="BODY"||de==="SCRIPT"||de==="STYLE"||de==="LINK"&&te.rel.toLowerCase()==="stylesheet"||T.removeChild(te),te=se}for(var _e=e.type,ce=T.attributes;ce.length;)T.removeAttributeNode(ce[0]);Bt(T,_e,O),T[Mt]=e,T[Nt]=O}catch(Ae){it(e,e.return,Ae)}}case 5:if(hi(t,e),ui(e),m&512&&(dt||c===null||Jt(c,c.return)),e.flags&32){T=e.stateNode;try{qt(T,"")}catch(Ae){it(e,e.return,Ae)}}m&4&&e.stateNode!=null&&(T=e.memoizedProps,ef(e,T,c!==null?c.memoizedProps:T)),m&1024&&(Il=!0);break;case 6:if(hi(t,e),ui(e),m&4){if(e.stateNode===null)throw Error(M(162));m=e.memoizedProps,c=e.stateNode;try{c.nodeValue=m}catch(Ae){it(e,e.return,Ae)}}break;case 3:if(ca=null,T=Mi,Mi=aa(t.containerInfo),hi(t,e),Mi=T,ui(e),m&4&&c!==null&&c.memoizedState.isDehydrated)try{no(t.containerInfo)}catch(Ae){it(e,e.return,Ae)}Il&&(Il=!1,hf(e));break;case 4:m=Mi,Mi=aa(e.stateNode.containerInfo),hi(t,e),ui(e),Mi=m;break;case 12:hi(t,e),ui(e);break;case 13:hi(t,e),ui(e),e.child.flags&8192&&e.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Kl=ot()),m&4&&(m=e.updateQueue,m!==null&&(e.updateQueue=null,Hl(e,m)));break;case 22:if(m&512&&(dt||c===null||Jt(c,c.return)),te=e.memoizedState!==null,se=c!==null&&c.memoizedState!==null,de=rn,_e=dt,rn=de||te,dt=_e||se,hi(t,e),dt=_e,rn=de,ui(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,m&8192&&(t._visibility=te?t._visibility&-2:t._visibility|1,te&&(t=rn||dt,c===null||se||t||Ur(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(c=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(c===null){se=c=t;try{if(T=se.stateNode,te)O=T.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{W=se.stateNode,X=se.memoizedProps.style;var fe=X!=null&&X.hasOwnProperty("display")?X.display:null;W.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(Ae){it(se,se.return,Ae)}}}else if(t.tag===6){if(c===null){se=t;try{se.stateNode.nodeValue=te?"":se.memoizedProps}catch(Ae){it(se,se.return,Ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;c===t&&(c=null),t=t.return}c===t&&(c=null),t.sibling.return=t.return,t=t.sibling}m&4&&(m=e.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,Hl(e,c))));break;case 19:hi(t,e),ui(e),m&4&&(m=e.updateQueue,m!==null&&(e.updateQueue=null,Hl(e,m)));break;case 21:break;default:hi(t,e),ui(e)}}function ui(e){var t=e.flags;if(t&2){try{if(e.tag!==27){e:{for(var c=e.return;c!==null;){if(tf(c)){var m=c;break e}c=c.return}throw Error(M(160))}switch(m.tag){case 27:var T=m.stateNode,O=Bl(e);Go(e,O,T);break;case 5:var W=m.stateNode;m.flags&32&&(qt(W,""),m.flags&=-33);var X=Bl(e);Go(e,X,W);break;case 3:case 4:var te=m.stateNode.containerInfo,se=Bl(e);Nl(e,se,te);break;default:throw Error(M(161))}}}catch(de){it(e,e.return,de)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;hf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function on(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)sf(e,t.alternate,t),t=t.sibling}function Ur(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:xn(4,t,t.return),Ur(t);break;case 1:Jt(t,t.return);var c=t.stateNode;typeof c.componentWillUnmount=="function"&&Zu(t,t.return,c),Ur(t);break;case 26:case 27:case 5:Jt(t,t.return),Ur(t);break;case 22:Jt(t,t.return),t.memoizedState===null&&Ur(t);break;default:Ur(t)}e=e.sibling}}function Ln(e,t,c){for(c=c&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var m=t.alternate,T=e,O=t,W=O.flags;switch(O.tag){case 0:case 11:case 15:Ln(T,O,c),zs(4,O);break;case 1:if(Ln(T,O,c),m=O,T=m.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(se){it(m,m.return,se)}if(m=O,T=m.updateQueue,T!==null){var X=m.stateNode;try{var te=T.shared.hiddenCallbacks;if(te!==null)for(T.shared.hiddenCallbacks=null,T=0;T<te.length;T++)Xu(te[T],X)}catch(se){it(m,m.return,se)}}c&&W&64&&Qu(O),fr(O,O.return);break;case 26:case 27:case 5:Ln(T,O,c),c&&m===null&&W&4&&Ju(O),fr(O,O.return);break;case 12:Ln(T,O,c);break;case 13:Ln(T,O,c),c&&W&4&&lf(T,O);break;case 22:O.memoizedState===null&&Ln(T,O,c),fr(O,O.return);break;default:Ln(T,O,c)}t=t.sibling}}function zl(e,t){var c=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(c=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==c&&(e!=null&&e.refCount++,c!=null&&Ls(c))}function Fl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ls(e))}function Rn(e,t,c,m){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)uf(e,t,c,m),t=t.sibling}function uf(e,t,c,m){var T=t.flags;switch(t.tag){case 0:case 11:case 15:Rn(e,t,c,m),T&2048&&zs(9,t);break;case 3:Rn(e,t,c,m),T&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ls(e)));break;case 12:if(T&2048){Rn(e,t,c,m),e=t.stateNode;try{var O=t.memoizedProps,W=O.id,X=O.onPostCommit;typeof X=="function"&&X(W,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(te){it(t,t.return,te)}}else Rn(e,t,c,m);break;case 23:break;case 22:O=t.stateNode,t.memoizedState!==null?O._visibility&4?Rn(e,t,c,m):Fs(e,t):O._visibility&4?Rn(e,t,c,m):(O._visibility|=4,Wr(e,t,c,m,(t.subtreeFlags&10256)!==0)),T&2048&&zl(t.alternate,t);break;case 24:Rn(e,t,c,m),T&2048&&Fl(t.alternate,t);break;default:Rn(e,t,c,m)}}function Wr(e,t,c,m,T){for(T=T&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var O=e,W=t,X=c,te=m,se=W.flags;switch(W.tag){case 0:case 11:case 15:Wr(O,W,X,te,T),zs(8,W);break;case 23:break;case 22:var de=W.stateNode;W.memoizedState!==null?de._visibility&4?Wr(O,W,X,te,T):Fs(O,W):(de._visibility|=4,Wr(O,W,X,te,T)),T&&se&2048&&zl(W.alternate,W);break;case 24:Wr(O,W,X,te,T),T&&se&2048&&Fl(W.alternate,W);break;default:Wr(O,W,X,te,T)}t=t.sibling}}function Fs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var c=e,m=t,T=m.flags;switch(m.tag){case 22:Fs(c,m),T&2048&&zl(m.alternate,m);break;case 24:Fs(c,m),T&2048&&Fl(m.alternate,m);break;default:Fs(c,m)}t=t.sibling}}var Ps=8192;function jr(e){if(e.subtreeFlags&Ps)for(e=e.child;e!==null;)ff(e),e=e.sibling}function ff(e){switch(e.tag){case 26:jr(e),e.flags&Ps&&e.memoizedState!==null&&jg(Mi,e.memoizedState,e.memoizedProps);break;case 5:jr(e);break;case 3:case 4:var t=Mi;Mi=aa(e.stateNode.containerInfo),jr(e),Mi=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ps,Ps=16777216,jr(e),Ps=t):jr(e));break;default:jr(e)}}function df(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Us(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var c=0;c<t.length;c++){var m=t[c];Lt=m,gf(m,e)}df(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pf(e),e=e.sibling}function pf(e){switch(e.tag){case 0:case 11:case 15:Us(e),e.flags&2048&&xn(9,e,e.return);break;case 3:Us(e);break;case 12:Us(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,Ko(e)):Us(e);break;default:Us(e)}}function Ko(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var c=0;c<t.length;c++){var m=t[c];Lt=m,gf(m,e)}df(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:xn(8,t,t.return),Ko(t);break;case 22:c=t.stateNode,c._visibility&4&&(c._visibility&=-5,Ko(t));break;default:Ko(t)}e=e.sibling}}function gf(e,t){for(;Lt!==null;){var c=Lt;switch(c.tag){case 0:case 11:case 15:xn(8,c,t);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Ls(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,Lt=m;else e:for(c=e;Lt!==null;){m=Lt;var T=m.sibling,O=m.return;if(of(m),m===c){Lt=null;break e}if(T!==null){T.return=O,Lt=T;break e}Lt=O}}}function ng(e,t,c,m){this.tag=e,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(e,t,c,m){return new ng(e,t,c,m)}function Pl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kn(e,t){var c=e.alternate;return c===null?(c=fi(e.tag,t,e.key,e.mode),c.elementType=e.elementType,c.type=e.type,c.stateNode=e.stateNode,c.alternate=e,e.alternate=c):(c.pendingProps=t,c.type=e.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=e.flags&31457280,c.childLanes=e.childLanes,c.lanes=e.lanes,c.child=e.child,c.memoizedProps=e.memoizedProps,c.memoizedState=e.memoizedState,c.updateQueue=e.updateQueue,t=e.dependencies,c.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},c.sibling=e.sibling,c.index=e.index,c.ref=e.ref,c.refCleanup=e.refCleanup,c}function vf(e,t){e.flags&=31457282;var c=e.alternate;return c===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=c.childLanes,e.lanes=c.lanes,e.child=c.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=c.memoizedProps,e.memoizedState=c.memoizedState,e.updateQueue=c.updateQueue,e.type=c.type,t=c.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Yo(e,t,c,m,T,O){var W=0;if(m=e,typeof e=="function")Pl(e)&&(W=1);else if(typeof e=="string")W=Ug(e,c,he.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case h:return dr(c.children,T,O,t);case d:W=8,T|=24;break;case s:return e=fi(12,c,t,T|2),e.elementType=s,e.lanes=O,e;case a:return e=fi(13,c,t,T),e.elementType=a,e.lanes=O,e;case l:return e=fi(19,c,t,T),e.elementType=l,e.lanes=O,e;case g:return mf(c,T,O,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case i:case n:W=10;break e;case r:W=9;break e;case o:W=11;break e;case f:W=14;break e;case u:W=16,m=null;break e}W=29,c=Error(M(130,e===null?"null":typeof e,"")),m=null}return t=fi(W,c,t,T),t.elementType=e,t.type=m,t.lanes=O,t}function dr(e,t,c,m){return e=fi(7,e,m,t),e.lanes=c,e}function mf(e,t,c,m){e=fi(22,e,m,t),e.elementType=g,e.lanes=c;var T={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var O=T._current;if(O===null)throw Error(M(456));if((T._pendingVisibility&2)===0){var W=yn(O,2);W!==null&&(T._pendingVisibility|=2,Wt(W,O,2))}},attach:function(){var O=T._current;if(O===null)throw Error(M(456));if((T._pendingVisibility&2)!==0){var W=yn(O,2);W!==null&&(T._pendingVisibility&=-3,Wt(W,O,2))}}};return e.stateNode=T,e}function Ul(e,t,c){return e=fi(6,e,null,t),e.lanes=c,e}function Wl(e,t,c){return t=fi(4,e.children!==null?e.children:[],e.key,t),t.lanes=c,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function an(e){e.flags|=4}function _f(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!id(t)){if(t=ci.current,t!==null&&((Xe&4194176)===Xe?Ni!==null:(Xe&62914560)!==Xe&&(Xe&536870912)===0||t!==Ni))throw Ms=Ya,Oh;e.flags|=8192}}function Xo(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?fn():536870912,e.lanes|=t,Gr|=t)}function Ws(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var c=null;t!==null;)t.alternate!==null&&(c=t),t=t.sibling;c===null?e.tail=null:c.sibling=null;break;case"collapsed":c=e.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:m.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,c=0,m=0;if(t)for(var T=e.child;T!==null;)c|=T.lanes|T.childLanes,m|=T.subtreeFlags&31457280,m|=T.flags&31457280,T.return=e,T=T.sibling;else for(T=e.child;T!==null;)c|=T.lanes|T.childLanes,m|=T.subtreeFlags,m|=T.flags,T.return=e,T=T.sibling;return e.subtreeFlags|=m,e.childLanes=c,t}function rg(e,t,c){var m=t.pendingProps;switch(Ga(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return ct(t),null;case 3:return c=t.stateNode,m=null,e!==null&&(m=e.memoizedState.cache),t.memoizedState.cache!==m&&(t.flags|=2048),nn(Ct),ze(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(ws(t)?an(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ai!==null&&(Ql(Ai),Ai=null))),ct(t),null;case 26:return c=t.memoizedState,e===null?(an(t),c!==null?(ct(t),_f(t,c)):(ct(t),t.flags&=-16777217)):c?c!==e.memoizedState?(an(t),ct(t),_f(t,c)):(ct(t),t.flags&=-16777217):(e.memoizedProps!==m&&an(t),ct(t),t.flags&=-16777217),null;case 27:ut(t),c=be.current;var T=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==m&&an(t);else{if(!m){if(t.stateNode===null)throw Error(M(166));return ct(t),null}e=he.current,ws(t)?$h(t):(e=Yf(T,m,c),t.stateNode=e,an(t))}return ct(t),null;case 5:if(ut(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==m&&an(t);else{if(!m){if(t.stateNode===null)throw Error(M(166));return ct(t),null}if(e=he.current,ws(t))$h(t);else{switch(T=oa(be.current),e){case 1:e=T.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:e=T.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":e=T.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":e=T.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":e=T.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof m.is=="string"?T.createElement("select",{is:m.is}):T.createElement("select"),m.multiple?e.multiple=!0:m.size&&(e.size=m.size);break;default:e=typeof m.is=="string"?T.createElement(c,{is:m.is}):T.createElement(c)}}e[Mt]=t,e[Nt]=m;e:for(T=t.child;T!==null;){if(T.tag===5||T.tag===6)e.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===t)break e;for(;T.sibling===null;){if(T.return===null||T.return===t)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}t.stateNode=e;e:switch(Bt(e,c,m),c){case"button":case"input":case"select":case"textarea":e=!!m.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&an(t)}}return ct(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==m&&an(t);else{if(typeof m!="string"&&t.stateNode===null)throw Error(M(166));if(e=be.current,ws(t)){if(e=t.stateNode,c=t.memoizedProps,m=null,T=Ut,T!==null)switch(T.tag){case 27:case 5:m=T.memoizedProps}e[Mt]=t,e=!!(e.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||Uf(e.nodeValue,c)),e||nr(t)}else e=oa(e).createTextNode(m),e[Mt]=t,t.stateNode=e}return ct(t),null;case 13:if(m=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(T=ws(t),m!==null&&m.dehydrated!==null){if(e===null){if(!T)throw Error(M(318));if(T=t.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(M(317));T[Mt]=t}else Cs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ct(t),T=!1}else Ai!==null&&(Ql(Ai),Ai=null),T=!0;if(!T)return t.flags&256?(Zi(t),t):(Zi(t),null)}if(Zi(t),(t.flags&128)!==0)return t.lanes=c,t;if(c=m!==null,e=e!==null&&e.memoizedState!==null,c){m=t.child,T=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(T=m.alternate.memoizedState.cachePool.pool);var O=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(O=m.memoizedState.cachePool.pool),O!==T&&(m.flags|=2048)}return c!==e&&c&&(t.child.flags|=8192),Xo(t,t.updateQueue),ct(t),null;case 4:return ze(),e===null&&lc(t.stateNode.containerInfo),ct(t),null;case 10:return nn(t.type),ct(t),null;case 19:if(ie(wt),T=t.memoizedState,T===null)return ct(t),null;if(m=(t.flags&128)!==0,O=T.rendering,O===null)if(m)Ws(T,!1);else{if(pt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(O=$o(e),O!==null){for(t.flags|=128,Ws(T,!1),e=O.updateQueue,t.updateQueue=e,Xo(t,e),t.subtreeFlags=0,e=c,c=t.child;c!==null;)vf(c,e),c=c.sibling;return ee(wt,wt.current&1|2),t.child}e=e.sibling}T.tail!==null&&ot()>qo&&(t.flags|=128,m=!0,Ws(T,!1),t.lanes=4194304)}else{if(!m)if(e=$o(O),e!==null){if(t.flags|=128,m=!0,e=e.updateQueue,t.updateQueue=e,Xo(t,e),Ws(T,!0),T.tail===null&&T.tailMode==="hidden"&&!O.alternate&&!qe)return ct(t),null}else 2*ot()-T.renderingStartTime>qo&&c!==536870912&&(t.flags|=128,m=!0,Ws(T,!1),t.lanes=4194304);T.isBackwards?(O.sibling=t.child,t.child=O):(e=T.last,e!==null?e.sibling=O:t.child=O,T.last=O)}return T.tail!==null?(t=T.tail,T.rendering=t,T.tail=t.sibling,T.renderingStartTime=ot(),t.sibling=null,e=wt.current,ee(wt,m?e&1|2:e&1),t):(ct(t),null);case 22:case 23:return Zi(t),qa(),m=t.memoizedState!==null,e!==null?e.memoizedState!==null!==m&&(t.flags|=8192):m&&(t.flags|=8192),m?(c&536870912)!==0&&(t.flags&128)===0&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),c=t.updateQueue,c!==null&&Xo(t,c.retryQueue),c=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(c=e.memoizedState.cachePool.pool),m=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(m=t.memoizedState.cachePool.pool),m!==c&&(t.flags|=2048),e!==null&&ie(sr),null;case 24:return c=null,e!==null&&(c=e.memoizedState.cache),t.memoizedState.cache!==c&&(t.flags|=2048),nn(Ct),ct(t),null;case 25:return null}throw Error(M(156,t.tag))}function sg(e,t){switch(Ga(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nn(Ct),ze(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ut(t),null;case 13:if(Zi(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(M(340));Cs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(wt),null;case 4:return ze(),null;case 10:return nn(t.type),null;case 22:case 23:return Zi(t),qa(),e!==null&&ie(sr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return nn(Ct),null;case 25:return null;default:return null}}function yf(e,t){switch(Ga(t),t.tag){case 3:nn(Ct),ze();break;case 26:case 27:case 5:ut(t);break;case 4:ze();break;case 13:Zi(t);break;case 19:ie(wt);break;case 10:nn(t.type);break;case 22:case 23:Zi(t),qa(),e!==null&&ie(sr);break;case 24:nn(Ct)}}var og={getCacheForType:function(e){var t=zt(Ct),c=t.data.get(e);return c===void 0&&(c=e(),t.data.set(e,c)),c}},ag=typeof WeakMap=="function"?WeakMap:Map,ht=0,rt=null,We=null,Xe=0,st=0,ti=null,ln=!1,Vr=!1,jl=!1,cn=0,pt=0,$n=0,pr=0,Vl=0,di=0,Gr=0,js=null,Hi=null,Gl=!1,Kl=0,qo=1/0,Qo=null,Dn=null,Zo=!1,gr=null,Vs=0,Yl=0,Xl=null,Gs=0,ql=null;function ii(){if((ht&2)!==0&&Xe!==0)return Xe&-Xe;if(w.T!==null){var e=Ir;return e!==0?e:rc()}return _r()}function bf(){di===0&&(di=(Xe&536870912)===0||qe?mr():536870912);var e=ci.current;return e!==null&&(e.flags|=32),di}function Wt(e,t,c){(e===rt&&st===2||e.cancelPendingCommit!==null)&&(Kr(e,0),hn(e,Xe,di,!1)),Wn(e,c),((ht&2)===0||e!==rt)&&(e===rt&&((ht&2)===0&&(pr|=c),pt===4&&hn(e,Xe,di,!1)),zi(e))}function Sf(e,t,c){if((ht&6)!==0)throw Error(M(327));var m=!c&&(t&60)===0&&(t&e.expiredLanes)===0||ji(e,t),T=m?hg(e,t):ec(e,t,!0),O=m;do{if(T===0){Vr&&!m&&hn(e,t,0,!1);break}else if(T===6)hn(e,t,0,!ln);else{if(c=e.current.alternate,O&&!lg(c)){T=ec(e,t,!1),O=!1;continue}if(T===2){if(O=t,e.errorRecoveryDisabledLanes&O)var W=0;else W=e.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){t=W;e:{var X=e;T=js;var te=X.current.memoizedState.isDehydrated;if(te&&(Kr(X,W).flags|=256),W=ec(X,W,!1),W!==2){if(jl&&!te){X.errorRecoveryDisabledLanes|=O,pr|=O,T=4;break e}O=Hi,Hi=T,O!==null&&Ql(O)}T=W}if(O=!1,T!==2)continue}}if(T===1){Kr(e,0),hn(e,t,0,!0);break}e:{switch(m=e,T){case 0:case 1:throw Error(M(345));case 4:if((t&4194176)===t){hn(m,t,di,!ln);break e}break;case 2:Hi=null;break;case 3:case 5:break;default:throw Error(M(329))}if(m.finishedWork=c,m.finishedLanes=t,(t&62914560)===t&&(O=Kl+300-ot(),10<O)){if(hn(m,t,di,!ln),ki(m,0)!==0)break e;m.timeoutHandle=Vf(wf.bind(null,m,c,Hi,Qo,Gl,t,di,pr,Gr,ln,2,-0,0),O);break e}wf(m,c,Hi,Qo,Gl,t,di,pr,Gr,ln,0,-0,0)}}break}while(!0);zi(e)}function Ql(e){Hi===null?Hi=e:Hi.push.apply(Hi,e)}function wf(e,t,c,m,T,O,W,X,te,se,de,_e,ce){var fe=t.subtreeFlags;if((fe&8192||(fe&16785408)===16785408)&&(Zs={stylesheets:null,count:0,unsuspend:Wg},ff(t),t=Vg(),t!==null)){e.cancelPendingCommit=t(Lf.bind(null,e,c,m,T,W,X,te,1,_e,ce)),hn(e,O,W,!se);return}Lf(e,c,m,T,W,X,te,de,_e,ce)}function lg(e){for(var t=e;;){var c=t.tag;if((c===0||c===11||c===15)&&t.flags&16384&&(c=t.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var T=c[m],O=T.getSnapshot;T=T.value;try{if(!Zt(O(),T))return!1}catch{return!1}}if(c=t.child,t.subtreeFlags&16384&&c!==null)c.return=t,t=c;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hn(e,t,c,m){t&=~Vl,t&=~pr,e.suspendedLanes|=t,e.pingedLanes&=~t,m&&(e.warmLanes|=t),m=e.expirationTimes;for(var T=t;0<T;){var O=31-ve(T),W=1<<O;m[O]=-1,T&=~W}c!==0&&ho(e,c,t)}function Jo(){return(ht&6)===0?(Ks(0),!1):!0}function Zl(){if(We!==null){if(st===0)var e=We.return;else e=We,tn=hr=null,rl(e),Br=null,Ts=0,e=We;for(;e!==null;)yf(e.alternate,e),e=e.return;We=null}}function Kr(e,t){e.finishedWork=null,e.finishedLanes=0;var c=e.timeoutHandle;c!==-1&&(e.timeoutHandle=-1,Tg(c)),c=e.cancelPendingCommit,c!==null&&(e.cancelPendingCommit=null,c()),Zl(),rt=e,We=c=kn(e.current,null),Xe=t,st=0,ti=null,ln=!1,Vr=ji(e,t),jl=!1,Gr=di=Vl=pr=$n=pt=0,Hi=js=null,Gl=!1,(t&8)!==0&&(t|=t&32);var m=e.entangledLanes;if(m!==0)for(e=e.entanglements,m&=t;0<m;){var T=31-ve(m),O=1<<T;t|=e[T],m&=~O}return cn=t,Co(),c}function Cf(e,t){Fe=null,w.H=Ii,t===As?(t=Ih(),st=3):t===Oh?(t=Ih(),st=4):st=t===Bu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ti=t,We===null&&(pt=1,Wo(e,oi(t,e.current)))}function Ef(){var e=w.H;return w.H=Ii,e===null?Ii:e}function Af(){var e=w.A;return w.A=og,e}function Jl(){pt=4,ln||(Xe&4194176)!==Xe&&ci.current!==null||(Vr=!0),($n&134217727)===0&&(pr&134217727)===0||rt===null||hn(rt,Xe,di,!1)}function ec(e,t,c){var m=ht;ht|=2;var T=Ef(),O=Af();(rt!==e||Xe!==t)&&(Qo=null,Kr(e,t)),t=!1;var W=pt;e:do try{if(st!==0&&We!==null){var X=We,te=ti;switch(st){case 8:Zl(),W=6;break e;case 3:case 2:case 6:ci.current===null&&(t=!0);var se=st;if(st=0,ti=null,Yr(e,X,te,se),c&&Vr){W=0;break e}break;default:se=st,st=0,ti=null,Yr(e,X,te,se)}}cg(),W=pt;break}catch(de){Cf(e,de)}while(!0);return t&&e.shellSuspendCounter++,tn=hr=null,ht=m,w.H=T,w.A=O,We===null&&(rt=null,Xe=0,Co()),W}function cg(){for(;We!==null;)Mf(We)}function hg(e,t){var c=ht;ht|=2;var m=Ef(),T=Af();rt!==e||Xe!==t?(Qo=null,qo=ot()+500,Kr(e,t)):Vr=ji(e,t);e:do try{if(st!==0&&We!==null){t=We;var O=ti;t:switch(st){case 1:st=0,ti=null,Yr(e,t,O,1);break;case 2:if(Bh(O)){st=0,ti=null,Tf(t);break}t=function(){st===2&&rt===e&&(st=7),zi(e)},O.then(t,t);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Bh(O)?(st=0,ti=null,Tf(t)):(st=0,ti=null,Yr(e,t,O,7));break;case 5:var W=null;switch(We.tag){case 26:W=We.memoizedState;case 5:case 27:var X=We;if(!W||id(W)){st=0,ti=null;var te=X.sibling;if(te!==null)We=te;else{var se=X.return;se!==null?(We=se,ea(se)):We=null}break t}}st=0,ti=null,Yr(e,t,O,5);break;case 6:st=0,ti=null,Yr(e,t,O,6);break;case 8:Zl(),pt=6;break e;default:throw Error(M(462))}}ug();break}catch(de){Cf(e,de)}while(!0);return tn=hr=null,w.H=m,w.A=T,ht=c,We!==null?0:(rt=null,Xe=0,Co(),pt)}function ug(){for(;We!==null&&!jt();)Mf(We)}function Mf(e){var t=Ku(e.alternate,e,cn);e.memoizedProps=e.pendingProps,t===null?ea(e):We=t}function Tf(e){var t=e,c=t.alternate;switch(t.tag){case 15:case 0:t=Pu(c,t,t.pendingProps,t.type,void 0,Xe);break;case 11:t=Pu(c,t,t.pendingProps,t.type.render,t.ref,Xe);break;case 5:rl(t);default:yf(c,t),t=We=vf(t,cn),t=Ku(c,t,cn)}e.memoizedProps=e.pendingProps,t===null?ea(e):We=t}function Yr(e,t,c,m){tn=hr=null,rl(t),Br=null,Ts=0;var T=t.return;try{if(Jp(e,T,t,c,Xe)){pt=1,Wo(e,oi(c,e.current)),We=null;return}}catch(O){if(T!==null)throw We=T,O;pt=1,Wo(e,oi(c,e.current)),We=null;return}t.flags&32768?(qe||m===1?e=!0:Vr||(Xe&536870912)!==0?e=!1:(ln=e=!0,(m===2||m===3||m===6)&&(m=ci.current,m!==null&&m.tag===13&&(m.flags|=16384))),xf(t,e)):ea(t)}function ea(e){var t=e;do{if((t.flags&32768)!==0){xf(t,ln);return}e=t.return;var c=rg(t.alternate,t,cn);if(c!==null){We=c;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);pt===0&&(pt=5)}function xf(e,t){do{var c=sg(e.alternate,e);if(c!==null){c.flags&=32767,We=c;return}if(c=e.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!t&&(e=e.sibling,e!==null)){We=e;return}We=e=c}while(e!==null);pt=6,We=null}function Lf(e,t,c,m,T,O,W,X,te,se){var de=w.T,_e=Y.p;try{Y.p=2,w.T=null,fg(e,t,c,m,_e,T,O,W,X,te,se)}finally{w.T=de,Y.p=_e}}function fg(e,t,c,m,T,O,W,X){do Xr();while(gr!==null);if((ht&6)!==0)throw Error(M(327));var te=e.finishedWork;if(m=e.finishedLanes,te===null)return null;if(e.finishedWork=null,e.finishedLanes=0,te===e.current)throw Error(M(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var se=te.lanes|te.childLanes;if(se|=Wa,xa(e,m,se,O,W,X),e===rt&&(We=rt=null,Xe=0),(te.subtreeFlags&10256)===0&&(te.flags&10256)===0||Zo||(Zo=!0,Yl=se,Xl=c,vg(Se,function(){return Xr(),null})),c=(te.flags&15990)!==0,(te.subtreeFlags&15990)!==0||c?(c=w.T,w.T=null,O=Y.p,Y.p=2,W=ht,ht|=4,tg(e,te),cf(te,e),Np(fc,e.containerInfo),fa=!!uc,fc=uc=null,e.current=te,sf(e,te.alternate,te),at(),ht=W,Y.p=O,w.T=c):e.current=te,Zo?(Zo=!1,gr=e,Vs=m):Rf(e,se),se=e.pendingLanes,se===0&&(Dn=null),Pe(te.stateNode),zi(e),t!==null)for(T=e.onRecoverableError,te=0;te<t.length;te++)se=t[te],T(se.value,{componentStack:se.stack});return(Vs&3)!==0&&Xr(),se=e.pendingLanes,(m&4194218)!==0&&(se&42)!==0?e===ql?Gs++:(Gs=0,ql=e):Gs=0,Ks(0),null}function Rf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ls(t)))}function Xr(){if(gr!==null){var e=gr,t=Yl;Yl=0;var c=os(Vs),m=w.T,T=Y.p;try{if(Y.p=32>c?32:c,w.T=null,gr===null)var O=!1;else{c=Xl,Xl=null;var W=gr,X=Vs;if(gr=null,Vs=0,(ht&6)!==0)throw Error(M(331));var te=ht;if(ht|=4,pf(W.current),uf(W,W.current,X,c),ht=te,Ks(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Ve,W)}catch{}O=!0}return O}finally{Y.p=T,w.T=m,Rf(e,t)}}return!1}function kf(e,t,c){t=oi(c,t),t=_l(e.stateNode,t,2),e=Tn(e,t,2),e!==null&&(Wn(e,2),zi(e))}function it(e,t,c){if(e.tag===3)kf(e,e,c);else for(;t!==null;){if(t.tag===3){kf(t,e,c);break}else if(t.tag===1){var m=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Dn===null||!Dn.has(m))){e=oi(c,e),c=Du(2),m=Tn(t,c,2),m!==null&&(Ou(c,m,t,e),Wn(m,2),zi(m));break}}t=t.return}}function tc(e,t,c){var m=e.pingCache;if(m===null){m=e.pingCache=new ag;var T=new Set;m.set(t,T)}else T=m.get(t),T===void 0&&(T=new Set,m.set(t,T));T.has(c)||(jl=!0,T.add(c),e=dg.bind(null,e,t,c),t.then(e,e))}function dg(e,t,c){var m=e.pingCache;m!==null&&m.delete(t),e.pingedLanes|=e.suspendedLanes&c,e.warmLanes&=~c,rt===e&&(Xe&c)===c&&(pt===4||pt===3&&(Xe&62914560)===Xe&&300>ot()-Kl?(ht&2)===0&&Kr(e,0):Vl|=c,Gr===Xe&&(Gr=0)),zi(e)}function $f(e,t){t===0&&(t=fn()),e=yn(e,t),e!==null&&(Wn(e,t),zi(e))}function pg(e){var t=e.memoizedState,c=0;t!==null&&(c=t.retryLane),$f(e,c)}function gg(e,t){var c=0;switch(e.tag){case 13:var m=e.stateNode,T=e.memoizedState;T!==null&&(c=T.retryLane);break;case 19:m=e.stateNode;break;case 22:m=e.stateNode._retryCache;break;default:throw Error(M(314))}m!==null&&m.delete(t),$f(e,c)}function vg(e,t){return Pt(e,t)}var ta=null,qr=null,ic=!1,ia=!1,nc=!1,vr=0;function zi(e){e!==qr&&e.next===null&&(qr===null?ta=qr=e:qr=qr.next=e),ia=!0,ic||(ic=!0,_g(mg))}function Ks(e,t){if(!nc&&ia){nc=!0;do for(var c=!1,m=ta;m!==null;){if(e!==0){var T=m.pendingLanes;if(T===0)var O=0;else{var W=m.suspendedLanes,X=m.pingedLanes;O=(1<<31-ve(42|e)+1)-1,O&=T&~(W&~X),O=O&201326677?O&201326677|1:O?O|2:0}O!==0&&(c=!0,Bf(m,O))}else O=Xe,O=ki(m,m===rt?O:0),(O&3)===0||ji(m,O)||(c=!0,Bf(m,O));m=m.next}while(c);nc=!1}}function mg(){ia=ic=!1;var e=0;vr!==0&&(Mg()&&(e=vr),vr=0);for(var t=ot(),c=null,m=ta;m!==null;){var T=m.next,O=Df(m,t);O===0?(m.next=null,c===null?ta=T:c.next=T,T===null&&(qr=c)):(c=m,(e!==0||(O&3)!==0)&&(ia=!0)),m=T}Ks(e)}function Df(e,t){for(var c=e.suspendedLanes,m=e.pingedLanes,T=e.expirationTimes,O=e.pendingLanes&-62914561;0<O;){var W=31-ve(O),X=1<<W,te=T[W];te===-1?((X&c)===0||(X&m)!==0)&&(T[W]=rs(X,t)):te<=t&&(e.expiredLanes|=X),O&=~X}if(t=rt,c=Xe,c=ki(e,e===t?c:0),m=e.callbackNode,c===0||e===t&&st===2||e.cancelPendingCommit!==null)return m!==null&&m!==null&&Xt(m),e.callbackNode=null,e.callbackPriority=0;if((c&3)===0||ji(e,c)){if(t=c&-c,t===e.callbackPriority)return t;switch(m!==null&&Xt(m),os(c)){case 2:case 8:c=ye;break;case 32:c=Se;break;case 268435456:c=Re;break;default:c=Se}return m=Of.bind(null,e),c=Pt(c,m),e.callbackPriority=t,e.callbackNode=c,t}return m!==null&&m!==null&&Xt(m),e.callbackPriority=2,e.callbackNode=null,2}function Of(e,t){var c=e.callbackNode;if(Xr()&&e.callbackNode!==c)return null;var m=Xe;return m=ki(e,e===rt?m:0),m===0?null:(Sf(e,m,t),Df(e,ot()),e.callbackNode!=null&&e.callbackNode===c?Of.bind(null,e):null)}function Bf(e,t){if(Xr())return null;Sf(e,t,!0)}function _g(e){xg(function(){(ht&6)!==0?Pt(ue,e):e()})}function rc(){return vr===0&&(vr=mr()),vr}function Nf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wr(""+e)}function If(e,t){var c=t.ownerDocument.createElement("input");return c.name=t.name,c.value=t.value,e.id&&c.setAttribute("form",e.id),t.parentNode.insertBefore(c,t),e=new FormData(e),c.parentNode.removeChild(c),e}function yg(e,t,c,m,T){if(t==="submit"&&c&&c.stateNode===T){var O=Nf((T[Nt]||null).action),W=m.submitter;W&&(t=(t=W[Nt]||null)?Nf(t.formAction):W.getAttribute("formAction"),t!==null&&(O=t,W=null));var X=new we("action","action",null,m,T);e.push({event:X,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(vr!==0){var te=W?If(T,W):new FormData(T);dl(c,{pending:!0,data:te,method:T.method,action:O},null,te)}}else typeof O=="function"&&(X.preventDefault(),te=W?If(T,W):new FormData(T),dl(c,{pending:!0,data:te,method:T.method,action:O},O,te))},currentTarget:T}]})}}for(var sc=0;sc<xh.length;sc++){var oc=xh[sc],bg=oc.toLowerCase(),Sg=oc[0].toUpperCase()+oc.slice(1);Ei(bg,"on"+Sg)}Ei(Ch,"onAnimationEnd"),Ei(Eh,"onAnimationIteration"),Ei(Ah,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(Hp,"onTransitionRun"),Ei(zp,"onTransitionStart"),Ei(Fp,"onTransitionCancel"),Ei(Mh,"onTransitionEnd"),gn("onMouseEnter",["mouseout","mouseover"]),gn("onMouseLeave",["mouseout","mouseover"]),gn("onPointerEnter",["pointerout","pointerover"]),gn("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ys));function Hf(e,t){t=(t&4)!==0;for(var c=0;c<e.length;c++){var m=e[c],T=m.event;m=m.listeners;e:{var O=void 0;if(t)for(var W=m.length-1;0<=W;W--){var X=m[W],te=X.instance,se=X.currentTarget;if(X=X.listener,te!==O&&T.isPropagationStopped())break e;O=X,T.currentTarget=se;try{O(T)}catch(de){Uo(de)}T.currentTarget=null,O=te}else for(W=0;W<m.length;W++){if(X=m[W],te=X.instance,se=X.currentTarget,X=X.listener,te!==O&&T.isPropagationStopped())break e;O=X,T.currentTarget=se;try{O(T)}catch(de){Uo(de)}T.currentTarget=null,O=te}}}}function Ke(e,t){var c=t[as];c===void 0&&(c=t[as]=new Set);var m=e+"__bubble";c.has(m)||(zf(t,e,2,!1),c.add(m))}function ac(e,t,c){var m=0;t&&(m|=4),zf(c,e,m,t)}var na="_reactListening"+Math.random().toString(36).slice(2);function lc(e){if(!e[na]){e[na]=!0,po.forEach(function(c){c!=="selectionchange"&&(wg.has(c)||ac(c,!1,e),ac(c,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[na]||(t[na]=!0,ac("selectionchange",!1,t))}}function zf(e,t,c,m){switch(ld(t)){case 2:var T=Yg;break;case 8:T=Xg;break;default:T=Sc}c=T.bind(null,t,c,e),T=void 0,!Er||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(T=!0),m?T!==void 0?e.addEventListener(t,c,{capture:!0,passive:T}):e.addEventListener(t,c,!0):T!==void 0?e.addEventListener(t,c,{passive:T}):e.addEventListener(t,c,!1)}function cc(e,t,c,m,T){var O=m;if((t&1)===0&&(t&2)===0&&m!==null)e:for(;;){if(m===null)return;var W=m.tag;if(W===3||W===4){var X=m.stateNode.containerInfo;if(X===T||X.nodeType===8&&X.parentNode===T)break;if(W===4)for(W=m.return;W!==null;){var te=W.tag;if((te===3||te===4)&&(te=W.stateNode.containerInfo,te===T||te.nodeType===8&&te.parentNode===T))return;W=W.return}for(;X!==null;){if(W=Gi(X),W===null)return;if(te=W.tag,te===5||te===6||te===26||te===27){m=O=W;continue e}X=X.parentNode}}m=m.return}Cr(function(){var se=O,de=Si(c),_e=[];e:{var ce=Th.get(e);if(ce!==void 0){var fe=we,Ae=e;switch(e){case"keypress":if(Ar(c)===0)break e;case"keydown":case"keyup":fe=gp;break;case"focusin":Ae="focus",fe=Ht;break;case"focusout":Ae="blur",fe=Ht;break;case"beforeblur":case"afterblur":fe=Ht;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=It;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Tt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=_p;break;case Ch:case Eh:case Ah:fe=Ci;break;case Mh:fe=bp;break;case"scroll":case"scrollend":fe=Ne;break;case"wheel":fe=wp;break;case"copy":case"cut":case"paste":fe=So;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=rh;break;case"toggle":case"beforetoggle":fe=Ep}var Oe=(t&4)!==0,gt=!Oe&&(e==="scroll"||e==="scrollend"),oe=Oe?ce!==null?ce+"Capture":null:ce;Oe=[];for(var re=se,le;re!==null;){var me=re;if(le=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||le===null||oe===null||(me=qn(re,oe),me!=null&&Oe.push(Xs(re,me,le))),gt)break;re=re.return}0<Oe.length&&(ce=new fe(ce,Ae,null,c,de),_e.push({event:ce,listeners:Oe}))}}if((t&7)===0){e:{if(ce=e==="mouseover"||e==="pointerover",fe=e==="mouseout"||e==="pointerout",ce&&c!==gs&&(Ae=c.relatedTarget||c.fromElement)&&(Gi(Ae)||Ae[dn]))break e;if((fe||ce)&&(ce=de.window===de?de:(ce=de.ownerDocument)?ce.defaultView||ce.parentWindow:window,fe?(Ae=c.relatedTarget||c.toElement,fe=se,Ae=Ae?Gi(Ae):null,Ae!==null&&(gt=F(Ae),Oe=Ae.tag,Ae!==gt||Oe!==5&&Oe!==27&&Oe!==6)&&(Ae=null)):(fe=null,Ae=se),fe!==Ae)){if(Oe=It,me="onMouseLeave",oe="onMouseEnter",re="mouse",(e==="pointerout"||e==="pointerover")&&(Oe=rh,me="onPointerLeave",oe="onPointerEnter",re="pointer"),gt=fe==null?ce:Vn(fe),le=Ae==null?ce:Vn(Ae),ce=new Oe(me,re+"leave",fe,c,de),ce.target=gt,ce.relatedTarget=le,me=null,Gi(de)===se&&(Oe=new Oe(oe,re+"enter",Ae,c,de),Oe.target=le,Oe.relatedTarget=gt,me=Oe),gt=me,fe&&Ae)t:{for(Oe=fe,oe=Ae,re=0,le=Oe;le;le=Qr(le))re++;for(le=0,me=oe;me;me=Qr(me))le++;for(;0<re-le;)Oe=Qr(Oe),re--;for(;0<le-re;)oe=Qr(oe),le--;for(;re--;){if(Oe===oe||oe!==null&&Oe===oe.alternate)break t;Oe=Qr(Oe),oe=Qr(oe)}Oe=null}else Oe=null;fe!==null&&Ff(_e,ce,fe,Oe,!1),Ae!==null&&gt!==null&&Ff(_e,gt,Ae,Oe,!0)}}e:{if(ce=se?Vn(se):window,fe=ce.nodeName&&ce.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ce.type==="file")var Ce=fh;else if(hh(ce))if(dh)Ce=Op;else{Ce=$p;var Ue=kp}else fe=ce.nodeName,!fe||fe.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?se&&ps(se.elementType)&&(Ce=fh):Ce=Dp;if(Ce&&(Ce=Ce(e,se))){uh(_e,Ce,c,de);break e}Ue&&Ue(e,ce,se),e==="focusout"&&se&&ce.type==="number"&&se.memoizedProps.value!=null&&fs(ce,"number",ce.value)}switch(Ue=se?Vn(se):window,e){case"focusin":(hh(Ue)||Ue.contentEditable==="true")&&(Lr=Ue,Fa=se,Ss=null);break;case"focusout":Ss=Fa=Lr=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,Sh(_e,c,de);break;case"selectionchange":if(Ip)break;case"keydown":case"keyup":Sh(_e,c,de)}var xe;if(Na)e:{switch(e){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else xr?lh(e,c)&&($e="onCompositionEnd"):e==="keydown"&&c.keyCode===229&&($e="onCompositionStart");$e&&(sh&&c.locale!=="ko"&&(xr||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&xr&&(xe=bo()):(wi=de,Yi="value"in wi?wi.value:wi.textContent,xr=!0)),Ue=ra(se,$e),0<Ue.length&&($e=new Zn($e,e,null,c,de),_e.push({event:$e,listeners:Ue}),xe?$e.data=xe:(xe=ch(c),xe!==null&&($e.data=xe)))),(xe=Mp?Tp(e,c):xp(e,c))&&($e=ra(se,"onBeforeInput"),0<$e.length&&(Ue=new Zn("onBeforeInput","beforeinput",null,c,de),_e.push({event:Ue,listeners:$e}),Ue.data=xe)),yg(_e,e,se,c,de)}Hf(_e,t)})}function Xs(e,t,c){return{instance:e,listener:t,currentTarget:c}}function ra(e,t){for(var c=t+"Capture",m=[];e!==null;){var T=e,O=T.stateNode;T=T.tag,T!==5&&T!==26&&T!==27||O===null||(T=qn(e,c),T!=null&&m.unshift(Xs(e,T,O)),T=qn(e,t),T!=null&&m.push(Xs(e,T,O))),e=e.return}return m}function Qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ff(e,t,c,m,T){for(var O=t._reactName,W=[];c!==null&&c!==m;){var X=c,te=X.alternate,se=X.stateNode;if(X=X.tag,te!==null&&te===m)break;X!==5&&X!==26&&X!==27||se===null||(te=se,T?(se=qn(c,O),se!=null&&W.unshift(Xs(c,se,te))):T||(se=qn(c,O),se!=null&&W.push(Xs(c,se,te)))),c=c.return}W.length!==0&&e.push({event:t,listeners:W})}var Cg=/\r\n?/g,Eg=/\u0000|\uFFFD/g;function Pf(e){return(typeof e=="string"?e:""+e).replace(Cg,`
`).replace(Eg,"")}function Uf(e,t){return t=Pf(t),Pf(e)===t}function sa(){}function tt(e,t,c,m,T,O){switch(c){case"children":typeof m=="string"?t==="body"||t==="textarea"&&m===""||qt(e,m):(typeof m=="number"||typeof m=="bigint")&&t!=="body"&&qt(e,""+m);break;case"className":br(e,"class",m);break;case"tabIndex":br(e,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":br(e,c,m);break;case"style":bi(e,m,O);break;case"data":if(t!=="object"){br(e,"data",m);break}case"src":case"href":if(m===""&&(t!=="a"||c!=="href")){e.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){e.removeAttribute(c);break}m=wr(""+m),e.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){e.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(c==="formAction"?(t!=="input"&&tt(e,t,"name",T.name,T,null),tt(e,t,"formEncType",T.formEncType,T,null),tt(e,t,"formMethod",T.formMethod,T,null),tt(e,t,"formTarget",T.formTarget,T,null)):(tt(e,t,"encType",T.encType,T,null),tt(e,t,"method",T.method,T,null),tt(e,t,"target",T.target,T,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){e.removeAttribute(c);break}m=wr(""+m),e.setAttribute(c,m);break;case"onClick":m!=null&&(e.onclick=sa);break;case"onScroll":m!=null&&Ke("scroll",e);break;case"onScrollEnd":m!=null&&Ke("scrollend",e);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(M(61));if(c=m.__html,c!=null){if(T.children!=null)throw Error(M(60));e.innerHTML=c}}break;case"multiple":e.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":e.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){e.removeAttribute("xlink:href");break}c=wr(""+m),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?e.setAttribute(c,""+m):e.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?e.setAttribute(c,""):e.removeAttribute(c);break;case"capture":case"download":m===!0?e.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?e.setAttribute(c,m):e.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?e.setAttribute(c,m):e.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?e.removeAttribute(c):e.setAttribute(c,m);break;case"popover":Ke("beforetoggle",e),Ke("toggle",e),yr(e,"popover",m);break;case"xlinkActuate":yi(e,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":yi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":yi(e,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":yi(e,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":yi(e,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":yi(e,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":yi(e,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":yi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":yi(e,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":yr(e,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Da.get(c)||c,yr(e,c,m))}}function hc(e,t,c,m,T,O){switch(c){case"style":bi(e,m,O);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(M(61));if(c=m.__html,c!=null){if(T.children!=null)throw Error(M(60));e.innerHTML=c}}break;case"children":typeof m=="string"?qt(e,m):(typeof m=="number"||typeof m=="bigint")&&qt(e,""+m);break;case"onScroll":m!=null&&Ke("scroll",e);break;case"onScrollEnd":m!=null&&Ke("scrollend",e);break;case"onClick":m!=null&&(e.onclick=sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!go.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(T=c.endsWith("Capture"),t=c.slice(2,T?c.length-7:void 0),O=e[Nt]||null,O=O!=null?O[c]:null,typeof O=="function"&&e.removeEventListener(t,O,T),typeof m=="function")){typeof O!="function"&&O!==null&&(c in e?e[c]=null:e.hasAttribute(c)&&e.removeAttribute(c)),e.addEventListener(t,m,T);break e}c in e?e[c]=m:m===!0?e.setAttribute(c,""):yr(e,c,m)}}}function Bt(e,t,c){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",e),Ke("load",e);var m=!1,T=!1,O;for(O in c)if(c.hasOwnProperty(O)){var W=c[O];if(W!=null)switch(O){case"src":m=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(M(137,t));default:tt(e,t,O,W,c,null)}}T&&tt(e,t,"srcSet",c.srcSet,c,null),m&&tt(e,t,"src",c.src,c,null);return;case"input":Ke("invalid",e);var X=O=W=T=null,te=null,se=null;for(m in c)if(c.hasOwnProperty(m)){var de=c[m];if(de!=null)switch(m){case"name":T=de;break;case"type":W=de;break;case"checked":te=de;break;case"defaultChecked":se=de;break;case"value":O=de;break;case"defaultValue":X=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(M(137,t));break;default:tt(e,t,m,de,c,null)}}us(e,O,X,te,se,W,T,!1),Kn(e);return;case"select":Ke("invalid",e),m=W=O=null;for(T in c)if(c.hasOwnProperty(T)&&(X=c[T],X!=null))switch(T){case"value":O=X;break;case"defaultValue":W=X;break;case"multiple":m=X;default:tt(e,t,T,X,c,null)}t=O,c=W,e.multiple=!!m,t!=null?vn(e,!!m,t,!1):c!=null&&vn(e,!!m,c,!0);return;case"textarea":Ke("invalid",e),O=T=m=null;for(W in c)if(c.hasOwnProperty(W)&&(X=c[W],X!=null))switch(W){case"value":m=X;break;case"defaultValue":T=X;break;case"children":O=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(M(91));break;default:tt(e,t,W,X,c,null)}Yn(e,m,T,O),Kn(e);return;case"option":for(te in c)if(c.hasOwnProperty(te)&&(m=c[te],m!=null))switch(te){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:tt(e,t,te,m,c,null)}return;case"dialog":Ke("cancel",e),Ke("close",e);break;case"iframe":case"object":Ke("load",e);break;case"video":case"audio":for(m=0;m<Ys.length;m++)Ke(Ys[m],e);break;case"image":Ke("error",e),Ke("load",e);break;case"details":Ke("toggle",e);break;case"embed":case"source":case"link":Ke("error",e),Ke("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in c)if(c.hasOwnProperty(se)&&(m=c[se],m!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(M(137,t));default:tt(e,t,se,m,c,null)}return;default:if(ps(t)){for(de in c)c.hasOwnProperty(de)&&(m=c[de],m!==void 0&&hc(e,t,de,m,c,void 0));return}}for(X in c)c.hasOwnProperty(X)&&(m=c[X],m!=null&&tt(e,t,X,m,c,null))}function Ag(e,t,c,m){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,O=null,W=null,X=null,te=null,se=null,de=null;for(fe in c){var _e=c[fe];if(c.hasOwnProperty(fe)&&_e!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":te=_e;default:m.hasOwnProperty(fe)||tt(e,t,fe,null,m,_e)}}for(var ce in m){var fe=m[ce];if(_e=c[ce],m.hasOwnProperty(ce)&&(fe!=null||_e!=null))switch(ce){case"type":O=fe;break;case"name":T=fe;break;case"checked":se=fe;break;case"defaultChecked":de=fe;break;case"value":W=fe;break;case"defaultValue":X=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(M(137,t));break;default:fe!==_e&&tt(e,t,ce,fe,m,_e)}}hs(e,W,X,te,se,de,O,T);return;case"select":fe=W=X=ce=null;for(O in c)if(te=c[O],c.hasOwnProperty(O)&&te!=null)switch(O){case"value":break;case"multiple":fe=te;default:m.hasOwnProperty(O)||tt(e,t,O,null,m,te)}for(T in m)if(O=m[T],te=c[T],m.hasOwnProperty(T)&&(O!=null||te!=null))switch(T){case"value":ce=O;break;case"defaultValue":X=O;break;case"multiple":W=O;default:O!==te&&tt(e,t,T,O,m,te)}t=X,c=W,m=fe,ce!=null?vn(e,!!c,ce,!1):!!m!=!!c&&(t!=null?vn(e,!!c,t,!0):vn(e,!!c,c?[]:"",!1));return;case"textarea":fe=ce=null;for(X in c)if(T=c[X],c.hasOwnProperty(X)&&T!=null&&!m.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:tt(e,t,X,null,m,T)}for(W in m)if(T=m[W],O=c[W],m.hasOwnProperty(W)&&(T!=null||O!=null))switch(W){case"value":ce=T;break;case"defaultValue":fe=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(M(91));break;default:T!==O&&tt(e,t,W,T,m,O)}ds(e,ce,fe);return;case"option":for(var Ae in c)if(ce=c[Ae],c.hasOwnProperty(Ae)&&ce!=null&&!m.hasOwnProperty(Ae))switch(Ae){case"selected":e.selected=!1;break;default:tt(e,t,Ae,null,m,ce)}for(te in m)if(ce=m[te],fe=c[te],m.hasOwnProperty(te)&&ce!==fe&&(ce!=null||fe!=null))switch(te){case"selected":e.selected=ce&&typeof ce!="function"&&typeof ce!="symbol";break;default:tt(e,t,te,ce,m,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in c)ce=c[Oe],c.hasOwnProperty(Oe)&&ce!=null&&!m.hasOwnProperty(Oe)&&tt(e,t,Oe,null,m,ce);for(se in m)if(ce=m[se],fe=c[se],m.hasOwnProperty(se)&&ce!==fe&&(ce!=null||fe!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(M(137,t));break;default:tt(e,t,se,ce,m,fe)}return;default:if(ps(t)){for(var gt in c)ce=c[gt],c.hasOwnProperty(gt)&&ce!==void 0&&!m.hasOwnProperty(gt)&&hc(e,t,gt,void 0,m,ce);for(de in m)ce=m[de],fe=c[de],!m.hasOwnProperty(de)||ce===fe||ce===void 0&&fe===void 0||hc(e,t,de,ce,m,fe);return}}for(var oe in c)ce=c[oe],c.hasOwnProperty(oe)&&ce!=null&&!m.hasOwnProperty(oe)&&tt(e,t,oe,null,m,ce);for(_e in m)ce=m[_e],fe=c[_e],!m.hasOwnProperty(_e)||ce===fe||ce==null&&fe==null||tt(e,t,_e,ce,m,fe)}var uc=null,fc=null;function oa(e){return e.nodeType===9?e:e.ownerDocument}function Wf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function dc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pc=null;function Mg(){var e=window.event;return e&&e.type==="popstate"?e===pc?!1:(pc=e,!0):(pc=null,!1)}var Vf=typeof setTimeout=="function"?setTimeout:void 0,Tg=typeof clearTimeout=="function"?clearTimeout:void 0,Gf=typeof Promise=="function"?Promise:void 0,xg=typeof queueMicrotask=="function"?queueMicrotask:typeof Gf<"u"?function(e){return Gf.resolve(null).then(e).catch(Lg)}:Vf;function Lg(e){setTimeout(function(){throw e})}function gc(e,t){var c=t,m=0;do{var T=c.nextSibling;if(e.removeChild(c),T&&T.nodeType===8)if(c=T.data,c==="/$"){if(m===0){e.removeChild(T),no(t);return}m--}else c!=="$"&&c!=="$?"&&c!=="$!"||m++;c=T}while(c);no(t)}function vc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var c=t;switch(t=t.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":vc(c),ls(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}e.removeChild(c)}}function Rg(e,t,c,m){for(;e.nodeType===1;){var T=c;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!m&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(m){if(!e[jn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(O=e.getAttribute("rel"),O==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(O!==T.rel||e.getAttribute("href")!==(T.href==null?null:T.href)||e.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||e.getAttribute("title")!==(T.title==null?null:T.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(O=e.getAttribute("src"),(O!==(T.src==null?null:T.src)||e.getAttribute("type")!==(T.type==null?null:T.type)||e.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&O&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var O=T.name==null?null:""+T.name;if(T.type==="hidden"&&e.getAttribute("name")===O)return e}else return e;if(e=Ti(e.nextSibling),e===null)break}return null}function kg(e,t,c){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!c||(e=Ti(e.nextSibling),e===null))return null;return e}function Ti(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function Kf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var c=e.data;if(c==="$"||c==="$!"||c==="$?"){if(t===0)return e;t--}else c==="/$"&&t++}e=e.previousSibling}return null}function Yf(e,t,c){switch(t=oa(c),e){case"html":if(e=t.documentElement,!e)throw Error(M(452));return e;case"head":if(e=t.head,!e)throw Error(M(453));return e;case"body":if(e=t.body,!e)throw Error(M(454));return e;default:throw Error(M(451))}}var pi=new Map,Xf=new Set;function aa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var un=Y.d;Y.d={f:$g,r:Dg,D:Og,C:Bg,L:Ng,m:Ig,X:zg,S:Hg,M:Fg};function $g(){var e=un.f(),t=Jo();return e||t}function Dg(e){var t=Vt(e);t!==null&&t.tag===5&&t.type==="form"?Su(t):un.r(e)}var Zr=typeof document>"u"?null:document;function qf(e,t,c){var m=Zr;if(m&&typeof t=="string"&&t){var T=Gt(t);T='link[rel="'+e+'"][href="'+T+'"]',typeof c=="string"&&(T+='[crossorigin="'+c+'"]'),Xf.has(T)||(Xf.add(T),e={rel:e,crossOrigin:c,href:t},m.querySelector(T)===null&&(t=m.createElement("link"),Bt(t,"link",e),mt(t),m.head.appendChild(t)))}}function Og(e){un.D(e),qf("dns-prefetch",e,null)}function Bg(e,t){un.C(e,t),qf("preconnect",e,t)}function Ng(e,t,c){un.L(e,t,c);var m=Zr;if(m&&e&&t){var T='link[rel="preload"][as="'+Gt(t)+'"]';t==="image"&&c&&c.imageSrcSet?(T+='[imagesrcset="'+Gt(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(T+='[imagesizes="'+Gt(c.imageSizes)+'"]')):T+='[href="'+Gt(e)+'"]';var O=T;switch(t){case"style":O=Jr(e);break;case"script":O=es(e)}pi.has(O)||(e=R({rel:"preload",href:t==="image"&&c&&c.imageSrcSet?void 0:e,as:t},c),pi.set(O,e),m.querySelector(T)!==null||t==="style"&&m.querySelector(qs(O))||t==="script"&&m.querySelector(Qs(O))||(t=m.createElement("link"),Bt(t,"link",e),mt(t),m.head.appendChild(t)))}}function Ig(e,t){un.m(e,t);var c=Zr;if(c&&e){var m=t&&typeof t.as=="string"?t.as:"script",T='link[rel="modulepreload"][as="'+Gt(m)+'"][href="'+Gt(e)+'"]',O=T;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=es(e)}if(!pi.has(O)&&(e=R({rel:"modulepreload",href:e},t),pi.set(O,e),c.querySelector(T)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Qs(O)))return}m=c.createElement("link"),Bt(m,"link",e),mt(m),c.head.appendChild(m)}}}function Hg(e,t,c){un.S(e,t,c);var m=Zr;if(m&&e){var T=pn(m).hoistableStyles,O=Jr(e);t=t||"default";var W=T.get(O);if(!W){var X={loading:0,preload:null};if(W=m.querySelector(qs(O)))X.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":t},c),(c=pi.get(O))&&mc(e,c);var te=W=m.createElement("link");mt(te),Bt(te,"link",e),te._p=new Promise(function(se,de){te.onload=se,te.onerror=de}),te.addEventListener("load",function(){X.loading|=1}),te.addEventListener("error",function(){X.loading|=2}),X.loading|=4,la(W,t,m)}W={type:"stylesheet",instance:W,count:1,state:X},T.set(O,W)}}}function zg(e,t){un.X(e,t);var c=Zr;if(c&&e){var m=pn(c).hoistableScripts,T=es(e),O=m.get(T);O||(O=c.querySelector(Qs(T)),O||(e=R({src:e,async:!0},t),(t=pi.get(T))&&_c(e,t),O=c.createElement("script"),mt(O),Bt(O,"link",e),c.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},m.set(T,O))}}function Fg(e,t){un.M(e,t);var c=Zr;if(c&&e){var m=pn(c).hoistableScripts,T=es(e),O=m.get(T);O||(O=c.querySelector(Qs(T)),O||(e=R({src:e,async:!0,type:"module"},t),(t=pi.get(T))&&_c(e,t),O=c.createElement("script"),mt(O),Bt(O,"link",e),c.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},m.set(T,O))}}function Qf(e,t,c,m){var T=(T=be.current)?aa(T):null;if(!T)throw Error(M(446));switch(e){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(t=Jr(c.href),c=pn(T).hoistableStyles,m=c.get(t),m||(m={type:"style",instance:null,count:0,state:null},c.set(t,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){e=Jr(c.href);var O=pn(T).hoistableStyles,W=O.get(e);if(W||(T=T.ownerDocument||T,W={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(e,W),(O=T.querySelector(qs(e)))&&!O._p&&(W.instance=O,W.state.loading=5),pi.has(e)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},pi.set(e,c),O||Pg(T,e,c,W.state))),t&&m===null)throw Error(M(528,""));return W}if(t&&m!==null)throw Error(M(529,""));return null;case"script":return t=c.async,c=c.src,typeof c=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=es(c),c=pn(T).hoistableScripts,m=c.get(t),m||(m={type:"script",instance:null,count:0,state:null},c.set(t,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(M(444,e))}}function Jr(e){return'href="'+Gt(e)+'"'}function qs(e){return'link[rel="stylesheet"]['+e+"]"}function Zf(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function Pg(e,t,c,m){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?m.loading=1:(t=e.createElement("link"),m.preload=t,t.addEventListener("load",function(){return m.loading|=1}),t.addEventListener("error",function(){return m.loading|=2}),Bt(t,"link",c),mt(t),e.head.appendChild(t))}function es(e){return'[src="'+Gt(e)+'"]'}function Qs(e){return"script[async]"+e}function Jf(e,t,c){if(t.count++,t.instance===null)switch(t.type){case"style":var m=e.querySelector('style[data-href~="'+Gt(c.href)+'"]');if(m)return t.instance=m,mt(m),m;var T=R({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(e.ownerDocument||e).createElement("style"),mt(m),Bt(m,"style",T),la(m,c.precedence,e),t.instance=m;case"stylesheet":T=Jr(c.href);var O=e.querySelector(qs(T));if(O)return t.state.loading|=4,t.instance=O,mt(O),O;m=Zf(c),(T=pi.get(T))&&mc(m,T),O=(e.ownerDocument||e).createElement("link"),mt(O);var W=O;return W._p=new Promise(function(X,te){W.onload=X,W.onerror=te}),Bt(O,"link",m),t.state.loading|=4,la(O,c.precedence,e),t.instance=O;case"script":return O=es(c.src),(T=e.querySelector(Qs(O)))?(t.instance=T,mt(T),T):(m=c,(T=pi.get(O))&&(m=R({},c),_c(m,T)),e=e.ownerDocument||e,T=e.createElement("script"),mt(T),Bt(T,"link",m),e.head.appendChild(T),t.instance=T);case"void":return null;default:throw Error(M(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(m=t.instance,t.state.loading|=4,la(m,c.precedence,e));return t.instance}function la(e,t,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=m.length?m[m.length-1]:null,O=T,W=0;W<m.length;W++){var X=m[W];if(X.dataset.precedence===t)O=X;else if(O!==T)break}O?O.parentNode.insertBefore(e,O.nextSibling):(t=c.nodeType===9?c.head:c,t.insertBefore(e,t.firstChild))}function mc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function _c(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ca=null;function ed(e,t,c){if(ca===null){var m=new Map,T=ca=new Map;T.set(c,m)}else T=ca,m=T.get(c),m||(m=new Map,T.set(c,m));if(m.has(e))return m;for(m.set(e,null),c=c.getElementsByTagName(e),T=0;T<c.length;T++){var O=c[T];if(!(O[jn]||O[Mt]||e==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var W=O.getAttribute(t)||"";W=e+W;var X=m.get(W);X?X.push(O):m.set(W,[O])}}return m}function td(e,t,c){e=e.ownerDocument||e,e.head.insertBefore(c,t==="title"?e.querySelector("head > title"):null)}function Ug(e,t,c){if(c===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function id(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Zs=null;function Wg(){}function jg(e,t,c){if(Zs===null)throw Error(M(475));var m=Zs;if(t.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var T=Jr(c.href),O=e.querySelector(qs(T));if(O){e=O._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(m.count++,m=ha.bind(m),e.then(m,m)),t.state.loading|=4,t.instance=O,mt(O);return}O=e.ownerDocument||e,c=Zf(c),(T=pi.get(T))&&mc(c,T),O=O.createElement("link"),mt(O);var W=O;W._p=new Promise(function(X,te){W.onload=X,W.onerror=te}),Bt(O,"link",c),t.instance=O}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(m.count++,t=ha.bind(m),e.addEventListener("load",t),e.addEventListener("error",t))}}function Vg(){if(Zs===null)throw Error(M(475));var e=Zs;return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count?function(t){var c=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(c)}}:null}function ha(){if(this.count--,this.count===0){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ua=null;function yc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ua=new Map,t.forEach(Gg,e),ua=null,ha.call(e))}function Gg(e,t){if(!(t.state.loading&4)){var c=ua.get(e);if(c)var m=c.get(null);else{c=new Map,ua.set(e,c);for(var T=e.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<T.length;O++){var W=T[O];(W.nodeName==="LINK"||W.getAttribute("media")!=="not all")&&(c.set(W.dataset.precedence,W),m=W)}m&&c.set(null,m)}T=t.instance,W=T.getAttribute("data-precedence"),O=c.get(W)||m,O===m&&c.set(null,T),c.set(W,T),this.count++,m=ha.bind(this),T.addEventListener("load",m),T.addEventListener("error",m),O?O.parentNode.insertBefore(T,O.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(T,e.firstChild)),t.state.loading|=4}}var Js={$$typeof:n,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function Kg(e,t,c,m,T,O,W,X){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.hiddenUpdates=ss(null),this.identifierPrefix=m,this.onUncaughtError=T,this.onCaughtError=O,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function nd(e,t,c,m,T,O,W,X,te,se,de,_e){return e=new Kg(e,t,c,W,X,te,se,_e),t=1,O===!0&&(t|=24),O=fi(3,null,null,t),e.current=O,O.stateNode=e,t=Qa(),t.refCount++,e.pooledCache=t,t.refCount++,O.memoizedState={element:m,isDehydrated:c,cache:t},kl(O),e}function rd(e){return e?(e=$r,e):$r}function sd(e,t,c,m,T,O){T=rd(T),m.context===null?m.context=T:m.pendingContext=T,m=Mn(t),m.payload={element:c},O=O===void 0?null:O,O!==null&&(m.callback=O),c=Tn(e,m,t),c!==null&&(Wt(c,e,t),Ns(c,e,t))}function od(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var c=e.retryLane;e.retryLane=c!==0&&c<t?c:t}}function bc(e,t){od(e,t),(e=e.alternate)&&od(e,t)}function ad(e){if(e.tag===13){var t=yn(e,67108864);t!==null&&Wt(t,e,67108864),bc(e,67108864)}}var fa=!0;function Yg(e,t,c,m){var T=w.T;w.T=null;var O=Y.p;try{Y.p=2,Sc(e,t,c,m)}finally{Y.p=O,w.T=T}}function Xg(e,t,c,m){var T=w.T;w.T=null;var O=Y.p;try{Y.p=8,Sc(e,t,c,m)}finally{Y.p=O,w.T=T}}function Sc(e,t,c,m){if(fa){var T=wc(m);if(T===null)cc(e,t,m,da,c),cd(e,m);else if(Qg(T,e,t,c,m))m.stopPropagation();else if(cd(e,m),t&4&&-1<qg.indexOf(e)){for(;T!==null;){var O=Vt(T);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var W=vi(O.pendingLanes);if(W!==0){var X=O;for(X.pendingLanes|=2,X.entangledLanes|=2;W;){var te=1<<31-ve(W);X.entanglements[1]|=te,W&=~te}zi(O),(ht&6)===0&&(qo=ot()+500,Ks(0))}}break;case 13:X=yn(O,2),X!==null&&Wt(X,O,2),Jo(),bc(O,2)}if(O=wc(m),O===null&&cc(e,t,m,da,c),O===T)break;T=O}T!==null&&m.stopPropagation()}else cc(e,t,m,null,c)}}function wc(e){return e=Si(e),Cc(e)}var da=null;function Cc(e){if(da=null,e=Gi(e),e!==null){var t=F(e);if(t===null)e=null;else{var c=t.tag;if(c===13){if(e=N(t),e!==null)return e;e=null}else if(c===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return da=e,null}function ld(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(At()){case ue:return 2;case ye:return 8;case Se:case De:return 32;case Re:return 268435456;default:return 32}default:return 32}}var Ec=!1,On=null,Bn=null,Nn=null,eo=new Map,to=new Map,In=[],qg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cd(e,t){switch(e){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":eo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(t.pointerId)}}function io(e,t,c,m,T,O){return e===null||e.nativeEvent!==O?(e={blockedOn:t,domEventName:c,eventSystemFlags:m,nativeEvent:O,targetContainers:[T]},t!==null&&(t=Vt(t),t!==null&&ad(t)),e):(e.eventSystemFlags|=m,t=e.targetContainers,T!==null&&t.indexOf(T)===-1&&t.push(T),e)}function Qg(e,t,c,m,T){switch(t){case"focusin":return On=io(On,e,t,c,m,T),!0;case"dragenter":return Bn=io(Bn,e,t,c,m,T),!0;case"mouseover":return Nn=io(Nn,e,t,c,m,T),!0;case"pointerover":var O=T.pointerId;return eo.set(O,io(eo.get(O)||null,e,t,c,m,T)),!0;case"gotpointercapture":return O=T.pointerId,to.set(O,io(to.get(O)||null,e,t,c,m,T)),!0}return!1}function hd(e){var t=Gi(e.target);if(t!==null){var c=F(t);if(c!==null){if(t=c.tag,t===13){if(t=N(c),t!==null){e.blockedOn=t,Vi(e.priority,function(){if(c.tag===13){var m=ii(),T=yn(c,m);T!==null&&Wt(T,c,m),bc(c,m)}});return}}else if(t===3&&c.stateNode.current.memoizedState.isDehydrated){e.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var c=wc(e.nativeEvent);if(c===null){c=e.nativeEvent;var m=new c.constructor(c.type,c);gs=m,c.target.dispatchEvent(m),gs=null}else return t=Vt(c),t!==null&&ad(t),e.blockedOn=c,!1;t.shift()}return!0}function ud(e,t,c){pa(e)&&c.delete(t)}function Zg(){Ec=!1,On!==null&&pa(On)&&(On=null),Bn!==null&&pa(Bn)&&(Bn=null),Nn!==null&&pa(Nn)&&(Nn=null),eo.forEach(ud),to.forEach(ud)}function ga(e,t){e.blockedOn===t&&(e.blockedOn=null,Ec||(Ec=!0,j.unstable_scheduleCallback(j.unstable_NormalPriority,Zg)))}var va=null;function fd(e){va!==e&&(va=e,j.unstable_scheduleCallback(j.unstable_NormalPriority,function(){va===e&&(va=null);for(var t=0;t<e.length;t+=3){var c=e[t],m=e[t+1],T=e[t+2];if(typeof m!="function"){if(Cc(m||c)===null)continue;break}var O=Vt(c);O!==null&&(e.splice(t,3),t-=3,dl(O,{pending:!0,data:T,method:c.method,action:m},m,T))}}))}function no(e){function t(te){return ga(te,e)}On!==null&&ga(On,e),Bn!==null&&ga(Bn,e),Nn!==null&&ga(Nn,e),eo.forEach(t),to.forEach(t);for(var c=0;c<In.length;c++){var m=In[c];m.blockedOn===e&&(m.blockedOn=null)}for(;0<In.length&&(c=In[0],c.blockedOn===null);)hd(c),c.blockedOn===null&&In.shift();if(c=(e.ownerDocument||e).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var T=c[m],O=c[m+1],W=T[Nt]||null;if(typeof O=="function")W||fd(c);else if(W){var X=null;if(O&&O.hasAttribute("formAction")){if(T=O,W=O[Nt]||null)X=W.formAction;else if(Cc(T)!==null)continue}else X=W.action;typeof X=="function"?c[m+1]=X:(c.splice(m,3),m-=3),fd(c)}}}function Ac(e){this._internalRoot=e}ma.prototype.render=Ac.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(M(409));var c=t.current,m=ii();sd(c,m,e,t,null,null)},ma.prototype.unmount=Ac.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&Xr(),sd(e.current,2,null,e,null,null),Jo(),t[dn]=null}};function ma(e){this._internalRoot=e}ma.prototype.unstable_scheduleHydration=function(e){if(e){var t=_r();e={blockedOn:null,target:e,priority:t};for(var c=0;c<In.length&&t!==0&&t<In[c].priority;c++);In.splice(c,0,e),c===0&&hd(e)}};var dd=I.version;if(dd!=="19.0.0")throw Error(M(527,dd,"19.0.0"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(M(188)):(e=Object.keys(e).join(","),Error(M(268,e)));return e=P(t),e=e!==null?V(e):null,e=e===null?null:e.stateNode,e};var Jg={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:Gi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_a.isDisabled&&_a.supportsFiber)try{Ve=_a.inject(Jg),Be=_a}catch{}}return so.createRoot=function(e,t){if(!K(e))throw Error(M(299));var c=!1,m="",T=Lu,O=Ru,W=ku,X=null;return t!=null&&(t.unstable_strictMode===!0&&(c=!0),t.identifierPrefix!==void 0&&(m=t.identifierPrefix),t.onUncaughtError!==void 0&&(T=t.onUncaughtError),t.onCaughtError!==void 0&&(O=t.onCaughtError),t.onRecoverableError!==void 0&&(W=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(X=t.unstable_transitionCallbacks)),t=nd(e,1,!1,null,null,c,m,T,O,W,X,null),e[dn]=t.current,lc(e.nodeType===8?e.parentNode:e),new Ac(t)},so.hydrateRoot=function(e,t,c){if(!K(e))throw Error(M(299));var m=!1,T="",O=Lu,W=Ru,X=ku,te=null,se=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(T=c.identifierPrefix),c.onUncaughtError!==void 0&&(O=c.onUncaughtError),c.onCaughtError!==void 0&&(W=c.onCaughtError),c.onRecoverableError!==void 0&&(X=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(te=c.unstable_transitionCallbacks),c.formState!==void 0&&(se=c.formState)),t=nd(e,1,!0,t,c??null,m,T,O,W,X,te,se),t.context=rd(null),c=t.current,m=ii(),T=Mn(m),T.callback=null,Tn(c,T,m),t.current.lanes=m,Wn(t,m),zi(t),e[dn]=t.current,lc(e),new ma(t)},so.version="19.0.0",so}var Cd;function hv(){if(Cd)return xc.exports;Cd=1;function j(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j)}catch(I){console.error(I)}}return j(),xc.exports=cv(),xc.exports}var uv=hv(),$c={exports:{}},Ed;function fv(){return Ed||(Ed=1,function(j,I){(function(L,M){j.exports=M()})(globalThis,()=>(()=>{var L={4567:function(x,v,h){var d=this&&this.__decorate||function(u,g,y,_){var p,S=arguments.length,b=S<3?g:_===null?_=Object.getOwnPropertyDescriptor(g,y):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,g,y,_);else for(var w=u.length-1;w>=0;w--)(p=u[w])&&(b=(S<3?p(b):S>3?p(g,y,b):p(g,y))||b);return S>3&&b&&Object.defineProperty(g,y,b),b},s=this&&this.__param||function(u,g){return function(y,_){g(y,_,u)}};Object.defineProperty(v,"__esModule",{value:!0}),v.AccessibilityManager=void 0;const i=h(9042),r=h(9924),n=h(844),o=h(4725),a=h(2585),l=h(3656);let f=v.AccessibilityManager=class extends n.Disposable{constructor(u,g,y,_){super(),this._terminal=u,this._coreBrowserService=y,this._renderService=_,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let p=0;p<this._terminal.rows;p++)this._rowElements[p]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[p]);if(this._topBoundaryFocusListener=p=>this._handleBoundaryFocus(p,0),this._bottomBoundaryFocusListener=p=>this._handleBoundaryFocus(p,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new r.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(p=>this._handleResize(p.rows))),this.register(this._terminal.onRender(p=>this._refreshRows(p.start,p.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(p=>this._handleChar(p))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(p=>this._handleTab(p))),this.register(this._terminal.onKey(p=>this._handleKey(p.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this.register((0,l.addDisposableDomListener)(document,"selectionchange",()=>this._handleSelectionChange())),this.register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,n.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(u){for(let g=0;g<u;g++)this._handleChar(" ")}_handleChar(u){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==u&&(this._charsToAnnounce+=u):this._charsToAnnounce+=u,u===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=i.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(u){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(u)||this._charsToConsume.push(u)}_refreshRows(u,g){this._liveRegionDebouncer.refresh(u,g,this._terminal.rows)}_renderRows(u,g){const y=this._terminal.buffer,_=y.lines.length.toString();for(let p=u;p<=g;p++){const S=y.lines.get(y.ydisp+p),b=[],w=(S==null?void 0:S.translateToString(!0,void 0,void 0,b))||"",R=(y.ydisp+p+1).toString(),H=this._rowElements[p];H&&(w.length===0?(H.innerText=" ",this._rowColumns.set(H,[0,1])):(H.textContent=w,this._rowColumns.set(H,b)),H.setAttribute("aria-posinset",R),H.setAttribute("aria-setsize",_))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(u,g){const y=u.target,_=this._rowElements[g===0?1:this._rowElements.length-2];if(y.getAttribute("aria-posinset")===(g===0?"1":`${this._terminal.buffer.lines.length}`)||u.relatedTarget!==_)return;let p,S;if(g===0?(p=y,S=this._rowElements.pop(),this._rowContainer.removeChild(S)):(p=this._rowElements.shift(),S=y,this._rowContainer.removeChild(p)),p.removeEventListener("focus",this._topBoundaryFocusListener),S.removeEventListener("focus",this._bottomBoundaryFocusListener),g===0){const b=this._createAccessibilityTreeNode();this._rowElements.unshift(b),this._rowContainer.insertAdjacentElement("afterbegin",b)}else{const b=this._createAccessibilityTreeNode();this._rowElements.push(b),this._rowContainer.appendChild(b)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(g===0?-1:1),this._rowElements[g===0?1:this._rowElements.length-2].focus(),u.preventDefault(),u.stopImmediatePropagation()}_handleSelectionChange(){var w;if(this._rowElements.length===0)return;const u=document.getSelection();if(!u)return;if(u.isCollapsed)return void(this._rowContainer.contains(u.anchorNode)&&this._terminal.clearSelection());if(!u.anchorNode||!u.focusNode)return void console.error("anchorNode and/or focusNode are null");let g={node:u.anchorNode,offset:u.anchorOffset},y={node:u.focusNode,offset:u.focusOffset};if((g.node.compareDocumentPosition(y.node)&Node.DOCUMENT_POSITION_PRECEDING||g.node===y.node&&g.offset>y.offset)&&([g,y]=[y,g]),g.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(g={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(g.node))return;const _=this._rowElements.slice(-1)[0];if(y.node.compareDocumentPosition(_)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(y={node:_,offset:((w=_.textContent)==null?void 0:w.length)??0}),!this._rowContainer.contains(y.node))return;const p=({node:R,offset:H})=>{const k=R instanceof Text?R.parentNode:R;let E=parseInt(k==null?void 0:k.getAttribute("aria-posinset"),10)-1;if(isNaN(E))return console.warn("row is invalid. Race condition?"),null;const A=this._rowColumns.get(k);if(!A)return console.warn("columns is null. Race condition?"),null;let C=H<A.length?A[H]:A.slice(-1)[0]+1;return C>=this._terminal.cols&&(++E,C=0),{row:E,column:C}},S=p(g),b=p(y);if(S&&b){if(S.row>b.row||S.row===b.row&&S.column>=b.column)throw new Error("invalid range");this._terminal.select(S.column,S.row,(b.row-S.row)*this._terminal.cols-S.column+b.column)}}_handleResize(u){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let g=this._rowContainer.children.length;g<this._terminal.rows;g++)this._rowElements[g]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[g]);for(;this._rowElements.length>u;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const u=this._coreBrowserService.mainDocument.createElement("div");return u.setAttribute("role","listitem"),u.tabIndex=-1,this._refreshRowDimensions(u),u}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let u=0;u<this._terminal.rows;u++)this._refreshRowDimensions(this._rowElements[u])}}_refreshRowDimensions(u){u.style.height=`${this._renderService.dimensions.css.cell.height}px`}};v.AccessibilityManager=f=d([s(1,a.IInstantiationService),s(2,o.ICoreBrowserService),s(3,o.IRenderService)],f)},3614:(x,v)=>{function h(r){return r.replace(/\r?\n/g,"\r")}function d(r,n){return n?"\x1B[200~"+r+"\x1B[201~":r}function s(r,n,o,a){r=d(r=h(r),o.decPrivateModes.bracketedPasteMode&&a.rawOptions.ignoreBracketedPasteMode!==!0),o.triggerDataEvent(r,!0),n.value=""}function i(r,n,o){const a=o.getBoundingClientRect(),l=r.clientX-a.left-10,f=r.clientY-a.top-10;n.style.width="20px",n.style.height="20px",n.style.left=`${l}px`,n.style.top=`${f}px`,n.style.zIndex="1000",n.focus()}Object.defineProperty(v,"__esModule",{value:!0}),v.rightClickHandler=v.moveTextAreaUnderMouseCursor=v.paste=v.handlePasteEvent=v.copyHandler=v.bracketTextForPaste=v.prepareTextForTerminal=void 0,v.prepareTextForTerminal=h,v.bracketTextForPaste=d,v.copyHandler=function(r,n){r.clipboardData&&r.clipboardData.setData("text/plain",n.selectionText),r.preventDefault()},v.handlePasteEvent=function(r,n,o,a){r.stopPropagation(),r.clipboardData&&s(r.clipboardData.getData("text/plain"),n,o,a)},v.paste=s,v.moveTextAreaUnderMouseCursor=i,v.rightClickHandler=function(r,n,o,a,l){i(r,n,o),l&&a.rightClickSelect(r),n.value=a.selectionText,n.select()}},7239:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ColorContrastCache=void 0;const d=h(1505);v.ColorContrastCache=class{constructor(){this._color=new d.TwoKeyMap,this._css=new d.TwoKeyMap}setCss(s,i,r){this._css.set(s,i,r)}getCss(s,i){return this._css.get(s,i)}setColor(s,i,r){this._color.set(s,i,r)}getColor(s,i){return this._color.get(s,i)}clear(){this._color.clear(),this._css.clear()}}},3656:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.addDisposableDomListener=void 0,v.addDisposableDomListener=function(h,d,s,i){h.addEventListener(d,s,i);let r=!1;return{dispose:()=>{r||(r=!0,h.removeEventListener(d,s,i))}}}},3551:function(x,v,h){var d=this&&this.__decorate||function(f,u,g,y){var _,p=arguments.length,S=p<3?u:y===null?y=Object.getOwnPropertyDescriptor(u,g):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(f,u,g,y);else for(var b=f.length-1;b>=0;b--)(_=f[b])&&(S=(p<3?_(S):p>3?_(u,g,S):_(u,g))||S);return p>3&&S&&Object.defineProperty(u,g,S),S},s=this&&this.__param||function(f,u){return function(g,y){u(g,y,f)}};Object.defineProperty(v,"__esModule",{value:!0}),v.Linkifier=void 0;const i=h(3656),r=h(8460),n=h(844),o=h(2585),a=h(4725);let l=v.Linkifier=class extends n.Disposable{get currentLink(){return this._currentLink}constructor(f,u,g,y,_){super(),this._element=f,this._mouseService=u,this._renderService=g,this._bufferService=y,this._linkProviderService=_,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new r.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new r.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,n.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,n.toDisposable)(()=>{var p;this._lastMouseEvent=void 0,(p=this._activeProviderReplies)==null||p.clear()})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this.register((0,i.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,i.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,i.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,i.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(f){this._lastMouseEvent=f;const u=this._positionFromMouseEvent(f,this._element,this._mouseService);if(!u)return;this._isMouseOut=!1;const g=f.composedPath();for(let y=0;y<g.length;y++){const _=g[y];if(_.classList.contains("xterm"))break;if(_.classList.contains("xterm-hover"))return}this._lastBufferCell&&u.x===this._lastBufferCell.x&&u.y===this._lastBufferCell.y||(this._handleHover(u),this._lastBufferCell=u)}_handleHover(f){if(this._activeLine!==f.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(f,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,f)||(this._clearCurrentLink(),this._askForLink(f,!0))}_askForLink(f,u){var y,_;this._activeProviderReplies&&u||((y=this._activeProviderReplies)==null||y.forEach(p=>{p==null||p.forEach(S=>{S.link.dispose&&S.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=f.y);let g=!1;for(const[p,S]of this._linkProviderService.linkProviders.entries())u?(_=this._activeProviderReplies)!=null&&_.get(p)&&(g=this._checkLinkProviderResult(p,f,g)):S.provideLinks(f.y,b=>{var R,H;if(this._isMouseOut)return;const w=b==null?void 0:b.map(k=>({link:k}));(R=this._activeProviderReplies)==null||R.set(p,w),g=this._checkLinkProviderResult(p,f,g),((H=this._activeProviderReplies)==null?void 0:H.size)===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(f.y,this._activeProviderReplies)})}_removeIntersectingLinks(f,u){const g=new Set;for(let y=0;y<u.size;y++){const _=u.get(y);if(_)for(let p=0;p<_.length;p++){const S=_[p],b=S.link.range.start.y<f?0:S.link.range.start.x,w=S.link.range.end.y>f?this._bufferService.cols:S.link.range.end.x;for(let R=b;R<=w;R++){if(g.has(R)){_.splice(p--,1);break}g.add(R)}}}}_checkLinkProviderResult(f,u,g){var p;if(!this._activeProviderReplies)return g;const y=this._activeProviderReplies.get(f);let _=!1;for(let S=0;S<f;S++)this._activeProviderReplies.has(S)&&!this._activeProviderReplies.get(S)||(_=!0);if(!_&&y){const S=y.find(b=>this._linkAtPosition(b.link,u));S&&(g=!0,this._handleNewLink(S))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!g)for(let S=0;S<this._activeProviderReplies.size;S++){const b=(p=this._activeProviderReplies.get(S))==null?void 0:p.find(w=>this._linkAtPosition(w.link,u));if(b){g=!0,this._handleNewLink(b);break}}return g}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(f){if(!this._currentLink)return;const u=this._positionFromMouseEvent(f,this._element,this._mouseService);u&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,u)&&this._currentLink.link.activate(f,this._currentLink.link.text)}_clearCurrentLink(f,u){this._currentLink&&this._lastMouseEvent&&(!f||!u||this._currentLink.link.range.start.y>=f&&this._currentLink.link.range.end.y<=u)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,n.disposeArray)(this._linkCacheDisposables))}_handleNewLink(f){if(!this._lastMouseEvent)return;const u=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);u&&this._linkAtPosition(f.link,u)&&(this._currentLink=f,this._currentLink.state={decorations:{underline:f.link.decorations===void 0||f.link.decorations.underline,pointerCursor:f.link.decorations===void 0||f.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,f.link,this._lastMouseEvent),f.link.decorations={},Object.defineProperties(f.link.decorations,{pointerCursor:{get:()=>{var g,y;return(y=(g=this._currentLink)==null?void 0:g.state)==null?void 0:y.decorations.pointerCursor},set:g=>{var y;(y=this._currentLink)!=null&&y.state&&this._currentLink.state.decorations.pointerCursor!==g&&(this._currentLink.state.decorations.pointerCursor=g,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",g))}},underline:{get:()=>{var g,y;return(y=(g=this._currentLink)==null?void 0:g.state)==null?void 0:y.decorations.underline},set:g=>{var y,_,p;(y=this._currentLink)!=null&&y.state&&((p=(_=this._currentLink)==null?void 0:_.state)==null?void 0:p.decorations.underline)!==g&&(this._currentLink.state.decorations.underline=g,this._currentLink.state.isHovered&&this._fireUnderlineEvent(f.link,g))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(g=>{if(!this._currentLink)return;const y=g.start===0?0:g.start+1+this._bufferService.buffer.ydisp,_=this._bufferService.buffer.ydisp+1+g.end;if(this._currentLink.link.range.start.y>=y&&this._currentLink.link.range.end.y<=_&&(this._clearCurrentLink(y,_),this._lastMouseEvent)){const p=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);p&&this._askForLink(p,!1)}})))}_linkHover(f,u,g){var y;(y=this._currentLink)!=null&&y.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(u,!0),this._currentLink.state.decorations.pointerCursor&&f.classList.add("xterm-cursor-pointer")),u.hover&&u.hover(g,u.text)}_fireUnderlineEvent(f,u){const g=f.range,y=this._bufferService.buffer.ydisp,_=this._createLinkUnderlineEvent(g.start.x-1,g.start.y-y-1,g.end.x,g.end.y-y-1,void 0);(u?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(_)}_linkLeave(f,u,g){var y;(y=this._currentLink)!=null&&y.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(u,!1),this._currentLink.state.decorations.pointerCursor&&f.classList.remove("xterm-cursor-pointer")),u.leave&&u.leave(g,u.text)}_linkAtPosition(f,u){const g=f.range.start.y*this._bufferService.cols+f.range.start.x,y=f.range.end.y*this._bufferService.cols+f.range.end.x,_=u.y*this._bufferService.cols+u.x;return g<=_&&_<=y}_positionFromMouseEvent(f,u,g){const y=g.getCoords(f,u,this._bufferService.cols,this._bufferService.rows);if(y)return{x:y[0],y:y[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(f,u,g,y,_){return{x1:f,y1:u,x2:g,y2:y,cols:this._bufferService.cols,fg:_}}};v.Linkifier=l=d([s(1,a.IMouseService),s(2,a.IRenderService),s(3,o.IBufferService),s(4,a.ILinkProviderService)],l)},9042:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.tooMuchOutput=v.promptLabel=void 0,v.promptLabel="Terminal input",v.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(x,v,h){var d=this&&this.__decorate||function(a,l,f,u){var g,y=arguments.length,_=y<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,f):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(a,l,f,u);else for(var p=a.length-1;p>=0;p--)(g=a[p])&&(_=(y<3?g(_):y>3?g(l,f,_):g(l,f))||_);return y>3&&_&&Object.defineProperty(l,f,_),_},s=this&&this.__param||function(a,l){return function(f,u){l(f,u,a)}};Object.defineProperty(v,"__esModule",{value:!0}),v.OscLinkProvider=void 0;const i=h(511),r=h(2585);let n=v.OscLinkProvider=class{constructor(a,l,f){this._bufferService=a,this._optionsService=l,this._oscLinkService=f}provideLinks(a,l){var w;const f=this._bufferService.buffer.lines.get(a-1);if(!f)return void l(void 0);const u=[],g=this._optionsService.rawOptions.linkHandler,y=new i.CellData,_=f.getTrimmedLength();let p=-1,S=-1,b=!1;for(let R=0;R<_;R++)if(S!==-1||f.hasContent(R)){if(f.loadCell(R,y),y.hasExtendedAttrs()&&y.extended.urlId){if(S===-1){S=R,p=y.extended.urlId;continue}b=y.extended.urlId!==p}else S!==-1&&(b=!0);if(b||S!==-1&&R===_-1){const H=(w=this._oscLinkService.getLinkData(p))==null?void 0:w.uri;if(H){const k={start:{x:S+1,y:a},end:{x:R+(b||R!==_-1?0:1),y:a}};let E=!1;if(!(g!=null&&g.allowNonHttpProtocols))try{const A=new URL(H);["http:","https:"].includes(A.protocol)||(E=!0)}catch{E=!0}E||u.push({text:H,range:k,activate:(A,C)=>g?g.activate(A,C,k):o(0,C),hover:(A,C)=>{var $;return($=g==null?void 0:g.hover)==null?void 0:$.call(g,A,C,k)},leave:(A,C)=>{var $;return($=g==null?void 0:g.leave)==null?void 0:$.call(g,A,C,k)}})}b=!1,y.hasExtendedAttrs()&&y.extended.urlId?(S=R,p=y.extended.urlId):(S=-1,p=-1)}}l(u)}};function o(a,l){if(confirm(`Do you want to navigate to ${l}?

WARNING: This link could potentially be dangerous`)){const f=window.open();if(f){try{f.opener=null}catch{}f.location.href=l}else console.warn("Opening link blocked as opener could not be cleared")}}v.OscLinkProvider=n=d([s(0,r.IBufferService),s(1,r.IOptionsService),s(2,r.IOscLinkService)],n)},6193:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.RenderDebouncer=void 0,v.RenderDebouncer=class{constructor(h,d){this._renderCallback=h,this._coreBrowserService=d,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(h){return this._refreshCallbacks.push(h),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(h,d,s){this._rowCount=s,h=h!==void 0?h:0,d=d!==void 0?d:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,h):h,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,d):d,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const h=Math.max(this._rowStart,0),d=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(h,d),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const h of this._refreshCallbacks)h(0);this._refreshCallbacks=[]}}},3236:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Terminal=void 0;const d=h(3614),s=h(3656),i=h(3551),r=h(9042),n=h(3730),o=h(1680),a=h(3107),l=h(5744),f=h(2950),u=h(1296),g=h(428),y=h(4269),_=h(5114),p=h(8934),S=h(3230),b=h(9312),w=h(4725),R=h(6731),H=h(8055),k=h(8969),E=h(8460),A=h(844),C=h(6114),$=h(8437),z=h(2584),F=h(7399),N=h(5941),B=h(9074),P=h(2585),V=h(5435),G=h(4567),Y=h(779);class q extends k.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(Q={}){super(Q),this.browser=C,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new A.MutableDisposable),this._onCursorMove=this.register(new E.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new E.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new E.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new E.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new E.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new E.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new E.EventEmitter),this._onBlur=this.register(new E.EventEmitter),this._onA11yCharEmitter=this.register(new E.EventEmitter),this._onA11yTabEmitter=this.register(new E.EventEmitter),this._onWillOpen=this.register(new E.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(B.DecorationService),this._instantiationService.setService(P.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(Y.LinkProviderService),this._instantiationService.setService(w.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(n.OscLinkProvider)),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((U,ie)=>this.refresh(U,ie))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(U=>this._reportWindowsOptions(U))),this.register(this._inputHandler.onColor(U=>this._handleColorEvent(U))),this.register((0,E.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,E.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,E.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,E.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(U=>this._afterResize(U.cols,U.rows))),this.register((0,A.toDisposable)(()=>{var U,ie;this._customKeyEventHandler=void 0,(ie=(U=this.element)==null?void 0:U.parentNode)==null||ie.removeChild(this.element)}))}_handleColorEvent(Q){if(this._themeService)for(const U of Q){let ie,ee="";switch(U.index){case 256:ie="foreground",ee="10";break;case 257:ie="background",ee="11";break;case 258:ie="cursor",ee="12";break;default:ie="ansi",ee="4;"+U.index}switch(U.type){case 0:const he=H.color.toColorRGB(ie==="ansi"?this._themeService.colors.ansi[U.index]:this._themeService.colors[ie]);this.coreService.triggerDataEvent(`${z.C0.ESC}]${ee};${(0,N.toRgbString)(he)}${z.C1_ESCAPED.ST}`);break;case 1:if(ie==="ansi")this._themeService.modifyColors(pe=>pe.ansi[U.index]=H.channels.toColor(...U.color));else{const pe=ie;this._themeService.modifyColors(be=>be[pe]=H.channels.toColor(...U.color))}break;case 2:this._themeService.restoreColor(U.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(Q){Q?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(G.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(Q){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(z.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var Q;return(Q=this.textarea)==null?void 0:Q.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(z.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const Q=this.buffer.ybase+this.buffer.y,U=this.buffer.lines.get(Q);if(!U)return;const ie=Math.min(this.buffer.x,this.cols-1),ee=this._renderService.dimensions.css.cell.height,he=U.getWidth(ie),pe=this._renderService.dimensions.css.cell.width*he,be=this.buffer.y*this._renderService.dimensions.css.cell.height,Le=ie*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Le+"px",this.textarea.style.top=be+"px",this.textarea.style.width=pe+"px",this.textarea.style.height=ee+"px",this.textarea.style.lineHeight=ee+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,s.addDisposableDomListener)(this.element,"copy",U=>{this.hasSelection()&&(0,d.copyHandler)(U,this._selectionService)}));const Q=U=>(0,d.handlePasteEvent)(U,this.textarea,this.coreService,this.optionsService);this.register((0,s.addDisposableDomListener)(this.textarea,"paste",Q)),this.register((0,s.addDisposableDomListener)(this.element,"paste",Q)),C.isFirefox?this.register((0,s.addDisposableDomListener)(this.element,"mousedown",U=>{U.button===2&&(0,d.rightClickHandler)(U,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,s.addDisposableDomListener)(this.element,"contextmenu",U=>{(0,d.rightClickHandler)(U,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),C.isLinux&&this.register((0,s.addDisposableDomListener)(this.element,"auxclick",U=>{U.button===1&&(0,d.moveTextAreaUnderMouseCursor)(U,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,s.addDisposableDomListener)(this.textarea,"keyup",Q=>this._keyUp(Q),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"keydown",Q=>this._keyDown(Q),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"keypress",Q=>this._keyPress(Q),!0)),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionupdate",Q=>this._compositionHelper.compositionupdate(Q))),this.register((0,s.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,s.addDisposableDomListener)(this.textarea,"input",Q=>this._inputEvent(Q),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(Q){var ie;if(!Q)throw new Error("Terminal requires a parent element.");if(Q.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),((ie=this.element)==null?void 0:ie.ownerDocument.defaultView)&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=Q.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),Q.appendChild(this.element);const U=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),U.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,s.addDisposableDomListener)(this.screenElement,"mousemove",ee=>this.updateCursorStyle(ee))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),U.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",r.promptLabel),C.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(_.CoreBrowserService,this.textarea,Q.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(w.ICoreBrowserService,this._coreBrowserService),this.register((0,s.addDisposableDomListener)(this.textarea,"focus",ee=>this._handleTextAreaFocus(ee))),this.register((0,s.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(g.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(w.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(R.ThemeService),this._instantiationService.setService(w.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(y.CharacterJoinerService),this._instantiationService.setService(w.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(S.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(w.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(ee=>this._onRender.fire(ee))),this.onResize(ee=>this._renderService.resize(ee.cols,ee.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(f.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(p.MouseService),this._instantiationService.setService(w.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(i.Linkifier,this.screenElement)),this.element.appendChild(U);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(o.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(ee=>this.scrollLines(ee.amount,ee.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(b.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(w.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(ee=>this.scrollLines(ee.amount,ee.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(ee=>this._renderService.handleSelectionChanged(ee.start,ee.end,ee.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(ee=>{this.textarea.value=ee,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(ee=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,s.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.register(this._instantiationService.createInstance(a.BufferDecorationRenderer,this.screenElement)),this.register((0,s.addDisposableDomListener)(this.element,"mousedown",ee=>this._selectionService.handleMouseDown(ee))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(G.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",ee=>this._handleScreenReaderModeOptionChange(ee))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(l.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",ee=>{!this._overviewRulerRenderer&&ee&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(l.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(u.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const Q=this,U=this.element;function ie(pe){const be=Q._mouseService.getMouseReportCoords(pe,Q.screenElement);if(!be)return!1;let Le,Te;switch(pe.overrideType||pe.type){case"mousemove":Te=32,pe.buttons===void 0?(Le=3,pe.button!==void 0&&(Le=pe.button<3?pe.button:3)):Le=1&pe.buttons?0:4&pe.buttons?1:2&pe.buttons?2:3;break;case"mouseup":Te=0,Le=pe.button<3?pe.button:3;break;case"mousedown":Te=1,Le=pe.button<3?pe.button:3;break;case"wheel":if(Q._customWheelEventHandler&&Q._customWheelEventHandler(pe)===!1||Q.viewport.getLinesScrolled(pe)===0)return!1;Te=pe.deltaY<0?0:1,Le=4;break;default:return!1}return!(Te===void 0||Le===void 0||Le>4)&&Q.coreMouseService.triggerMouseEvent({col:be.col,row:be.row,x:be.x,y:be.y,button:Le,action:Te,ctrl:pe.ctrlKey,alt:pe.altKey,shift:pe.shiftKey})}const ee={mouseup:null,wheel:null,mousedrag:null,mousemove:null},he={mouseup:pe=>(ie(pe),pe.buttons||(this._document.removeEventListener("mouseup",ee.mouseup),ee.mousedrag&&this._document.removeEventListener("mousemove",ee.mousedrag)),this.cancel(pe)),wheel:pe=>(ie(pe),this.cancel(pe,!0)),mousedrag:pe=>{pe.buttons&&ie(pe)},mousemove:pe=>{pe.buttons||ie(pe)}};this.register(this.coreMouseService.onProtocolChange(pe=>{pe?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(pe)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&pe?ee.mousemove||(U.addEventListener("mousemove",he.mousemove),ee.mousemove=he.mousemove):(U.removeEventListener("mousemove",ee.mousemove),ee.mousemove=null),16&pe?ee.wheel||(U.addEventListener("wheel",he.wheel,{passive:!1}),ee.wheel=he.wheel):(U.removeEventListener("wheel",ee.wheel),ee.wheel=null),2&pe?ee.mouseup||(ee.mouseup=he.mouseup):(this._document.removeEventListener("mouseup",ee.mouseup),ee.mouseup=null),4&pe?ee.mousedrag||(ee.mousedrag=he.mousedrag):(this._document.removeEventListener("mousemove",ee.mousedrag),ee.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,s.addDisposableDomListener)(U,"mousedown",pe=>{if(pe.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(pe))return ie(pe),ee.mouseup&&this._document.addEventListener("mouseup",ee.mouseup),ee.mousedrag&&this._document.addEventListener("mousemove",ee.mousedrag),this.cancel(pe)})),this.register((0,s.addDisposableDomListener)(U,"wheel",pe=>{if(!ee.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(pe)===!1)return!1;if(!this.buffer.hasScrollback){const be=this.viewport.getLinesScrolled(pe);if(be===0)return;const Le=z.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(pe.deltaY<0?"A":"B");let Te="";for(let ze=0;ze<Math.abs(be);ze++)Te+=Le;return this.coreService.triggerDataEvent(Te,!0),this.cancel(pe,!0)}return this.viewport.handleWheel(pe)?this.cancel(pe):void 0}},{passive:!1})),this.register((0,s.addDisposableDomListener)(U,"touchstart",pe=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(pe),this.cancel(pe)},{passive:!0})),this.register((0,s.addDisposableDomListener)(U,"touchmove",pe=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(pe)?void 0:this.cancel(pe)},{passive:!1}))}refresh(Q,U){var ie;(ie=this._renderService)==null||ie.refreshRows(Q,U)}updateCursorStyle(Q){var U;(U=this._selectionService)!=null&&U.shouldColumnSelect(Q)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(Q,U,ie=0){var ee;ie===1?(super.scrollLines(Q,U,ie),this.refresh(0,this.rows-1)):(ee=this.viewport)==null||ee.scrollLines(Q)}paste(Q){(0,d.paste)(Q,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(Q){this._customKeyEventHandler=Q}attachCustomWheelEventHandler(Q){this._customWheelEventHandler=Q}registerLinkProvider(Q){return this._linkProviderService.registerLinkProvider(Q)}registerCharacterJoiner(Q){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const U=this._characterJoinerService.register(Q);return this.refresh(0,this.rows-1),U}deregisterCharacterJoiner(Q){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(Q)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(Q){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+Q)}registerDecoration(Q){return this._decorationService.registerDecoration(Q)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(Q,U,ie){this._selectionService.setSelection(Q,U,ie)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var Q;(Q=this._selectionService)==null||Q.clearSelection()}selectAll(){var Q;(Q=this._selectionService)==null||Q.selectAll()}selectLines(Q,U){var ie;(ie=this._selectionService)==null||ie.selectLines(Q,U)}_keyDown(Q){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(Q)===!1)return!1;const U=this.browser.isMac&&this.options.macOptionIsMeta&&Q.altKey;if(!U&&!this._compositionHelper.keydown(Q))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;U||Q.key!=="Dead"&&Q.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const ie=(0,F.evaluateKeyboardEvent)(Q,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(Q),ie.type===3||ie.type===2){const ee=this.rows-1;return this.scrollLines(ie.type===2?-ee:ee),this.cancel(Q,!0)}return ie.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,Q)||(ie.cancel&&this.cancel(Q,!0),!ie.key||!!(Q.key&&!Q.ctrlKey&&!Q.altKey&&!Q.metaKey&&Q.key.length===1&&Q.key.charCodeAt(0)>=65&&Q.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(ie.key!==z.C0.ETX&&ie.key!==z.C0.CR||(this.textarea.value=""),this._onKey.fire({key:ie.key,domEvent:Q}),this._showCursor(),this.coreService.triggerDataEvent(ie.key,!0),!this.optionsService.rawOptions.screenReaderMode||Q.altKey||Q.ctrlKey?this.cancel(Q,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(Q,U){const ie=Q.isMac&&!this.options.macOptionIsMeta&&U.altKey&&!U.ctrlKey&&!U.metaKey||Q.isWindows&&U.altKey&&U.ctrlKey&&!U.metaKey||Q.isWindows&&U.getModifierState("AltGraph");return U.type==="keypress"?ie:ie&&(!U.keyCode||U.keyCode>47)}_keyUp(Q){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(Q)===!1||(function(U){return U.keyCode===16||U.keyCode===17||U.keyCode===18}(Q)||this.focus(),this.updateCursorStyle(Q),this._keyPressHandled=!1)}_keyPress(Q){let U;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(Q)===!1)return!1;if(this.cancel(Q),Q.charCode)U=Q.charCode;else if(Q.which===null||Q.which===void 0)U=Q.keyCode;else{if(Q.which===0||Q.charCode===0)return!1;U=Q.which}return!(!U||(Q.altKey||Q.ctrlKey||Q.metaKey)&&!this._isThirdLevelShift(this.browser,Q)||(U=String.fromCharCode(U),this._onKey.fire({key:U,domEvent:Q}),this._showCursor(),this.coreService.triggerDataEvent(U,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(Q){if(Q.data&&Q.inputType==="insertText"&&(!Q.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const U=Q.data;return this.coreService.triggerDataEvent(U,!0),this.cancel(Q),!0}return!1}resize(Q,U){Q!==this.cols||U!==this.rows?super.resize(Q,U):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(Q,U){var ie,ee;(ie=this._charSizeService)==null||ie.measure(),(ee=this.viewport)==null||ee.syncScrollArea(!0)}clear(){var Q;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let U=1;U<this.rows;U++)this.buffer.lines.push(this.buffer.getBlankLine($.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(Q=this.viewport)==null||Q.reset(),this.refresh(0,this.rows-1)}}reset(){var U,ie;this.options.rows=this.rows,this.options.cols=this.cols;const Q=this._customKeyEventHandler;this._setup(),super.reset(),(U=this._selectionService)==null||U.reset(),this._decorationService.reset(),(ie=this.viewport)==null||ie.reset(),this._customKeyEventHandler=Q,this.refresh(0,this.rows-1)}clearTextureAtlas(){var Q;(Q=this._renderService)==null||Q.clearTextureAtlas()}_reportFocus(){var Q;(Q=this.element)!=null&&Q.classList.contains("focus")?this.coreService.triggerDataEvent(z.C0.ESC+"[I"):this.coreService.triggerDataEvent(z.C0.ESC+"[O")}_reportWindowsOptions(Q){if(this._renderService)switch(Q){case V.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const U=this._renderService.dimensions.css.canvas.width.toFixed(0),ie=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${z.C0.ESC}[4;${ie};${U}t`);break;case V.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const ee=this._renderService.dimensions.css.cell.width.toFixed(0),he=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${z.C0.ESC}[6;${he};${ee}t`)}}cancel(Q,U){if(this.options.cancelEvents||U)return Q.preventDefault(),Q.stopPropagation(),!1}}v.Terminal=q},9924:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.TimeBasedDebouncer=void 0,v.TimeBasedDebouncer=class{constructor(h,d=1e3){this._renderCallback=h,this._debounceThresholdMS=d,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(h,d,s){this._rowCount=s,h=h!==void 0?h:0,d=d!==void 0?d:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,h):h,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,d):d;const i=Date.now();if(i-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=i,this._innerRefresh();else if(!this._additionalRefreshRequested){const r=i-this._lastRefreshMs,n=this._debounceThresholdMS-r;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},n)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const h=Math.max(this._rowStart,0),d=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(h,d)}}},1680:function(x,v,h){var d=this&&this.__decorate||function(f,u,g,y){var _,p=arguments.length,S=p<3?u:y===null?y=Object.getOwnPropertyDescriptor(u,g):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(f,u,g,y);else for(var b=f.length-1;b>=0;b--)(_=f[b])&&(S=(p<3?_(S):p>3?_(u,g,S):_(u,g))||S);return p>3&&S&&Object.defineProperty(u,g,S),S},s=this&&this.__param||function(f,u){return function(g,y){u(g,y,f)}};Object.defineProperty(v,"__esModule",{value:!0}),v.Viewport=void 0;const i=h(3656),r=h(4725),n=h(8460),o=h(844),a=h(2585);let l=v.Viewport=class extends o.Disposable{constructor(f,u,g,y,_,p,S,b){super(),this._viewportElement=f,this._scrollArea=u,this._bufferService=g,this._optionsService=y,this._charSizeService=_,this._renderService=p,this._coreBrowserService=S,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new n.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,i.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(w=>this._activeBuffer=w.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(w=>this._renderDimensions=w)),this._handleThemeChange(b.colors),this.register(b.onChangeColors(w=>this._handleThemeChange(w))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(f){this._viewportElement.style.backgroundColor=f.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(f){if(f)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const u=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==u&&(this._lastRecordedBufferHeight=u,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const f=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==f&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=f),this._refreshAnimationFrame=null}syncScrollArea(f=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(f);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(f)}_handleScroll(f){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const u=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:u,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const f=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(f*(this._smoothScrollState.target-this._smoothScrollState.origin)),f<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(f,u){const g=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(u<0&&this._viewportElement.scrollTop!==0||u>0&&g<this._lastRecordedBufferHeight)||(f.cancelable&&f.preventDefault(),!1)}handleWheel(f){const u=this._getPixelsScrolled(f);return u!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+u:this._smoothScrollState.target+=u,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=u,this._bubbleScroll(f,u))}scrollLines(f){if(f!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const u=f*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+u,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:f,suppressScrollEvent:!1})}_getPixelsScrolled(f){if(f.deltaY===0||f.shiftKey)return 0;let u=this._applyScrollModifier(f.deltaY,f);return f.deltaMode===WheelEvent.DOM_DELTA_LINE?u*=this._currentRowHeight:f.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(u*=this._currentRowHeight*this._bufferService.rows),u}getBufferElements(f,u){var b;let g,y="";const _=[],p=u??this._bufferService.buffer.lines.length,S=this._bufferService.buffer.lines;for(let w=f;w<p;w++){const R=S.get(w);if(!R)continue;const H=(b=S.get(w+1))==null?void 0:b.isWrapped;if(y+=R.translateToString(!H),!H||w===S.length-1){const k=document.createElement("div");k.textContent=y,_.push(k),y.length>0&&(g=k),y=""}}return{bufferElements:_,cursorElement:g}}getLinesScrolled(f){if(f.deltaY===0||f.shiftKey)return 0;let u=this._applyScrollModifier(f.deltaY,f);return f.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(u/=this._currentRowHeight+0,this._wheelPartialScroll+=u,u=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):f.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(u*=this._bufferService.rows),u}_applyScrollModifier(f,u){const g=this._optionsService.rawOptions.fastScrollModifier;return g==="alt"&&u.altKey||g==="ctrl"&&u.ctrlKey||g==="shift"&&u.shiftKey?f*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:f*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(f){this._lastTouchY=f.touches[0].pageY}handleTouchMove(f){const u=this._lastTouchY-f.touches[0].pageY;return this._lastTouchY=f.touches[0].pageY,u!==0&&(this._viewportElement.scrollTop+=u,this._bubbleScroll(f,u))}};v.Viewport=l=d([s(2,a.IBufferService),s(3,a.IOptionsService),s(4,r.ICharSizeService),s(5,r.IRenderService),s(6,r.ICoreBrowserService),s(7,r.IThemeService)],l)},3107:function(x,v,h){var d=this&&this.__decorate||function(a,l,f,u){var g,y=arguments.length,_=y<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,f):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(a,l,f,u);else for(var p=a.length-1;p>=0;p--)(g=a[p])&&(_=(y<3?g(_):y>3?g(l,f,_):g(l,f))||_);return y>3&&_&&Object.defineProperty(l,f,_),_},s=this&&this.__param||function(a,l){return function(f,u){l(f,u,a)}};Object.defineProperty(v,"__esModule",{value:!0}),v.BufferDecorationRenderer=void 0;const i=h(4725),r=h(844),n=h(2585);let o=v.BufferDecorationRenderer=class extends r.Disposable{constructor(a,l,f,u,g){super(),this._screenElement=a,this._bufferService=l,this._coreBrowserService=f,this._decorationService=u,this._renderService=g,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(y=>this._removeDecoration(y))),this.register((0,r.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const a of this._decorationService.decorations)this._renderDecoration(a);this._dimensionsChanged=!1}_renderDecoration(a){this._refreshStyle(a),this._dimensionsChanged&&this._refreshXPosition(a)}_createElement(a){var u;const l=this._coreBrowserService.mainDocument.createElement("div");l.classList.add("xterm-decoration"),l.classList.toggle("xterm-decoration-top-layer",((u=a==null?void 0:a.options)==null?void 0:u.layer)==="top"),l.style.width=`${Math.round((a.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,l.style.height=(a.options.height||1)*this._renderService.dimensions.css.cell.height+"px",l.style.top=(a.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",l.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const f=a.options.x??0;return f&&f>this._bufferService.cols&&(l.style.display="none"),this._refreshXPosition(a,l),l}_refreshStyle(a){const l=a.marker.line-this._bufferService.buffers.active.ydisp;if(l<0||l>=this._bufferService.rows)a.element&&(a.element.style.display="none",a.onRenderEmitter.fire(a.element));else{let f=this._decorationElements.get(a);f||(f=this._createElement(a),a.element=f,this._decorationElements.set(a,f),this._container.appendChild(f),a.onDispose(()=>{this._decorationElements.delete(a),f.remove()})),f.style.top=l*this._renderService.dimensions.css.cell.height+"px",f.style.display=this._altBufferIsActive?"none":"block",a.onRenderEmitter.fire(f)}}_refreshXPosition(a,l=a.element){if(!l)return;const f=a.options.x??0;(a.options.anchor||"left")==="right"?l.style.right=f?f*this._renderService.dimensions.css.cell.width+"px":"":l.style.left=f?f*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(a){var l;(l=this._decorationElements.get(a))==null||l.remove(),this._decorationElements.delete(a),a.dispose()}};v.BufferDecorationRenderer=o=d([s(1,n.IBufferService),s(2,i.ICoreBrowserService),s(3,n.IDecorationService),s(4,i.IRenderService)],o)},5871:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ColorZoneStore=void 0,v.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(h){if(h.options.overviewRulerOptions){for(const d of this._zones)if(d.color===h.options.overviewRulerOptions.color&&d.position===h.options.overviewRulerOptions.position){if(this._lineIntersectsZone(d,h.marker.line))return;if(this._lineAdjacentToZone(d,h.marker.line,h.options.overviewRulerOptions.position))return void this._addLineToZone(d,h.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=h.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=h.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=h.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=h.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:h.options.overviewRulerOptions.color,position:h.options.overviewRulerOptions.position,startBufferLine:h.marker.line,endBufferLine:h.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(h){this._linePadding=h}_lineIntersectsZone(h,d){return d>=h.startBufferLine&&d<=h.endBufferLine}_lineAdjacentToZone(h,d,s){return d>=h.startBufferLine-this._linePadding[s||"full"]&&d<=h.endBufferLine+this._linePadding[s||"full"]}_addLineToZone(h,d){h.startBufferLine=Math.min(h.startBufferLine,d),h.endBufferLine=Math.max(h.endBufferLine,d)}}},5744:function(x,v,h){var d=this&&this.__decorate||function(g,y,_,p){var S,b=arguments.length,w=b<3?y:p===null?p=Object.getOwnPropertyDescriptor(y,_):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(g,y,_,p);else for(var R=g.length-1;R>=0;R--)(S=g[R])&&(w=(b<3?S(w):b>3?S(y,_,w):S(y,_))||w);return b>3&&w&&Object.defineProperty(y,_,w),w},s=this&&this.__param||function(g,y){return function(_,p){y(_,p,g)}};Object.defineProperty(v,"__esModule",{value:!0}),v.OverviewRulerRenderer=void 0;const i=h(5871),r=h(4725),n=h(844),o=h(2585),a={full:0,left:0,center:0,right:0},l={full:0,left:0,center:0,right:0},f={full:0,left:0,center:0,right:0};let u=v.OverviewRulerRenderer=class extends n.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(g,y,_,p,S,b,w){var H;super(),this._viewportElement=g,this._screenElement=y,this._bufferService=_,this._decorationService=p,this._renderService=S,this._optionsService=b,this._coreBrowserService=w,this._colorZoneStore=new i.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(H=this._viewportElement.parentElement)==null||H.insertBefore(this._canvas,this._viewportElement);const R=this._canvas.getContext("2d");if(!R)throw new Error("Ctx cannot be null");this._ctx=R,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,n.toDisposable)(()=>{var k;(k=this._canvas)==null||k.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const g=Math.floor(this._canvas.width/3),y=Math.ceil(this._canvas.width/3);l.full=this._canvas.width,l.left=g,l.center=y,l.right=g,this._refreshDrawHeightConstants(),f.full=0,f.left=0,f.center=l.left,f.right=l.left+l.center}_refreshDrawHeightConstants(){a.full=Math.round(2*this._coreBrowserService.dpr);const g=this._canvas.height/this._bufferService.buffer.lines.length,y=Math.round(Math.max(Math.min(g,12),6)*this._coreBrowserService.dpr);a.left=y,a.center=y,a.right=y}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const y of this._decorationService.decorations)this._colorZoneStore.addDecoration(y);this._ctx.lineWidth=1;const g=this._colorZoneStore.zones;for(const y of g)y.position!=="full"&&this._renderColorZone(y);for(const y of g)y.position==="full"&&this._renderColorZone(y);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(g){this._ctx.fillStyle=g.color,this._ctx.fillRect(f[g.position||"full"],Math.round((this._canvas.height-1)*(g.startBufferLine/this._bufferService.buffers.active.lines.length)-a[g.position||"full"]/2),l[g.position||"full"],Math.round((this._canvas.height-1)*((g.endBufferLine-g.startBufferLine)/this._bufferService.buffers.active.lines.length)+a[g.position||"full"]))}_queueRefresh(g,y){this._shouldUpdateDimensions=g||this._shouldUpdateDimensions,this._shouldUpdateAnchor=y||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};v.OverviewRulerRenderer=u=d([s(2,o.IBufferService),s(3,o.IDecorationService),s(4,r.IRenderService),s(5,o.IOptionsService),s(6,r.ICoreBrowserService)],u)},2950:function(x,v,h){var d=this&&this.__decorate||function(a,l,f,u){var g,y=arguments.length,_=y<3?l:u===null?u=Object.getOwnPropertyDescriptor(l,f):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(a,l,f,u);else for(var p=a.length-1;p>=0;p--)(g=a[p])&&(_=(y<3?g(_):y>3?g(l,f,_):g(l,f))||_);return y>3&&_&&Object.defineProperty(l,f,_),_},s=this&&this.__param||function(a,l){return function(f,u){l(f,u,a)}};Object.defineProperty(v,"__esModule",{value:!0}),v.CompositionHelper=void 0;const i=h(4725),r=h(2585),n=h(2584);let o=v.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(a,l,f,u,g,y){this._textarea=a,this._compositionView=l,this._bufferService=f,this._optionsService=u,this._coreService=g,this._renderService=y,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(a){this._compositionView.textContent=a.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(a){if(this._isComposing||this._isSendingComposition){if(a.keyCode===229||a.keyCode===16||a.keyCode===17||a.keyCode===18)return!1;this._finalizeComposition(!1)}return a.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(a){if(this._compositionView.classList.remove("active"),this._isComposing=!1,a){const l={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let f;this._isSendingComposition=!1,l.start+=this._dataAlreadySent.length,f=this._isComposing?this._textarea.value.substring(l.start,l.end):this._textarea.value.substring(l.start),f.length>0&&this._coreService.triggerDataEvent(f,!0)}},0)}else{this._isSendingComposition=!1;const l=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(l,!0)}}_handleAnyTextareaChanges(){const a=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const l=this._textarea.value,f=l.replace(a,"");this._dataAlreadySent=f,l.length>a.length?this._coreService.triggerDataEvent(f,!0):l.length<a.length?this._coreService.triggerDataEvent(`${n.C0.DEL}`,!0):l.length===a.length&&l!==a&&this._coreService.triggerDataEvent(l,!0)}},0)}updateCompositionElements(a){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const l=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),f=this._renderService.dimensions.css.cell.height,u=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,g=l*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=g+"px",this._compositionView.style.top=u+"px",this._compositionView.style.height=f+"px",this._compositionView.style.lineHeight=f+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const y=this._compositionView.getBoundingClientRect();this._textarea.style.left=g+"px",this._textarea.style.top=u+"px",this._textarea.style.width=Math.max(y.width,1)+"px",this._textarea.style.height=Math.max(y.height,1)+"px",this._textarea.style.lineHeight=y.height+"px"}a||setTimeout(()=>this.updateCompositionElements(!0),0)}}};v.CompositionHelper=o=d([s(2,r.IBufferService),s(3,r.IOptionsService),s(4,r.ICoreService),s(5,i.IRenderService)],o)},9806:(x,v)=>{function h(d,s,i){const r=i.getBoundingClientRect(),n=d.getComputedStyle(i),o=parseInt(n.getPropertyValue("padding-left")),a=parseInt(n.getPropertyValue("padding-top"));return[s.clientX-r.left-o,s.clientY-r.top-a]}Object.defineProperty(v,"__esModule",{value:!0}),v.getCoords=v.getCoordsRelativeToElement=void 0,v.getCoordsRelativeToElement=h,v.getCoords=function(d,s,i,r,n,o,a,l,f){if(!o)return;const u=h(d,s,i);return u?(u[0]=Math.ceil((u[0]+(f?a/2:0))/a),u[1]=Math.ceil(u[1]/l),u[0]=Math.min(Math.max(u[0],1),r+(f?1:0)),u[1]=Math.min(Math.max(u[1],1),n),u):void 0}},9504:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.moveToCellSequence=void 0;const d=h(2584);function s(l,f,u,g){const y=l-i(l,u),_=f-i(f,u),p=Math.abs(y-_)-function(S,b,w){let R=0;const H=S-i(S,w),k=b-i(b,w);for(let E=0;E<Math.abs(H-k);E++){const A=r(S,b)==="A"?-1:1,C=w.buffer.lines.get(H+A*E);C!=null&&C.isWrapped&&R++}return R}(l,f,u);return a(p,o(r(l,f),g))}function i(l,f){let u=0,g=f.buffer.lines.get(l),y=g==null?void 0:g.isWrapped;for(;y&&l>=0&&l<f.rows;)u++,g=f.buffer.lines.get(--l),y=g==null?void 0:g.isWrapped;return u}function r(l,f){return l>f?"A":"B"}function n(l,f,u,g,y,_){let p=l,S=f,b="";for(;p!==u||S!==g;)p+=y?1:-1,y&&p>_.cols-1?(b+=_.buffer.translateBufferLineToString(S,!1,l,p),p=0,l=0,S++):!y&&p<0&&(b+=_.buffer.translateBufferLineToString(S,!1,0,l+1),p=_.cols-1,l=p,S--);return b+_.buffer.translateBufferLineToString(S,!1,l,p)}function o(l,f){const u=f?"O":"[";return d.C0.ESC+u+l}function a(l,f){l=Math.floor(l);let u="";for(let g=0;g<l;g++)u+=f;return u}v.moveToCellSequence=function(l,f,u,g){const y=u.buffer.x,_=u.buffer.y;if(!u.buffer.hasScrollback)return function(b,w,R,H,k,E){return s(w,H,k,E).length===0?"":a(n(b,w,b,w-i(w,k),!1,k).length,o("D",E))}(y,_,0,f,u,g)+s(_,f,u,g)+function(b,w,R,H,k,E){let A;A=s(w,H,k,E).length>0?H-i(H,k):w;const C=H,$=function(z,F,N,B,P,V){let G;return G=s(N,B,P,V).length>0?B-i(B,P):F,z<N&&G<=B||z>=N&&G<B?"C":"D"}(b,w,R,H,k,E);return a(n(b,A,R,C,$==="C",k).length,o($,E))}(y,_,l,f,u,g);let p;if(_===f)return p=y>l?"D":"C",a(Math.abs(y-l),o(p,g));p=_>f?"D":"C";const S=Math.abs(_-f);return a(function(b,w){return w.cols-b}(_>f?l:y,u)+(S-1)*u.cols+1+((_>f?y:l)-1),o(p,g))}},1296:function(x,v,h){var d=this&&this.__decorate||function(E,A,C,$){var z,F=arguments.length,N=F<3?A:$===null?$=Object.getOwnPropertyDescriptor(A,C):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(E,A,C,$);else for(var B=E.length-1;B>=0;B--)(z=E[B])&&(N=(F<3?z(N):F>3?z(A,C,N):z(A,C))||N);return F>3&&N&&Object.defineProperty(A,C,N),N},s=this&&this.__param||function(E,A){return function(C,$){A(C,$,E)}};Object.defineProperty(v,"__esModule",{value:!0}),v.DomRenderer=void 0;const i=h(3787),r=h(2550),n=h(2223),o=h(6171),a=h(6052),l=h(4725),f=h(8055),u=h(8460),g=h(844),y=h(2585),_="xterm-dom-renderer-owner-",p="xterm-rows",S="xterm-fg-",b="xterm-bg-",w="xterm-focus",R="xterm-selection";let H=1,k=v.DomRenderer=class extends g.Disposable{constructor(E,A,C,$,z,F,N,B,P,V,G,Y,q){super(),this._terminal=E,this._document=A,this._element=C,this._screenElement=$,this._viewportElement=z,this._helperContainer=F,this._linkifier2=N,this._charSizeService=P,this._optionsService=V,this._bufferService=G,this._coreBrowserService=Y,this._themeService=q,this._terminalClass=H++,this._rowElements=[],this._selectionRenderModel=(0,a.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new u.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(p),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(R),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,o.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(Z=>this._injectCss(Z))),this._injectCss(this._themeService.colors),this._rowFactory=B.createInstance(i.DomRendererRowFactory,document),this._element.classList.add(_+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(Z=>this._handleLinkHover(Z))),this.register(this._linkifier2.onHideLinkUnderline(Z=>this._handleLinkLeave(Z))),this.register((0,g.toDisposable)(()=>{this._element.classList.remove(_+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new r.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const E=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*E,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*E),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/E),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/E),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const C of this._rowElements)C.style.width=`${this.dimensions.css.canvas.width}px`,C.style.height=`${this.dimensions.css.cell.height}px`,C.style.lineHeight=`${this.dimensions.css.cell.height}px`,C.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const A=`${this._terminalSelector} .${p} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=A,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(E){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let A=`${this._terminalSelector} .${p} { color: ${E.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;A+=`${this._terminalSelector} .${p} .xterm-dim { color: ${f.color.multiplyOpacity(E.foreground,.5).css};}`,A+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const C=`blink_underline_${this._terminalClass}`,$=`blink_bar_${this._terminalClass}`,z=`blink_block_${this._terminalClass}`;A+=`@keyframes ${C} { 50% {  border-bottom-style: hidden; }}`,A+=`@keyframes ${$} { 50% {  box-shadow: none; }}`,A+=`@keyframes ${z} { 0% {  background-color: ${E.cursor.css};  color: ${E.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${E.cursor.css}; }}`,A+=`${this._terminalSelector} .${p}.${w} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${C} 1s step-end infinite;}${this._terminalSelector} .${p}.${w} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${$} 1s step-end infinite;}${this._terminalSelector} .${p}.${w} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${z} 1s step-end infinite;}${this._terminalSelector} .${p} .xterm-cursor.xterm-cursor-block { background-color: ${E.cursor.css}; color: ${E.cursorAccent.css};}${this._terminalSelector} .${p} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${E.cursor.css} !important; color: ${E.cursorAccent.css} !important;}${this._terminalSelector} .${p} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${E.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${p} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${E.cursor.css} inset;}${this._terminalSelector} .${p} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${E.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,A+=`${this._terminalSelector} .${R} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${R} div { position: absolute; background-color: ${E.selectionBackgroundOpaque.css};}${this._terminalSelector} .${R} div { position: absolute; background-color: ${E.selectionInactiveBackgroundOpaque.css};}`;for(const[F,N]of E.ansi.entries())A+=`${this._terminalSelector} .${S}${F} { color: ${N.css}; }${this._terminalSelector} .${S}${F}.xterm-dim { color: ${f.color.multiplyOpacity(N,.5).css}; }${this._terminalSelector} .${b}${F} { background-color: ${N.css}; }`;A+=`${this._terminalSelector} .${S}${n.INVERTED_DEFAULT_COLOR} { color: ${f.color.opaque(E.background).css}; }${this._terminalSelector} .${S}${n.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${f.color.multiplyOpacity(f.color.opaque(E.background),.5).css}; }${this._terminalSelector} .${b}${n.INVERTED_DEFAULT_COLOR} { background-color: ${E.foreground.css}; }`,this._themeStyleElement.textContent=A}_setDefaultSpacing(){const E=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${E}px`,this._rowFactory.defaultSpacing=E}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(E,A){for(let C=this._rowElements.length;C<=A;C++){const $=this._document.createElement("div");this._rowContainer.appendChild($),this._rowElements.push($)}for(;this._rowElements.length>A;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(E,A){this._refreshRowElements(E,A),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(w),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(w),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(E,A,C){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(E,A,C),this.renderRows(0,this._bufferService.rows-1),!E||!A)return;this._selectionRenderModel.update(this._terminal,E,A,C);const $=this._selectionRenderModel.viewportStartRow,z=this._selectionRenderModel.viewportEndRow,F=this._selectionRenderModel.viewportCappedStartRow,N=this._selectionRenderModel.viewportCappedEndRow;if(F>=this._bufferService.rows||N<0)return;const B=this._document.createDocumentFragment();if(C){const P=E[0]>A[0];B.appendChild(this._createSelectionElement(F,P?A[0]:E[0],P?E[0]:A[0],N-F+1))}else{const P=$===F?E[0]:0,V=F===z?A[0]:this._bufferService.cols;B.appendChild(this._createSelectionElement(F,P,V));const G=N-F-1;if(B.appendChild(this._createSelectionElement(F+1,0,this._bufferService.cols,G)),F!==N){const Y=z===N?A[0]:this._bufferService.cols;B.appendChild(this._createSelectionElement(N,0,Y))}}this._selectionContainer.appendChild(B)}_createSelectionElement(E,A,C,$=1){const z=this._document.createElement("div"),F=A*this.dimensions.css.cell.width;let N=this.dimensions.css.cell.width*(C-A);return F+N>this.dimensions.css.canvas.width&&(N=this.dimensions.css.canvas.width-F),z.style.height=$*this.dimensions.css.cell.height+"px",z.style.top=E*this.dimensions.css.cell.height+"px",z.style.left=`${F}px`,z.style.width=`${N}px`,z}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const E of this._rowElements)E.replaceChildren()}renderRows(E,A){const C=this._bufferService.buffer,$=C.ybase+C.y,z=Math.min(C.x,this._bufferService.cols-1),F=this._optionsService.rawOptions.cursorBlink,N=this._optionsService.rawOptions.cursorStyle,B=this._optionsService.rawOptions.cursorInactiveStyle;for(let P=E;P<=A;P++){const V=P+C.ydisp,G=this._rowElements[P],Y=C.lines.get(V);if(!G||!Y)break;G.replaceChildren(...this._rowFactory.createRow(Y,V,V===$,N,B,z,F,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${_}${this._terminalClass}`}_handleLinkHover(E){this._setCellUnderline(E.x1,E.x2,E.y1,E.y2,E.cols,!0)}_handleLinkLeave(E){this._setCellUnderline(E.x1,E.x2,E.y1,E.y2,E.cols,!1)}_setCellUnderline(E,A,C,$,z,F){C<0&&(E=0),$<0&&(A=0);const N=this._bufferService.rows-1;C=Math.max(Math.min(C,N),0),$=Math.max(Math.min($,N),0),z=Math.min(z,this._bufferService.cols);const B=this._bufferService.buffer,P=B.ybase+B.y,V=Math.min(B.x,z-1),G=this._optionsService.rawOptions.cursorBlink,Y=this._optionsService.rawOptions.cursorStyle,q=this._optionsService.rawOptions.cursorInactiveStyle;for(let Z=C;Z<=$;++Z){const Q=Z+B.ydisp,U=this._rowElements[Z],ie=B.lines.get(Q);if(!U||!ie)break;U.replaceChildren(...this._rowFactory.createRow(ie,Q,Q===P,Y,q,V,G,this.dimensions.css.cell.width,this._widthCache,F?Z===C?E:0:-1,F?(Z===$?A:z)-1:-1))}}};v.DomRenderer=k=d([s(7,y.IInstantiationService),s(8,l.ICharSizeService),s(9,y.IOptionsService),s(10,y.IBufferService),s(11,l.ICoreBrowserService),s(12,l.IThemeService)],k)},3787:function(x,v,h){var d=this&&this.__decorate||function(p,S,b,w){var R,H=arguments.length,k=H<3?S:w===null?w=Object.getOwnPropertyDescriptor(S,b):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(p,S,b,w);else for(var E=p.length-1;E>=0;E--)(R=p[E])&&(k=(H<3?R(k):H>3?R(S,b,k):R(S,b))||k);return H>3&&k&&Object.defineProperty(S,b,k),k},s=this&&this.__param||function(p,S){return function(b,w){S(b,w,p)}};Object.defineProperty(v,"__esModule",{value:!0}),v.DomRendererRowFactory=void 0;const i=h(2223),r=h(643),n=h(511),o=h(2585),a=h(8055),l=h(4725),f=h(4269),u=h(6171),g=h(3734);let y=v.DomRendererRowFactory=class{constructor(p,S,b,w,R,H,k){this._document=p,this._characterJoinerService=S,this._optionsService=b,this._coreBrowserService=w,this._coreService=R,this._decorationService=H,this._themeService=k,this._workCell=new n.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(p,S,b){this._selectionStart=p,this._selectionEnd=S,this._columnSelectMode=b}createRow(p,S,b,w,R,H,k,E,A,C,$){const z=[],F=this._characterJoinerService.getJoinedCharacters(S),N=this._themeService.colors;let B,P=p.getNoBgTrimmedLength();b&&P<H+1&&(P=H+1);let V=0,G="",Y=0,q=0,Z=0,Q=!1,U=0,ie=!1,ee=0;const he=[],pe=C!==-1&&$!==-1;for(let be=0;be<P;be++){p.loadCell(be,this._workCell);let Le=this._workCell.getWidth();if(Le===0)continue;let Te=!1,ze=be,Ee=this._workCell;if(F.length>0&&be===F[0][0]){Te=!0;const ke=F.shift();Ee=new f.JoinedCellData(this._workCell,p.translateToString(!0,ke[0],ke[1]),ke[1]-ke[0]),ze=ke[1]-1,Le=Ee.getWidth()}const ut=this._isCellInSelection(be,S),Et=b&&be===H,Pt=pe&&be>=C&&be<=$;let Xt=!1;this._decorationService.forEachDecorationAtCell(be,S,void 0,ke=>{Xt=!0});let jt=Ee.getChars()||r.WHITESPACE_CELL_CHAR;if(jt===" "&&(Ee.isUnderline()||Ee.isOverline())&&(jt=" "),ee=Le*E-A.get(jt,Ee.isBold(),Ee.isItalic()),B){if(V&&(ut&&ie||!ut&&!ie&&Ee.bg===Y)&&(ut&&ie&&N.selectionForeground||Ee.fg===q)&&Ee.extended.ext===Z&&Pt===Q&&ee===U&&!Et&&!Te&&!Xt){Ee.isInvisible()?G+=r.WHITESPACE_CELL_CHAR:G+=jt,V++;continue}V&&(B.textContent=G),B=this._document.createElement("span"),V=0,G=""}else B=this._document.createElement("span");if(Y=Ee.bg,q=Ee.fg,Z=Ee.extended.ext,Q=Pt,U=ee,ie=ut,Te&&H>=be&&H<=ze&&(H=be),!this._coreService.isCursorHidden&&Et&&this._coreService.isCursorInitialized){if(he.push("xterm-cursor"),this._coreBrowserService.isFocused)k&&he.push("xterm-cursor-blink"),he.push(w==="bar"?"xterm-cursor-bar":w==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(R)switch(R){case"outline":he.push("xterm-cursor-outline");break;case"block":he.push("xterm-cursor-block");break;case"bar":he.push("xterm-cursor-bar");break;case"underline":he.push("xterm-cursor-underline")}}if(Ee.isBold()&&he.push("xterm-bold"),Ee.isItalic()&&he.push("xterm-italic"),Ee.isDim()&&he.push("xterm-dim"),G=Ee.isInvisible()?r.WHITESPACE_CELL_CHAR:Ee.getChars()||r.WHITESPACE_CELL_CHAR,Ee.isUnderline()&&(he.push(`xterm-underline-${Ee.extended.underlineStyle}`),G===" "&&(G=" "),!Ee.isUnderlineColorDefault()))if(Ee.isUnderlineColorRGB())B.style.textDecorationColor=`rgb(${g.AttributeData.toColorRGB(Ee.getUnderlineColor()).join(",")})`;else{let ke=Ee.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&Ee.isBold()&&ke<8&&(ke+=8),B.style.textDecorationColor=N.ansi[ke].css}Ee.isOverline()&&(he.push("xterm-overline"),G===" "&&(G=" ")),Ee.isStrikethrough()&&he.push("xterm-strikethrough"),Pt&&(B.style.textDecoration="underline");let at=Ee.getFgColor(),ot=Ee.getFgColorMode(),At=Ee.getBgColor(),ue=Ee.getBgColorMode();const ye=!!Ee.isInverse();if(ye){const ke=at;at=At,At=ke;const Ve=ot;ot=ue,ue=Ve}let Se,De,Re,je=!1;switch(this._decorationService.forEachDecorationAtCell(be,S,void 0,ke=>{ke.options.layer!=="top"&&je||(ke.backgroundColorRGB&&(ue=50331648,At=ke.backgroundColorRGB.rgba>>8&16777215,Se=ke.backgroundColorRGB),ke.foregroundColorRGB&&(ot=50331648,at=ke.foregroundColorRGB.rgba>>8&16777215,De=ke.foregroundColorRGB),je=ke.options.layer==="top")}),!je&&ut&&(Se=this._coreBrowserService.isFocused?N.selectionBackgroundOpaque:N.selectionInactiveBackgroundOpaque,At=Se.rgba>>8&16777215,ue=50331648,je=!0,N.selectionForeground&&(ot=50331648,at=N.selectionForeground.rgba>>8&16777215,De=N.selectionForeground)),je&&he.push("xterm-decoration-top"),ue){case 16777216:case 33554432:Re=N.ansi[At],he.push(`xterm-bg-${At}`);break;case 50331648:Re=a.channels.toColor(At>>16,At>>8&255,255&At),this._addStyle(B,`background-color:#${_((At>>>0).toString(16),"0",6)}`);break;default:ye?(Re=N.foreground,he.push(`xterm-bg-${i.INVERTED_DEFAULT_COLOR}`)):Re=N.background}switch(Se||Ee.isDim()&&(Se=a.color.multiplyOpacity(Re,.5)),ot){case 16777216:case 33554432:Ee.isBold()&&at<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(at+=8),this._applyMinimumContrast(B,Re,N.ansi[at],Ee,Se,void 0)||he.push(`xterm-fg-${at}`);break;case 50331648:const ke=a.channels.toColor(at>>16&255,at>>8&255,255&at);this._applyMinimumContrast(B,Re,ke,Ee,Se,De)||this._addStyle(B,`color:#${_(at.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(B,Re,N.foreground,Ee,Se,De)||ye&&he.push(`xterm-fg-${i.INVERTED_DEFAULT_COLOR}`)}he.length&&(B.className=he.join(" "),he.length=0),Et||Te||Xt?B.textContent=G:V++,ee!==this.defaultSpacing&&(B.style.letterSpacing=`${ee}px`),z.push(B),be=ze}return B&&V&&(B.textContent=G),z}_applyMinimumContrast(p,S,b,w,R,H){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,u.treatGlyphAsBackgroundColor)(w.getCode()))return!1;const k=this._getContrastCache(w);let E;if(R||H||(E=k.getColor(S.rgba,b.rgba)),E===void 0){const A=this._optionsService.rawOptions.minimumContrastRatio/(w.isDim()?2:1);E=a.color.ensureContrastRatio(R||S,H||b,A),k.setColor((R||S).rgba,(H||b).rgba,E??null)}return!!E&&(this._addStyle(p,`color:${E.css}`),!0)}_getContrastCache(p){return p.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(p,S){p.setAttribute("style",`${p.getAttribute("style")||""}${S};`)}_isCellInSelection(p,S){const b=this._selectionStart,w=this._selectionEnd;return!(!b||!w)&&(this._columnSelectMode?b[0]<=w[0]?p>=b[0]&&S>=b[1]&&p<w[0]&&S<=w[1]:p<b[0]&&S>=b[1]&&p>=w[0]&&S<=w[1]:S>b[1]&&S<w[1]||b[1]===w[1]&&S===b[1]&&p>=b[0]&&p<w[0]||b[1]<w[1]&&S===w[1]&&p<w[0]||b[1]<w[1]&&S===b[1]&&p>=b[0])}};function _(p,S,b){for(;p.length<b;)p=S+p;return p}v.DomRendererRowFactory=y=d([s(1,l.ICharacterJoinerService),s(2,o.IOptionsService),s(3,l.ICoreBrowserService),s(4,o.ICoreService),s(5,o.IDecorationService),s(6,l.IThemeService)],y)},2550:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.WidthCache=void 0,v.WidthCache=class{constructor(h,d){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=h.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const s=h.createElement("span");s.classList.add("xterm-char-measure-element");const i=h.createElement("span");i.classList.add("xterm-char-measure-element"),i.style.fontWeight="bold";const r=h.createElement("span");r.classList.add("xterm-char-measure-element"),r.style.fontStyle="italic";const n=h.createElement("span");n.classList.add("xterm-char-measure-element"),n.style.fontWeight="bold",n.style.fontStyle="italic",this._measureElements=[s,i,r,n],this._container.appendChild(s),this._container.appendChild(i),this._container.appendChild(r),this._container.appendChild(n),d.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(h,d,s,i){h===this._font&&d===this._fontSize&&s===this._weight&&i===this._weightBold||(this._font=h,this._fontSize=d,this._weight=s,this._weightBold=i,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${s}`,this._measureElements[1].style.fontWeight=`${i}`,this._measureElements[2].style.fontWeight=`${s}`,this._measureElements[3].style.fontWeight=`${i}`,this.clear())}get(h,d,s){let i=0;if(!d&&!s&&h.length===1&&(i=h.charCodeAt(0))<256){if(this._flat[i]!==-9999)return this._flat[i];const o=this._measure(h,0);return o>0&&(this._flat[i]=o),o}let r=h;d&&(r+="B"),s&&(r+="I");let n=this._holey.get(r);if(n===void 0){let o=0;d&&(o|=1),s&&(o|=2),n=this._measure(h,o),n>0&&this._holey.set(r,n)}return n}_measure(h,d){const s=this._measureElements[d];return s.textContent=h.repeat(32),s.offsetWidth/32}}},2223:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.TEXT_BASELINE=v.DIM_OPACITY=v.INVERTED_DEFAULT_COLOR=void 0;const d=h(6114);v.INVERTED_DEFAULT_COLOR=257,v.DIM_OPACITY=.5,v.TEXT_BASELINE=d.isFirefox||d.isLegacyEdge?"bottom":"ideographic"},6171:(x,v)=>{function h(s){return 57508<=s&&s<=57558}function d(s){return s>=128512&&s<=128591||s>=127744&&s<=128511||s>=128640&&s<=128767||s>=9728&&s<=9983||s>=9984&&s<=10175||s>=65024&&s<=65039||s>=129280&&s<=129535||s>=127462&&s<=127487}Object.defineProperty(v,"__esModule",{value:!0}),v.computeNextVariantOffset=v.createRenderDimensions=v.treatGlyphAsBackgroundColor=v.allowRescaling=v.isEmoji=v.isRestrictedPowerlineGlyph=v.isPowerlineGlyph=v.throwIfFalsy=void 0,v.throwIfFalsy=function(s){if(!s)throw new Error("value must not be falsy");return s},v.isPowerlineGlyph=h,v.isRestrictedPowerlineGlyph=function(s){return 57520<=s&&s<=57527},v.isEmoji=d,v.allowRescaling=function(s,i,r,n){return i===1&&r>Math.ceil(1.5*n)&&s!==void 0&&s>255&&!d(s)&&!h(s)&&!function(o){return 57344<=o&&o<=63743}(s)},v.treatGlyphAsBackgroundColor=function(s){return h(s)||function(i){return 9472<=i&&i<=9631}(s)},v.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},v.computeNextVariantOffset=function(s,i,r=0){return(s-(2*Math.round(i)-r))%(2*Math.round(i))}},6052:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.createSelectionRenderModel=void 0;class h{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(s,i,r,n=!1){if(this.selectionStart=i,this.selectionEnd=r,!i||!r||i[0]===r[0]&&i[1]===r[1])return void this.clear();const o=s.buffers.active.ydisp,a=i[1]-o,l=r[1]-o,f=Math.max(a,0),u=Math.min(l,s.rows-1);f>=s.rows||u<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=n,this.viewportStartRow=a,this.viewportEndRow=l,this.viewportCappedStartRow=f,this.viewportCappedEndRow=u,this.startCol=i[0],this.endCol=r[0])}isCellSelected(s,i,r){return!!this.hasSelection&&(r-=s.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?i>=this.startCol&&r>=this.viewportCappedStartRow&&i<this.endCol&&r<=this.viewportCappedEndRow:i<this.startCol&&r>=this.viewportCappedStartRow&&i>=this.endCol&&r<=this.viewportCappedEndRow:r>this.viewportStartRow&&r<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&r===this.viewportStartRow&&i>=this.startCol&&i<this.endCol||this.viewportStartRow<this.viewportEndRow&&r===this.viewportEndRow&&i<this.endCol||this.viewportStartRow<this.viewportEndRow&&r===this.viewportStartRow&&i>=this.startCol)}}v.createSelectionRenderModel=function(){return new h}},456:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.SelectionModel=void 0,v.SelectionModel=class{constructor(h){this._bufferService=h,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const h=this.selectionStart[0]+this.selectionStartLength;return h>this._bufferService.cols?h%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(h/this._bufferService.cols)-1]:[h%this._bufferService.cols,this.selectionStart[1]+Math.floor(h/this._bufferService.cols)]:[h,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const h=this.selectionStart[0]+this.selectionStartLength;return h>this._bufferService.cols?[h%this._bufferService.cols,this.selectionStart[1]+Math.floor(h/this._bufferService.cols)]:[Math.max(h,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const h=this.selectionStart,d=this.selectionEnd;return!(!h||!d)&&(h[1]>d[1]||h[1]===d[1]&&h[0]>d[0])}handleTrim(h){return this.selectionStart&&(this.selectionStart[1]-=h),this.selectionEnd&&(this.selectionEnd[1]-=h),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(x,v,h){var d=this&&this.__decorate||function(u,g,y,_){var p,S=arguments.length,b=S<3?g:_===null?_=Object.getOwnPropertyDescriptor(g,y):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,g,y,_);else for(var w=u.length-1;w>=0;w--)(p=u[w])&&(b=(S<3?p(b):S>3?p(g,y,b):p(g,y))||b);return S>3&&b&&Object.defineProperty(g,y,b),b},s=this&&this.__param||function(u,g){return function(y,_){g(y,_,u)}};Object.defineProperty(v,"__esModule",{value:!0}),v.CharSizeService=void 0;const i=h(2585),r=h(8460),n=h(844);let o=v.CharSizeService=class extends n.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(u,g,y){super(),this._optionsService=y,this.width=0,this.height=0,this._onCharSizeChange=this.register(new r.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new f(this._optionsService))}catch{this._measureStrategy=this.register(new l(u,g,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const u=this._measureStrategy.measure();u.width===this.width&&u.height===this.height||(this.width=u.width,this.height=u.height,this._onCharSizeChange.fire())}};v.CharSizeService=o=d([s(2,i.IOptionsService)],o);class a extends n.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(g,y){g!==void 0&&g>0&&y!==void 0&&y>0&&(this._result.width=g,this._result.height=y)}}class l extends a{constructor(g,y,_){super(),this._document=g,this._parentElement=y,this._optionsService=_,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class f extends a{constructor(g){super(),this._optionsService=g,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const y=this._ctx.measureText("W");if(!("width"in y&&"fontBoundingBoxAscent"in y&&"fontBoundingBoxDescent"in y))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const g=this._ctx.measureText("W");return this._validateAndSet(g.width,g.fontBoundingBoxAscent+g.fontBoundingBoxDescent),this._result}}},4269:function(x,v,h){var d=this&&this.__decorate||function(f,u,g,y){var _,p=arguments.length,S=p<3?u:y===null?y=Object.getOwnPropertyDescriptor(u,g):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(f,u,g,y);else for(var b=f.length-1;b>=0;b--)(_=f[b])&&(S=(p<3?_(S):p>3?_(u,g,S):_(u,g))||S);return p>3&&S&&Object.defineProperty(u,g,S),S},s=this&&this.__param||function(f,u){return function(g,y){u(g,y,f)}};Object.defineProperty(v,"__esModule",{value:!0}),v.CharacterJoinerService=v.JoinedCellData=void 0;const i=h(3734),r=h(643),n=h(511),o=h(2585);class a extends i.AttributeData{constructor(u,g,y){super(),this.content=0,this.combinedData="",this.fg=u.fg,this.bg=u.bg,this.combinedData=g,this._width=y}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(u){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}v.JoinedCellData=a;let l=v.CharacterJoinerService=class Gd{constructor(u){this._bufferService=u,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new n.CellData}register(u){const g={id:this._nextCharacterJoinerId++,handler:u};return this._characterJoiners.push(g),g.id}deregister(u){for(let g=0;g<this._characterJoiners.length;g++)if(this._characterJoiners[g].id===u)return this._characterJoiners.splice(g,1),!0;return!1}getJoinedCharacters(u){if(this._characterJoiners.length===0)return[];const g=this._bufferService.buffer.lines.get(u);if(!g||g.length===0)return[];const y=[],_=g.translateToString(!0);let p=0,S=0,b=0,w=g.getFg(0),R=g.getBg(0);for(let H=0;H<g.getTrimmedLength();H++)if(g.loadCell(H,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==w||this._workCell.bg!==R){if(H-p>1){const k=this._getJoinedRanges(_,b,S,g,p);for(let E=0;E<k.length;E++)y.push(k[E])}p=H,b=S,w=this._workCell.fg,R=this._workCell.bg}S+=this._workCell.getChars().length||r.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-p>1){const H=this._getJoinedRanges(_,b,S,g,p);for(let k=0;k<H.length;k++)y.push(H[k])}return y}_getJoinedRanges(u,g,y,_,p){const S=u.substring(g,y);let b=[];try{b=this._characterJoiners[0].handler(S)}catch(w){console.error(w)}for(let w=1;w<this._characterJoiners.length;w++)try{const R=this._characterJoiners[w].handler(S);for(let H=0;H<R.length;H++)Gd._mergeRanges(b,R[H])}catch(R){console.error(R)}return this._stringRangesToCellRanges(b,_,p),b}_stringRangesToCellRanges(u,g,y){let _=0,p=!1,S=0,b=u[_];if(b){for(let w=y;w<this._bufferService.cols;w++){const R=g.getWidth(w),H=g.getString(w).length||r.WHITESPACE_CELL_CHAR.length;if(R!==0){if(!p&&b[0]<=S&&(b[0]=w,p=!0),b[1]<=S){if(b[1]=w,b=u[++_],!b)break;b[0]<=S?(b[0]=w,p=!0):p=!1}S+=H}}b&&(b[1]=this._bufferService.cols)}}static _mergeRanges(u,g){let y=!1;for(let _=0;_<u.length;_++){const p=u[_];if(y){if(g[1]<=p[0])return u[_-1][1]=g[1],u;if(g[1]<=p[1])return u[_-1][1]=Math.max(g[1],p[1]),u.splice(_,1),u;u.splice(_,1),_--}else{if(g[1]<=p[0])return u.splice(_,0,g),u;if(g[1]<=p[1])return p[0]=Math.min(g[0],p[0]),u;g[0]<p[1]&&(p[0]=Math.min(g[0],p[0]),y=!0)}}return y?u[u.length-1][1]=g[1]:u.push(g),u}};v.CharacterJoinerService=l=d([s(0,o.IBufferService)],l)},5114:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.CoreBrowserService=void 0;const d=h(844),s=h(8460),i=h(3656);class r extends d.Disposable{constructor(a,l,f){super(),this._textarea=a,this._window=l,this.mainDocument=f,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new n(this._window),this._onDprChange=this.register(new s.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new s.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange(u=>this._screenDprMonitor.setWindow(u))),this.register((0,s.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get window(){return this._window}set window(a){this._window!==a&&(this._window=a,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}v.CoreBrowserService=r;class n extends d.Disposable{constructor(a){super(),this._parentWindow=a,this._windowResizeListener=this.register(new d.MutableDisposable),this._onDprChange=this.register(new s.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,d.toDisposable)(()=>this.clearListener()))}setWindow(a){this._parentWindow=a,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,i.addDisposableDomListener)(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){var a;this._outerListener&&((a=this._resolutionMediaMatchList)==null||a.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.LinkProviderService=void 0;const d=h(844);class s extends d.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,d.toDisposable)(()=>this.linkProviders.length=0))}registerLinkProvider(r){return this.linkProviders.push(r),{dispose:()=>{const n=this.linkProviders.indexOf(r);n!==-1&&this.linkProviders.splice(n,1)}}}}v.LinkProviderService=s},8934:function(x,v,h){var d=this&&this.__decorate||function(o,a,l,f){var u,g=arguments.length,y=g<3?a:f===null?f=Object.getOwnPropertyDescriptor(a,l):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(o,a,l,f);else for(var _=o.length-1;_>=0;_--)(u=o[_])&&(y=(g<3?u(y):g>3?u(a,l,y):u(a,l))||y);return g>3&&y&&Object.defineProperty(a,l,y),y},s=this&&this.__param||function(o,a){return function(l,f){a(l,f,o)}};Object.defineProperty(v,"__esModule",{value:!0}),v.MouseService=void 0;const i=h(4725),r=h(9806);let n=v.MouseService=class{constructor(o,a){this._renderService=o,this._charSizeService=a}getCoords(o,a,l,f,u){return(0,r.getCoords)(window,o,a,l,f,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,u)}getMouseReportCoords(o,a){const l=(0,r.getCoordsRelativeToElement)(window,o,a);if(this._charSizeService.hasValidSize)return l[0]=Math.min(Math.max(l[0],0),this._renderService.dimensions.css.canvas.width-1),l[1]=Math.min(Math.max(l[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(l[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(l[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(l[0]),y:Math.floor(l[1])}}};v.MouseService=n=d([s(0,i.IRenderService),s(1,i.ICharSizeService)],n)},3230:function(x,v,h){var d=this&&this.__decorate||function(u,g,y,_){var p,S=arguments.length,b=S<3?g:_===null?_=Object.getOwnPropertyDescriptor(g,y):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,g,y,_);else for(var w=u.length-1;w>=0;w--)(p=u[w])&&(b=(S<3?p(b):S>3?p(g,y,b):p(g,y))||b);return S>3&&b&&Object.defineProperty(g,y,b),b},s=this&&this.__param||function(u,g){return function(y,_){g(y,_,u)}};Object.defineProperty(v,"__esModule",{value:!0}),v.RenderService=void 0;const i=h(6193),r=h(4725),n=h(8460),o=h(844),a=h(7226),l=h(2585);let f=v.RenderService=class extends o.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(u,g,y,_,p,S,b,w){super(),this._rowCount=u,this._charSizeService=_,this._renderer=this.register(new o.MutableDisposable),this._pausedResizeTask=new a.DebouncedIdleTask,this._observerDisposable=this.register(new o.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new n.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new n.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new n.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new n.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new i.RenderDebouncer((R,H)=>this._renderRows(R,H),b),this.register(this._renderDebouncer),this.register(b.onDprChange(()=>this.handleDevicePixelRatioChange())),this.register(S.onResize(()=>this._fullRefresh())),this.register(S.buffers.onBufferActivate(()=>{var R;return(R=this._renderer.value)==null?void 0:R.clear()})),this.register(y.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(p.onDecorationRegistered(()=>this._fullRefresh())),this.register(p.onDecorationRemoved(()=>this._fullRefresh())),this.register(y.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(S.cols,S.rows),this._fullRefresh()})),this.register(y.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(S.buffer.y,S.buffer.y,!0))),this.register(w.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(b.window,g),this.register(b.onWindowChange(R=>this._registerIntersectionObserver(R,g)))}_registerIntersectionObserver(u,g){if("IntersectionObserver"in u){const y=new u.IntersectionObserver(_=>this._handleIntersectionChange(_[_.length-1]),{threshold:0});y.observe(g),this._observerDisposable.value=(0,o.toDisposable)(()=>y.disconnect())}}_handleIntersectionChange(u){this._isPaused=u.isIntersecting===void 0?u.intersectionRatio===0:!u.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(u,g,y=!1){this._isPaused?this._needsFullRefresh=!0:(y||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(u,g,this._rowCount))}_renderRows(u,g){this._renderer.value&&(u=Math.min(u,this._rowCount-1),g=Math.min(g,this._rowCount-1),this._renderer.value.renderRows(u,g),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:u,end:g}),this._onRender.fire({start:u,end:g}),this._isNextRenderRedrawOnly=!0)}resize(u,g){this._rowCount=g,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(u){this._renderer.value=u,this._renderer.value&&(this._renderer.value.onRequestRedraw(g=>this.refreshRows(g.start,g.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(u){return this._renderDebouncer.addRefreshCallback(u)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var u,g;this._renderer.value&&((g=(u=this._renderer.value).clearTextureAtlas)==null||g.call(u),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(u,g){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>{var y;return(y=this._renderer.value)==null?void 0:y.handleResize(u,g)}):this._renderer.value.handleResize(u,g),this._fullRefresh())}handleCharSizeChanged(){var u;(u=this._renderer.value)==null||u.handleCharSizeChanged()}handleBlur(){var u;(u=this._renderer.value)==null||u.handleBlur()}handleFocus(){var u;(u=this._renderer.value)==null||u.handleFocus()}handleSelectionChanged(u,g,y){var _;this._selectionState.start=u,this._selectionState.end=g,this._selectionState.columnSelectMode=y,(_=this._renderer.value)==null||_.handleSelectionChanged(u,g,y)}handleCursorMove(){var u;(u=this._renderer.value)==null||u.handleCursorMove()}clear(){var u;(u=this._renderer.value)==null||u.clear()}};v.RenderService=f=d([s(2,l.IOptionsService),s(3,r.ICharSizeService),s(4,l.IDecorationService),s(5,l.IBufferService),s(6,r.ICoreBrowserService),s(7,r.IThemeService)],f)},9312:function(x,v,h){var d=this&&this.__decorate||function(b,w,R,H){var k,E=arguments.length,A=E<3?w:H===null?H=Object.getOwnPropertyDescriptor(w,R):H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(b,w,R,H);else for(var C=b.length-1;C>=0;C--)(k=b[C])&&(A=(E<3?k(A):E>3?k(w,R,A):k(w,R))||A);return E>3&&A&&Object.defineProperty(w,R,A),A},s=this&&this.__param||function(b,w){return function(R,H){w(R,H,b)}};Object.defineProperty(v,"__esModule",{value:!0}),v.SelectionService=void 0;const i=h(9806),r=h(9504),n=h(456),o=h(4725),a=h(8460),l=h(844),f=h(6114),u=h(4841),g=h(511),y=h(2585),_=" ",p=new RegExp(_,"g");let S=v.SelectionService=class extends l.Disposable{constructor(b,w,R,H,k,E,A,C,$){super(),this._element=b,this._screenElement=w,this._linkifier=R,this._bufferService=H,this._coreService=k,this._mouseService=E,this._optionsService=A,this._renderService=C,this._coreBrowserService=$,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new g.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new a.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new a.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new a.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new a.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=z=>this._handleMouseMove(z),this._mouseUpListener=z=>this._handleMouseUp(z),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(z=>this._handleTrim(z)),this.register(this._bufferService.buffers.onBufferActivate(z=>this._handleBufferActivate(z))),this.enable(),this._model=new n.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,l.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const b=this._model.finalSelectionStart,w=this._model.finalSelectionEnd;return!(!b||!w||b[0]===w[0]&&b[1]===w[1])}get selectionText(){const b=this._model.finalSelectionStart,w=this._model.finalSelectionEnd;if(!b||!w)return"";const R=this._bufferService.buffer,H=[];if(this._activeSelectionMode===3){if(b[0]===w[0])return"";const k=b[0]<w[0]?b[0]:w[0],E=b[0]<w[0]?w[0]:b[0];for(let A=b[1];A<=w[1];A++){const C=R.translateBufferLineToString(A,!0,k,E);H.push(C)}}else{const k=b[1]===w[1]?w[0]:void 0;H.push(R.translateBufferLineToString(b[1],!0,b[0],k));for(let E=b[1]+1;E<=w[1]-1;E++){const A=R.lines.get(E),C=R.translateBufferLineToString(E,!0);A!=null&&A.isWrapped?H[H.length-1]+=C:H.push(C)}if(b[1]!==w[1]){const E=R.lines.get(w[1]),A=R.translateBufferLineToString(w[1],!0,0,w[0]);E&&E.isWrapped?H[H.length-1]+=A:H.push(A)}}return H.map(k=>k.replace(p," ")).join(f.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(b){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),f.isLinux&&b&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(b){const w=this._getMouseBufferCoords(b),R=this._model.finalSelectionStart,H=this._model.finalSelectionEnd;return!!(R&&H&&w)&&this._areCoordsInSelection(w,R,H)}isCellInSelection(b,w){const R=this._model.finalSelectionStart,H=this._model.finalSelectionEnd;return!(!R||!H)&&this._areCoordsInSelection([b,w],R,H)}_areCoordsInSelection(b,w,R){return b[1]>w[1]&&b[1]<R[1]||w[1]===R[1]&&b[1]===w[1]&&b[0]>=w[0]&&b[0]<R[0]||w[1]<R[1]&&b[1]===R[1]&&b[0]<R[0]||w[1]<R[1]&&b[1]===w[1]&&b[0]>=w[0]}_selectWordAtCursor(b,w){var k,E;const R=(E=(k=this._linkifier.currentLink)==null?void 0:k.link)==null?void 0:E.range;if(R)return this._model.selectionStart=[R.start.x-1,R.start.y-1],this._model.selectionStartLength=(0,u.getRangeLength)(R,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const H=this._getMouseBufferCoords(b);return!!H&&(this._selectWordAt(H,w),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(b,w){this._model.clearSelection(),b=Math.max(b,0),w=Math.min(w,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,b],this._model.selectionEnd=[this._bufferService.cols,w],this.refresh(),this._onSelectionChange.fire()}_handleTrim(b){this._model.handleTrim(b)&&this.refresh()}_getMouseBufferCoords(b){const w=this._mouseService.getCoords(b,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(w)return w[0]--,w[1]--,w[1]+=this._bufferService.buffer.ydisp,w}_getMouseEventScrollAmount(b){let w=(0,i.getCoordsRelativeToElement)(this._coreBrowserService.window,b,this._screenElement)[1];const R=this._renderService.dimensions.css.canvas.height;return w>=0&&w<=R?0:(w>R&&(w-=R),w=Math.min(Math.max(w,-50),50),w/=50,w/Math.abs(w)+Math.round(14*w))}shouldForceSelection(b){return f.isMac?b.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:b.shiftKey}handleMouseDown(b){if(this._mouseDownTimeStamp=b.timeStamp,(b.button!==2||!this.hasSelection)&&b.button===0){if(!this._enabled){if(!this.shouldForceSelection(b))return;b.stopPropagation()}b.preventDefault(),this._dragScrollAmount=0,this._enabled&&b.shiftKey?this._handleIncrementalClick(b):b.detail===1?this._handleSingleClick(b):b.detail===2?this._handleDoubleClick(b):b.detail===3&&this._handleTripleClick(b),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(b){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(b))}_handleSingleClick(b){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(b)?3:0,this._model.selectionStart=this._getMouseBufferCoords(b),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const w=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);w&&w.length!==this._model.selectionStart[0]&&w.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(b){this._selectWordAtCursor(b,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(b){const w=this._getMouseBufferCoords(b);w&&(this._activeSelectionMode=2,this._selectLineAt(w[1]))}shouldColumnSelect(b){return b.altKey&&!(f.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(b){if(b.stopImmediatePropagation(),!this._model.selectionStart)return;const w=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(b),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(b),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const R=this._bufferService.buffer;if(this._model.selectionEnd[1]<R.lines.length){const H=R.lines.get(this._model.selectionEnd[1]);H&&H.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}w&&w[0]===this._model.selectionEnd[0]&&w[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const b=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(b.ydisp+this._bufferService.rows,b.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=b.ydisp),this.refresh()}}_handleMouseUp(b){const w=b.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&w<500&&b.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const R=this._mouseService.getCoords(b,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(R&&R[0]!==void 0&&R[1]!==void 0){const H=(0,r.moveToCellSequence)(R[0]-1,R[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(H,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const b=this._model.finalSelectionStart,w=this._model.finalSelectionEnd,R=!(!b||!w||b[0]===w[0]&&b[1]===w[1]);R?b&&w&&(this._oldSelectionStart&&this._oldSelectionEnd&&b[0]===this._oldSelectionStart[0]&&b[1]===this._oldSelectionStart[1]&&w[0]===this._oldSelectionEnd[0]&&w[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(b,w,R)):this._oldHasSelection&&this._fireOnSelectionChange(b,w,R)}_fireOnSelectionChange(b,w,R){this._oldSelectionStart=b,this._oldSelectionEnd=w,this._oldHasSelection=R,this._onSelectionChange.fire()}_handleBufferActivate(b){this.clearSelection(),this._trimListener.dispose(),this._trimListener=b.activeBuffer.lines.onTrim(w=>this._handleTrim(w))}_convertViewportColToCharacterIndex(b,w){let R=w;for(let H=0;w>=H;H++){const k=b.loadCell(H,this._workCell).getChars().length;this._workCell.getWidth()===0?R--:k>1&&w!==H&&(R+=k-1)}return R}setSelection(b,w,R){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[b,w],this._model.selectionStartLength=R,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(b){this._isClickInSelection(b)||(this._selectWordAtCursor(b,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(b,w,R=!0,H=!0){if(b[0]>=this._bufferService.cols)return;const k=this._bufferService.buffer,E=k.lines.get(b[1]);if(!E)return;const A=k.translateBufferLineToString(b[1],!1);let C=this._convertViewportColToCharacterIndex(E,b[0]),$=C;const z=b[0]-C;let F=0,N=0,B=0,P=0;if(A.charAt(C)===" "){for(;C>0&&A.charAt(C-1)===" ";)C--;for(;$<A.length&&A.charAt($+1)===" ";)$++}else{let Y=b[0],q=b[0];E.getWidth(Y)===0&&(F++,Y--),E.getWidth(q)===2&&(N++,q++);const Z=E.getString(q).length;for(Z>1&&(P+=Z-1,$+=Z-1);Y>0&&C>0&&!this._isCharWordSeparator(E.loadCell(Y-1,this._workCell));){E.loadCell(Y-1,this._workCell);const Q=this._workCell.getChars().length;this._workCell.getWidth()===0?(F++,Y--):Q>1&&(B+=Q-1,C-=Q-1),C--,Y--}for(;q<E.length&&$+1<A.length&&!this._isCharWordSeparator(E.loadCell(q+1,this._workCell));){E.loadCell(q+1,this._workCell);const Q=this._workCell.getChars().length;this._workCell.getWidth()===2?(N++,q++):Q>1&&(P+=Q-1,$+=Q-1),$++,q++}}$++;let V=C+z-F+B,G=Math.min(this._bufferService.cols,$-C+F+N-B-P);if(w||A.slice(C,$).trim()!==""){if(R&&V===0&&E.getCodePoint(0)!==32){const Y=k.lines.get(b[1]-1);if(Y&&E.isWrapped&&Y.getCodePoint(this._bufferService.cols-1)!==32){const q=this._getWordAt([this._bufferService.cols-1,b[1]-1],!1,!0,!1);if(q){const Z=this._bufferService.cols-q.start;V-=Z,G+=Z}}}if(H&&V+G===this._bufferService.cols&&E.getCodePoint(this._bufferService.cols-1)!==32){const Y=k.lines.get(b[1]+1);if(Y!=null&&Y.isWrapped&&Y.getCodePoint(0)!==32){const q=this._getWordAt([0,b[1]+1],!1,!1,!0);q&&(G+=q.length)}}return{start:V,length:G}}}_selectWordAt(b,w){const R=this._getWordAt(b,w);if(R){for(;R.start<0;)R.start+=this._bufferService.cols,b[1]--;this._model.selectionStart=[R.start,b[1]],this._model.selectionStartLength=R.length}}_selectToWordAt(b){const w=this._getWordAt(b,!0);if(w){let R=b[1];for(;w.start<0;)w.start+=this._bufferService.cols,R--;if(!this._model.areSelectionValuesReversed())for(;w.start+w.length>this._bufferService.cols;)w.length-=this._bufferService.cols,R++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?w.start:w.start+w.length,R]}}_isCharWordSeparator(b){return b.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(b.getChars())>=0}_selectLineAt(b){const w=this._bufferService.buffer.getWrappedRangeForLine(b),R={start:{x:0,y:w.first},end:{x:this._bufferService.cols-1,y:w.last}};this._model.selectionStart=[0,w.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,u.getRangeLength)(R,this._bufferService.cols)}};v.SelectionService=S=d([s(3,y.IBufferService),s(4,y.ICoreService),s(5,o.IMouseService),s(6,y.IOptionsService),s(7,o.IRenderService),s(8,o.ICoreBrowserService)],S)},4725:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ILinkProviderService=v.IThemeService=v.ICharacterJoinerService=v.ISelectionService=v.IRenderService=v.IMouseService=v.ICoreBrowserService=v.ICharSizeService=void 0;const d=h(8343);v.ICharSizeService=(0,d.createDecorator)("CharSizeService"),v.ICoreBrowserService=(0,d.createDecorator)("CoreBrowserService"),v.IMouseService=(0,d.createDecorator)("MouseService"),v.IRenderService=(0,d.createDecorator)("RenderService"),v.ISelectionService=(0,d.createDecorator)("SelectionService"),v.ICharacterJoinerService=(0,d.createDecorator)("CharacterJoinerService"),v.IThemeService=(0,d.createDecorator)("ThemeService"),v.ILinkProviderService=(0,d.createDecorator)("LinkProviderService")},6731:function(x,v,h){var d=this&&this.__decorate||function(S,b,w,R){var H,k=arguments.length,E=k<3?b:R===null?R=Object.getOwnPropertyDescriptor(b,w):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(S,b,w,R);else for(var A=S.length-1;A>=0;A--)(H=S[A])&&(E=(k<3?H(E):k>3?H(b,w,E):H(b,w))||E);return k>3&&E&&Object.defineProperty(b,w,E),E},s=this&&this.__param||function(S,b){return function(w,R){b(w,R,S)}};Object.defineProperty(v,"__esModule",{value:!0}),v.ThemeService=v.DEFAULT_ANSI_COLORS=void 0;const i=h(7239),r=h(8055),n=h(8460),o=h(844),a=h(2585),l=r.css.toColor("#ffffff"),f=r.css.toColor("#000000"),u=r.css.toColor("#ffffff"),g=r.css.toColor("#000000"),y={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};v.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const S=[r.css.toColor("#2e3436"),r.css.toColor("#cc0000"),r.css.toColor("#4e9a06"),r.css.toColor("#c4a000"),r.css.toColor("#3465a4"),r.css.toColor("#75507b"),r.css.toColor("#06989a"),r.css.toColor("#d3d7cf"),r.css.toColor("#555753"),r.css.toColor("#ef2929"),r.css.toColor("#8ae234"),r.css.toColor("#fce94f"),r.css.toColor("#729fcf"),r.css.toColor("#ad7fa8"),r.css.toColor("#34e2e2"),r.css.toColor("#eeeeec")],b=[0,95,135,175,215,255];for(let w=0;w<216;w++){const R=b[w/36%6|0],H=b[w/6%6|0],k=b[w%6];S.push({css:r.channels.toCss(R,H,k),rgba:r.channels.toRgba(R,H,k)})}for(let w=0;w<24;w++){const R=8+10*w;S.push({css:r.channels.toCss(R,R,R),rgba:r.channels.toRgba(R,R,R)})}return S})());let _=v.ThemeService=class extends o.Disposable{get colors(){return this._colors}constructor(S){super(),this._optionsService=S,this._contrastCache=new i.ColorContrastCache,this._halfContrastCache=new i.ColorContrastCache,this._onChangeColors=this.register(new n.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:l,background:f,cursor:u,cursorAccent:g,selectionForeground:void 0,selectionBackgroundTransparent:y,selectionBackgroundOpaque:r.color.blend(f,y),selectionInactiveBackgroundTransparent:y,selectionInactiveBackgroundOpaque:r.color.blend(f,y),ansi:v.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(S={}){const b=this._colors;if(b.foreground=p(S.foreground,l),b.background=p(S.background,f),b.cursor=p(S.cursor,u),b.cursorAccent=p(S.cursorAccent,g),b.selectionBackgroundTransparent=p(S.selectionBackground,y),b.selectionBackgroundOpaque=r.color.blend(b.background,b.selectionBackgroundTransparent),b.selectionInactiveBackgroundTransparent=p(S.selectionInactiveBackground,b.selectionBackgroundTransparent),b.selectionInactiveBackgroundOpaque=r.color.blend(b.background,b.selectionInactiveBackgroundTransparent),b.selectionForeground=S.selectionForeground?p(S.selectionForeground,r.NULL_COLOR):void 0,b.selectionForeground===r.NULL_COLOR&&(b.selectionForeground=void 0),r.color.isOpaque(b.selectionBackgroundTransparent)&&(b.selectionBackgroundTransparent=r.color.opacity(b.selectionBackgroundTransparent,.3)),r.color.isOpaque(b.selectionInactiveBackgroundTransparent)&&(b.selectionInactiveBackgroundTransparent=r.color.opacity(b.selectionInactiveBackgroundTransparent,.3)),b.ansi=v.DEFAULT_ANSI_COLORS.slice(),b.ansi[0]=p(S.black,v.DEFAULT_ANSI_COLORS[0]),b.ansi[1]=p(S.red,v.DEFAULT_ANSI_COLORS[1]),b.ansi[2]=p(S.green,v.DEFAULT_ANSI_COLORS[2]),b.ansi[3]=p(S.yellow,v.DEFAULT_ANSI_COLORS[3]),b.ansi[4]=p(S.blue,v.DEFAULT_ANSI_COLORS[4]),b.ansi[5]=p(S.magenta,v.DEFAULT_ANSI_COLORS[5]),b.ansi[6]=p(S.cyan,v.DEFAULT_ANSI_COLORS[6]),b.ansi[7]=p(S.white,v.DEFAULT_ANSI_COLORS[7]),b.ansi[8]=p(S.brightBlack,v.DEFAULT_ANSI_COLORS[8]),b.ansi[9]=p(S.brightRed,v.DEFAULT_ANSI_COLORS[9]),b.ansi[10]=p(S.brightGreen,v.DEFAULT_ANSI_COLORS[10]),b.ansi[11]=p(S.brightYellow,v.DEFAULT_ANSI_COLORS[11]),b.ansi[12]=p(S.brightBlue,v.DEFAULT_ANSI_COLORS[12]),b.ansi[13]=p(S.brightMagenta,v.DEFAULT_ANSI_COLORS[13]),b.ansi[14]=p(S.brightCyan,v.DEFAULT_ANSI_COLORS[14]),b.ansi[15]=p(S.brightWhite,v.DEFAULT_ANSI_COLORS[15]),S.extendedAnsi){const w=Math.min(b.ansi.length-16,S.extendedAnsi.length);for(let R=0;R<w;R++)b.ansi[R+16]=p(S.extendedAnsi[R],v.DEFAULT_ANSI_COLORS[R+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(S){this._restoreColor(S),this._onChangeColors.fire(this.colors)}_restoreColor(S){if(S!==void 0)switch(S){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[S]=this._restoreColors.ansi[S]}else for(let b=0;b<this._restoreColors.ansi.length;++b)this._colors.ansi[b]=this._restoreColors.ansi[b]}modifyColors(S){S(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function p(S,b){if(S!==void 0)try{return r.css.toColor(S)}catch{}return b}v.ThemeService=_=d([s(0,a.IOptionsService)],_)},6349:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.CircularList=void 0;const d=h(8460),s=h(844);class i extends s.Disposable{constructor(n){super(),this._maxLength=n,this.onDeleteEmitter=this.register(new d.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new d.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new d.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(n){if(this._maxLength===n)return;const o=new Array(n);for(let a=0;a<Math.min(n,this.length);a++)o[a]=this._array[this._getCyclicIndex(a)];this._array=o,this._maxLength=n,this._startIndex=0}get length(){return this._length}set length(n){if(n>this._length)for(let o=this._length;o<n;o++)this._array[o]=void 0;this._length=n}get(n){return this._array[this._getCyclicIndex(n)]}set(n,o){this._array[this._getCyclicIndex(n)]=o}push(n){this._array[this._getCyclicIndex(this._length)]=n,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(n,o,...a){if(o){for(let l=n;l<this._length-o;l++)this._array[this._getCyclicIndex(l)]=this._array[this._getCyclicIndex(l+o)];this._length-=o,this.onDeleteEmitter.fire({index:n,amount:o})}for(let l=this._length-1;l>=n;l--)this._array[this._getCyclicIndex(l+a.length)]=this._array[this._getCyclicIndex(l)];for(let l=0;l<a.length;l++)this._array[this._getCyclicIndex(n+l)]=a[l];if(a.length&&this.onInsertEmitter.fire({index:n,amount:a.length}),this._length+a.length>this._maxLength){const l=this._length+a.length-this._maxLength;this._startIndex+=l,this._length=this._maxLength,this.onTrimEmitter.fire(l)}else this._length+=a.length}trimStart(n){n>this._length&&(n=this._length),this._startIndex+=n,this._length-=n,this.onTrimEmitter.fire(n)}shiftElements(n,o,a){if(!(o<=0)){if(n<0||n>=this._length)throw new Error("start argument out of range");if(n+a<0)throw new Error("Cannot shift elements in list beyond index 0");if(a>0){for(let f=o-1;f>=0;f--)this.set(n+f+a,this.get(n+f));const l=n+o+a-this._length;if(l>0)for(this._length+=l;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let l=0;l<o;l++)this.set(n+l+a,this.get(n+l))}}_getCyclicIndex(n){return(this._startIndex+n)%this._maxLength}}v.CircularList=i},1439:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.clone=void 0,v.clone=function h(d,s=5){if(typeof d!="object")return d;const i=Array.isArray(d)?[]:{};for(const r in d)i[r]=s<=1?d[r]:d[r]&&h(d[r],s-1);return i}},8055:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.contrastRatio=v.toPaddedHex=v.rgba=v.rgb=v.css=v.color=v.channels=v.NULL_COLOR=void 0;let h=0,d=0,s=0,i=0;var r,n,o,a,l;function f(g){const y=g.toString(16);return y.length<2?"0"+y:y}function u(g,y){return g<y?(y+.05)/(g+.05):(g+.05)/(y+.05)}v.NULL_COLOR={css:"#00000000",rgba:0},function(g){g.toCss=function(y,_,p,S){return S!==void 0?`#${f(y)}${f(_)}${f(p)}${f(S)}`:`#${f(y)}${f(_)}${f(p)}`},g.toRgba=function(y,_,p,S=255){return(y<<24|_<<16|p<<8|S)>>>0},g.toColor=function(y,_,p,S){return{css:g.toCss(y,_,p,S),rgba:g.toRgba(y,_,p,S)}}}(r||(v.channels=r={})),function(g){function y(_,p){return i=Math.round(255*p),[h,d,s]=l.toChannels(_.rgba),{css:r.toCss(h,d,s,i),rgba:r.toRgba(h,d,s,i)}}g.blend=function(_,p){if(i=(255&p.rgba)/255,i===1)return{css:p.css,rgba:p.rgba};const S=p.rgba>>24&255,b=p.rgba>>16&255,w=p.rgba>>8&255,R=_.rgba>>24&255,H=_.rgba>>16&255,k=_.rgba>>8&255;return h=R+Math.round((S-R)*i),d=H+Math.round((b-H)*i),s=k+Math.round((w-k)*i),{css:r.toCss(h,d,s),rgba:r.toRgba(h,d,s)}},g.isOpaque=function(_){return(255&_.rgba)==255},g.ensureContrastRatio=function(_,p,S){const b=l.ensureContrastRatio(_.rgba,p.rgba,S);if(b)return r.toColor(b>>24&255,b>>16&255,b>>8&255)},g.opaque=function(_){const p=(255|_.rgba)>>>0;return[h,d,s]=l.toChannels(p),{css:r.toCss(h,d,s),rgba:p}},g.opacity=y,g.multiplyOpacity=function(_,p){return i=255&_.rgba,y(_,i*p/255)},g.toColorRGB=function(_){return[_.rgba>>24&255,_.rgba>>16&255,_.rgba>>8&255]}}(n||(v.color=n={})),function(g){let y,_;try{const p=document.createElement("canvas");p.width=1,p.height=1;const S=p.getContext("2d",{willReadFrequently:!0});S&&(y=S,y.globalCompositeOperation="copy",_=y.createLinearGradient(0,0,1,1))}catch{}g.toColor=function(p){if(p.match(/#[\da-f]{3,8}/i))switch(p.length){case 4:return h=parseInt(p.slice(1,2).repeat(2),16),d=parseInt(p.slice(2,3).repeat(2),16),s=parseInt(p.slice(3,4).repeat(2),16),r.toColor(h,d,s);case 5:return h=parseInt(p.slice(1,2).repeat(2),16),d=parseInt(p.slice(2,3).repeat(2),16),s=parseInt(p.slice(3,4).repeat(2),16),i=parseInt(p.slice(4,5).repeat(2),16),r.toColor(h,d,s,i);case 7:return{css:p,rgba:(parseInt(p.slice(1),16)<<8|255)>>>0};case 9:return{css:p,rgba:parseInt(p.slice(1),16)>>>0}}const S=p.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(S)return h=parseInt(S[1]),d=parseInt(S[2]),s=parseInt(S[3]),i=Math.round(255*(S[5]===void 0?1:parseFloat(S[5]))),r.toColor(h,d,s,i);if(!y||!_)throw new Error("css.toColor: Unsupported css format");if(y.fillStyle=_,y.fillStyle=p,typeof y.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(y.fillRect(0,0,1,1),[h,d,s,i]=y.getImageData(0,0,1,1).data,i!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:r.toRgba(h,d,s,i),css:p}}}(o||(v.css=o={})),function(g){function y(_,p,S){const b=_/255,w=p/255,R=S/255;return .2126*(b<=.03928?b/12.92:Math.pow((b+.055)/1.055,2.4))+.7152*(w<=.03928?w/12.92:Math.pow((w+.055)/1.055,2.4))+.0722*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))}g.relativeLuminance=function(_){return y(_>>16&255,_>>8&255,255&_)},g.relativeLuminance2=y}(a||(v.rgb=a={})),function(g){function y(p,S,b){const w=p>>24&255,R=p>>16&255,H=p>>8&255;let k=S>>24&255,E=S>>16&255,A=S>>8&255,C=u(a.relativeLuminance2(k,E,A),a.relativeLuminance2(w,R,H));for(;C<b&&(k>0||E>0||A>0);)k-=Math.max(0,Math.ceil(.1*k)),E-=Math.max(0,Math.ceil(.1*E)),A-=Math.max(0,Math.ceil(.1*A)),C=u(a.relativeLuminance2(k,E,A),a.relativeLuminance2(w,R,H));return(k<<24|E<<16|A<<8|255)>>>0}function _(p,S,b){const w=p>>24&255,R=p>>16&255,H=p>>8&255;let k=S>>24&255,E=S>>16&255,A=S>>8&255,C=u(a.relativeLuminance2(k,E,A),a.relativeLuminance2(w,R,H));for(;C<b&&(k<255||E<255||A<255);)k=Math.min(255,k+Math.ceil(.1*(255-k))),E=Math.min(255,E+Math.ceil(.1*(255-E))),A=Math.min(255,A+Math.ceil(.1*(255-A))),C=u(a.relativeLuminance2(k,E,A),a.relativeLuminance2(w,R,H));return(k<<24|E<<16|A<<8|255)>>>0}g.blend=function(p,S){if(i=(255&S)/255,i===1)return S;const b=S>>24&255,w=S>>16&255,R=S>>8&255,H=p>>24&255,k=p>>16&255,E=p>>8&255;return h=H+Math.round((b-H)*i),d=k+Math.round((w-k)*i),s=E+Math.round((R-E)*i),r.toRgba(h,d,s)},g.ensureContrastRatio=function(p,S,b){const w=a.relativeLuminance(p>>8),R=a.relativeLuminance(S>>8);if(u(w,R)<b){if(R<w){const E=y(p,S,b),A=u(w,a.relativeLuminance(E>>8));if(A<b){const C=_(p,S,b);return A>u(w,a.relativeLuminance(C>>8))?E:C}return E}const H=_(p,S,b),k=u(w,a.relativeLuminance(H>>8));if(k<b){const E=y(p,S,b);return k>u(w,a.relativeLuminance(E>>8))?H:E}return H}},g.reduceLuminance=y,g.increaseLuminance=_,g.toChannels=function(p){return[p>>24&255,p>>16&255,p>>8&255,255&p]}}(l||(v.rgba=l={})),v.toPaddedHex=f,v.contrastRatio=u},8969:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.CoreTerminal=void 0;const d=h(844),s=h(2585),i=h(4348),r=h(7866),n=h(744),o=h(7302),a=h(6975),l=h(8460),f=h(1753),u=h(1480),g=h(7994),y=h(9282),_=h(5435),p=h(5981),S=h(2660);let b=!1;class w extends d.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new l.EventEmitter),this._onScroll.event(H=>{var k;(k=this._onScrollApi)==null||k.fire(H.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(H){for(const k in H)this.optionsService.options[k]=H[k]}constructor(H){super(),this._windowsWrappingHeuristics=this.register(new d.MutableDisposable),this._onBinary=this.register(new l.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new l.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new l.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new l.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new l.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new l.EventEmitter),this._instantiationService=new i.InstantiationService,this.optionsService=this.register(new o.OptionsService(H)),this._instantiationService.setService(s.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(n.BufferService)),this._instantiationService.setService(s.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(r.LogService)),this._instantiationService.setService(s.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(a.CoreService)),this._instantiationService.setService(s.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(f.CoreMouseService)),this._instantiationService.setService(s.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(u.UnicodeService)),this._instantiationService.setService(s.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(g.CharsetService),this._instantiationService.setService(s.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(S.OscLinkService),this._instantiationService.setService(s.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new _.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,l.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,l.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,l.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,l.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(k=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(k=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new p.WriteBuffer((k,E)=>this._inputHandler.parse(k,E))),this.register((0,l.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(H,k){this._writeBuffer.write(H,k)}writeSync(H,k){this._logService.logLevel<=s.LogLevelEnum.WARN&&!b&&(this._logService.warn("writeSync is unreliable and will be removed soon."),b=!0),this._writeBuffer.writeSync(H,k)}input(H,k=!0){this.coreService.triggerDataEvent(H,k)}resize(H,k){isNaN(H)||isNaN(k)||(H=Math.max(H,n.MINIMUM_COLS),k=Math.max(k,n.MINIMUM_ROWS),this._bufferService.resize(H,k))}scroll(H,k=!1){this._bufferService.scroll(H,k)}scrollLines(H,k,E){this._bufferService.scrollLines(H,k,E)}scrollPages(H){this.scrollLines(H*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(H){const k=H-this._bufferService.buffer.ydisp;k!==0&&this.scrollLines(k)}registerEscHandler(H,k){return this._inputHandler.registerEscHandler(H,k)}registerDcsHandler(H,k){return this._inputHandler.registerDcsHandler(H,k)}registerCsiHandler(H,k){return this._inputHandler.registerCsiHandler(H,k)}registerOscHandler(H,k){return this._inputHandler.registerOscHandler(H,k)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let H=!1;const k=this.optionsService.rawOptions.windowsPty;k&&k.buildNumber!==void 0&&k.buildNumber!==void 0?H=k.backend==="conpty"&&k.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(H=!0),H?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const H=[];H.push(this.onLineFeed(y.updateWindowsModeWrappedState.bind(null,this._bufferService))),H.push(this.registerCsiHandler({final:"H"},()=>((0,y.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,d.toDisposable)(()=>{for(const k of H)k.dispose()})}}}v.CoreTerminal=w},8460:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.runAndSubscribe=v.forwardEvent=v.EventEmitter=void 0,v.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=h=>(this._listeners.push(h),{dispose:()=>{if(!this._disposed){for(let d=0;d<this._listeners.length;d++)if(this._listeners[d]===h)return void this._listeners.splice(d,1)}}})),this._event}fire(h,d){const s=[];for(let i=0;i<this._listeners.length;i++)s.push(this._listeners[i]);for(let i=0;i<s.length;i++)s[i].call(void 0,h,d)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},v.forwardEvent=function(h,d){return h(s=>d.fire(s))},v.runAndSubscribe=function(h,d){return d(void 0),h(s=>d(s))}},5435:function(x,v,h){var d=this&&this.__decorate||function(F,N,B,P){var V,G=arguments.length,Y=G<3?N:P===null?P=Object.getOwnPropertyDescriptor(N,B):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(F,N,B,P);else for(var q=F.length-1;q>=0;q--)(V=F[q])&&(Y=(G<3?V(Y):G>3?V(N,B,Y):V(N,B))||Y);return G>3&&Y&&Object.defineProperty(N,B,Y),Y},s=this&&this.__param||function(F,N){return function(B,P){N(B,P,F)}};Object.defineProperty(v,"__esModule",{value:!0}),v.InputHandler=v.WindowsOptionsReportType=void 0;const i=h(2584),r=h(7116),n=h(2015),o=h(844),a=h(482),l=h(8437),f=h(8460),u=h(643),g=h(511),y=h(3734),_=h(2585),p=h(1480),S=h(6242),b=h(6351),w=h(5941),R={"(":0,")":1,"*":2,"+":3,"-":1,".":2},H=131072;function k(F,N){if(F>24)return N.setWinLines||!1;switch(F){case 1:return!!N.restoreWin;case 2:return!!N.minimizeWin;case 3:return!!N.setWinPosition;case 4:return!!N.setWinSizePixels;case 5:return!!N.raiseWin;case 6:return!!N.lowerWin;case 7:return!!N.refreshWin;case 8:return!!N.setWinSizeChars;case 9:return!!N.maximizeWin;case 10:return!!N.fullscreenWin;case 11:return!!N.getWinState;case 13:return!!N.getWinPosition;case 14:return!!N.getWinSizePixels;case 15:return!!N.getScreenSizePixels;case 16:return!!N.getCellSizePixels;case 18:return!!N.getWinSizeChars;case 19:return!!N.getScreenSizeChars;case 20:return!!N.getIconTitle;case 21:return!!N.getWinTitle;case 22:return!!N.pushTitle;case 23:return!!N.popTitle;case 24:return!!N.setWinLines}return!1}var E;(function(F){F[F.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",F[F.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(E||(v.WindowsOptionsReportType=E={}));let A=0;class C extends o.Disposable{getAttrData(){return this._curAttrData}constructor(N,B,P,V,G,Y,q,Z,Q=new n.EscapeSequenceParser){super(),this._bufferService=N,this._charsetService=B,this._coreService=P,this._logService=V,this._optionsService=G,this._oscLinkService=Y,this._coreMouseService=q,this._unicodeService=Z,this._parser=Q,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new a.StringToUtf32,this._utf8Decoder=new a.Utf8ToUtf32,this._workCell=new g.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=l.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=l.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new f.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new f.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new f.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new f.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new f.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new f.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new f.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new f.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new f.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new f.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new f.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new f.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new f.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new $(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(U=>this._activeBuffer=U.activeBuffer)),this._parser.setCsiHandlerFallback((U,ie)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(U),params:ie.toArray()})}),this._parser.setEscHandlerFallback(U=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(U)})}),this._parser.setExecuteHandlerFallback(U=>{this._logService.debug("Unknown EXECUTE code: ",{code:U})}),this._parser.setOscHandlerFallback((U,ie,ee)=>{this._logService.debug("Unknown OSC code: ",{identifier:U,action:ie,data:ee})}),this._parser.setDcsHandlerFallback((U,ie,ee)=>{ie==="HOOK"&&(ee=ee.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(U),action:ie,payload:ee})}),this._parser.setPrintHandler((U,ie,ee)=>this.print(U,ie,ee)),this._parser.registerCsiHandler({final:"@"},U=>this.insertChars(U)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},U=>this.scrollLeft(U)),this._parser.registerCsiHandler({final:"A"},U=>this.cursorUp(U)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},U=>this.scrollRight(U)),this._parser.registerCsiHandler({final:"B"},U=>this.cursorDown(U)),this._parser.registerCsiHandler({final:"C"},U=>this.cursorForward(U)),this._parser.registerCsiHandler({final:"D"},U=>this.cursorBackward(U)),this._parser.registerCsiHandler({final:"E"},U=>this.cursorNextLine(U)),this._parser.registerCsiHandler({final:"F"},U=>this.cursorPrecedingLine(U)),this._parser.registerCsiHandler({final:"G"},U=>this.cursorCharAbsolute(U)),this._parser.registerCsiHandler({final:"H"},U=>this.cursorPosition(U)),this._parser.registerCsiHandler({final:"I"},U=>this.cursorForwardTab(U)),this._parser.registerCsiHandler({final:"J"},U=>this.eraseInDisplay(U,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},U=>this.eraseInDisplay(U,!0)),this._parser.registerCsiHandler({final:"K"},U=>this.eraseInLine(U,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},U=>this.eraseInLine(U,!0)),this._parser.registerCsiHandler({final:"L"},U=>this.insertLines(U)),this._parser.registerCsiHandler({final:"M"},U=>this.deleteLines(U)),this._parser.registerCsiHandler({final:"P"},U=>this.deleteChars(U)),this._parser.registerCsiHandler({final:"S"},U=>this.scrollUp(U)),this._parser.registerCsiHandler({final:"T"},U=>this.scrollDown(U)),this._parser.registerCsiHandler({final:"X"},U=>this.eraseChars(U)),this._parser.registerCsiHandler({final:"Z"},U=>this.cursorBackwardTab(U)),this._parser.registerCsiHandler({final:"`"},U=>this.charPosAbsolute(U)),this._parser.registerCsiHandler({final:"a"},U=>this.hPositionRelative(U)),this._parser.registerCsiHandler({final:"b"},U=>this.repeatPrecedingCharacter(U)),this._parser.registerCsiHandler({final:"c"},U=>this.sendDeviceAttributesPrimary(U)),this._parser.registerCsiHandler({prefix:">",final:"c"},U=>this.sendDeviceAttributesSecondary(U)),this._parser.registerCsiHandler({final:"d"},U=>this.linePosAbsolute(U)),this._parser.registerCsiHandler({final:"e"},U=>this.vPositionRelative(U)),this._parser.registerCsiHandler({final:"f"},U=>this.hVPosition(U)),this._parser.registerCsiHandler({final:"g"},U=>this.tabClear(U)),this._parser.registerCsiHandler({final:"h"},U=>this.setMode(U)),this._parser.registerCsiHandler({prefix:"?",final:"h"},U=>this.setModePrivate(U)),this._parser.registerCsiHandler({final:"l"},U=>this.resetMode(U)),this._parser.registerCsiHandler({prefix:"?",final:"l"},U=>this.resetModePrivate(U)),this._parser.registerCsiHandler({final:"m"},U=>this.charAttributes(U)),this._parser.registerCsiHandler({final:"n"},U=>this.deviceStatus(U)),this._parser.registerCsiHandler({prefix:"?",final:"n"},U=>this.deviceStatusPrivate(U)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},U=>this.softReset(U)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},U=>this.setCursorStyle(U)),this._parser.registerCsiHandler({final:"r"},U=>this.setScrollRegion(U)),this._parser.registerCsiHandler({final:"s"},U=>this.saveCursor(U)),this._parser.registerCsiHandler({final:"t"},U=>this.windowOptions(U)),this._parser.registerCsiHandler({final:"u"},U=>this.restoreCursor(U)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},U=>this.insertColumns(U)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},U=>this.deleteColumns(U)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},U=>this.selectProtected(U)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},U=>this.requestMode(U,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},U=>this.requestMode(U,!1)),this._parser.setExecuteHandler(i.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(i.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(i.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(i.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(i.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(i.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(i.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(i.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(i.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(i.C1.IND,()=>this.index()),this._parser.setExecuteHandler(i.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(i.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new S.OscHandler(U=>(this.setTitle(U),this.setIconName(U),!0))),this._parser.registerOscHandler(1,new S.OscHandler(U=>this.setIconName(U))),this._parser.registerOscHandler(2,new S.OscHandler(U=>this.setTitle(U))),this._parser.registerOscHandler(4,new S.OscHandler(U=>this.setOrReportIndexedColor(U))),this._parser.registerOscHandler(8,new S.OscHandler(U=>this.setHyperlink(U))),this._parser.registerOscHandler(10,new S.OscHandler(U=>this.setOrReportFgColor(U))),this._parser.registerOscHandler(11,new S.OscHandler(U=>this.setOrReportBgColor(U))),this._parser.registerOscHandler(12,new S.OscHandler(U=>this.setOrReportCursorColor(U))),this._parser.registerOscHandler(104,new S.OscHandler(U=>this.restoreIndexedColor(U))),this._parser.registerOscHandler(110,new S.OscHandler(U=>this.restoreFgColor(U))),this._parser.registerOscHandler(111,new S.OscHandler(U=>this.restoreBgColor(U))),this._parser.registerOscHandler(112,new S.OscHandler(U=>this.restoreCursorColor(U))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const U in r.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:U},()=>this.selectCharset("("+U)),this._parser.registerEscHandler({intermediates:")",final:U},()=>this.selectCharset(")"+U)),this._parser.registerEscHandler({intermediates:"*",final:U},()=>this.selectCharset("*"+U)),this._parser.registerEscHandler({intermediates:"+",final:U},()=>this.selectCharset("+"+U)),this._parser.registerEscHandler({intermediates:"-",final:U},()=>this.selectCharset("-"+U)),this._parser.registerEscHandler({intermediates:".",final:U},()=>this.selectCharset("."+U)),this._parser.registerEscHandler({intermediates:"/",final:U},()=>this.selectCharset("/"+U));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(U=>(this._logService.error("Parsing error: ",U),U)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new b.DcsHandler((U,ie)=>this.requestStatusString(U,ie)))}_preserveStack(N,B,P,V){this._parseStack.paused=!0,this._parseStack.cursorStartX=N,this._parseStack.cursorStartY=B,this._parseStack.decodedLength=P,this._parseStack.position=V}_logSlowResolvingAsync(N){this._logService.logLevel<=_.LogLevelEnum.WARN&&Promise.race([N,new Promise((B,P)=>setTimeout(()=>P("#SLOW_TIMEOUT"),5e3))]).catch(B=>{if(B!=="#SLOW_TIMEOUT")throw B;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(N,B){let P,V=this._activeBuffer.x,G=this._activeBuffer.y,Y=0;const q=this._parseStack.paused;if(q){if(P=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,B))return this._logSlowResolvingAsync(P),P;V=this._parseStack.cursorStartX,G=this._parseStack.cursorStartY,this._parseStack.paused=!1,N.length>H&&(Y=this._parseStack.position+H)}if(this._logService.logLevel<=_.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof N=="string"?` "${N}"`:` "${Array.prototype.map.call(N,U=>String.fromCharCode(U)).join("")}"`),typeof N=="string"?N.split("").map(U=>U.charCodeAt(0)):N),this._parseBuffer.length<N.length&&this._parseBuffer.length<H&&(this._parseBuffer=new Uint32Array(Math.min(N.length,H))),q||this._dirtyRowTracker.clearRange(),N.length>H)for(let U=Y;U<N.length;U+=H){const ie=U+H<N.length?U+H:N.length,ee=typeof N=="string"?this._stringDecoder.decode(N.substring(U,ie),this._parseBuffer):this._utf8Decoder.decode(N.subarray(U,ie),this._parseBuffer);if(P=this._parser.parse(this._parseBuffer,ee))return this._preserveStack(V,G,ee,U),this._logSlowResolvingAsync(P),P}else if(!q){const U=typeof N=="string"?this._stringDecoder.decode(N,this._parseBuffer):this._utf8Decoder.decode(N,this._parseBuffer);if(P=this._parser.parse(this._parseBuffer,U))return this._preserveStack(V,G,U,0),this._logSlowResolvingAsync(P),P}this._activeBuffer.x===V&&this._activeBuffer.y===G||this._onCursorMove.fire();const Z=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),Q=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);Q<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(Q,this._bufferService.rows-1),Math.min(Z,this._bufferService.rows-1))}print(N,B,P){let V,G;const Y=this._charsetService.charset,q=this._optionsService.rawOptions.screenReaderMode,Z=this._bufferService.cols,Q=this._coreService.decPrivateModes.wraparound,U=this._coreService.modes.insertMode,ie=this._curAttrData;let ee=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&P-B>0&&ee.getWidth(this._activeBuffer.x-1)===2&&ee.setCellFromCodepoint(this._activeBuffer.x-1,0,1,ie);let he=this._parser.precedingJoinState;for(let pe=B;pe<P;++pe){if(V=N[pe],V<127&&Y){const ze=Y[String.fromCharCode(V)];ze&&(V=ze.charCodeAt(0))}const be=this._unicodeService.charProperties(V,he);G=p.UnicodeService.extractWidth(be);const Le=p.UnicodeService.extractShouldJoin(be),Te=Le?p.UnicodeService.extractWidth(he):0;if(he=be,q&&this._onA11yChar.fire((0,a.stringFromCodePoint)(V)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+G-Te>Z){if(Q){const ze=ee;let Ee=this._activeBuffer.x-Te;for(this._activeBuffer.x=Te,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),ee=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),Te>0&&ee instanceof l.BufferLine&&ee.copyCellsFrom(ze,Ee,0,Te,!1);Ee<Z;)ze.setCellFromCodepoint(Ee++,0,1,ie)}else if(this._activeBuffer.x=Z-1,G===2)continue}if(Le&&this._activeBuffer.x){const ze=ee.getWidth(this._activeBuffer.x-1)?1:2;ee.addCodepointToCell(this._activeBuffer.x-ze,V,G);for(let Ee=G-Te;--Ee>=0;)ee.setCellFromCodepoint(this._activeBuffer.x++,0,0,ie)}else if(U&&(ee.insertCells(this._activeBuffer.x,G-Te,this._activeBuffer.getNullCell(ie)),ee.getWidth(Z-1)===2&&ee.setCellFromCodepoint(Z-1,u.NULL_CELL_CODE,u.NULL_CELL_WIDTH,ie)),ee.setCellFromCodepoint(this._activeBuffer.x++,V,G,ie),G>0)for(;--G;)ee.setCellFromCodepoint(this._activeBuffer.x++,0,0,ie)}this._parser.precedingJoinState=he,this._activeBuffer.x<Z&&P-B>0&&ee.getWidth(this._activeBuffer.x)===0&&!ee.hasContent(this._activeBuffer.x)&&ee.setCellFromCodepoint(this._activeBuffer.x,0,1,ie),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(N,B){return N.final!=="t"||N.prefix||N.intermediates?this._parser.registerCsiHandler(N,B):this._parser.registerCsiHandler(N,P=>!k(P.params[0],this._optionsService.rawOptions.windowOptions)||B(P))}registerDcsHandler(N,B){return this._parser.registerDcsHandler(N,new b.DcsHandler(B))}registerEscHandler(N,B){return this._parser.registerEscHandler(N,B)}registerOscHandler(N,B){return this._parser.registerOscHandler(N,new S.OscHandler(B))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var N;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((N=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))!=null&&N.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);B.hasWidth(this._activeBuffer.x)&&!B.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const N=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-N),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(N=this._bufferService.cols-1){this._activeBuffer.x=Math.min(N,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(N,B){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=N,this._activeBuffer.y=this._activeBuffer.scrollTop+B):(this._activeBuffer.x=N,this._activeBuffer.y=B),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(N,B){this._restrictCursor(),this._setCursor(this._activeBuffer.x+N,this._activeBuffer.y+B)}cursorUp(N){const B=this._activeBuffer.y-this._activeBuffer.scrollTop;return B>=0?this._moveCursor(0,-Math.min(B,N.params[0]||1)):this._moveCursor(0,-(N.params[0]||1)),!0}cursorDown(N){const B=this._activeBuffer.scrollBottom-this._activeBuffer.y;return B>=0?this._moveCursor(0,Math.min(B,N.params[0]||1)):this._moveCursor(0,N.params[0]||1),!0}cursorForward(N){return this._moveCursor(N.params[0]||1,0),!0}cursorBackward(N){return this._moveCursor(-(N.params[0]||1),0),!0}cursorNextLine(N){return this.cursorDown(N),this._activeBuffer.x=0,!0}cursorPrecedingLine(N){return this.cursorUp(N),this._activeBuffer.x=0,!0}cursorCharAbsolute(N){return this._setCursor((N.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(N){return this._setCursor(N.length>=2?(N.params[1]||1)-1:0,(N.params[0]||1)-1),!0}charPosAbsolute(N){return this._setCursor((N.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(N){return this._moveCursor(N.params[0]||1,0),!0}linePosAbsolute(N){return this._setCursor(this._activeBuffer.x,(N.params[0]||1)-1),!0}vPositionRelative(N){return this._moveCursor(0,N.params[0]||1),!0}hVPosition(N){return this.cursorPosition(N),!0}tabClear(N){const B=N.params[0];return B===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:B===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(N){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let B=N.params[0]||1;for(;B--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(N){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let B=N.params[0]||1;for(;B--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(N){const B=N.params[0];return B===1&&(this._curAttrData.bg|=536870912),B!==2&&B!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(N,B,P,V=!1,G=!1){const Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+N);Y.replaceCells(B,P,this._activeBuffer.getNullCell(this._eraseAttrData()),G),V&&(Y.isWrapped=!1)}_resetBufferLine(N,B=!1){const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+N);P&&(P.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),B),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+N),P.isWrapped=!1)}eraseInDisplay(N,B=!1){let P;switch(this._restrictCursor(this._bufferService.cols),N.params[0]){case 0:for(P=this._activeBuffer.y,this._dirtyRowTracker.markDirty(P),this._eraseInBufferLine(P++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,B);P<this._bufferService.rows;P++)this._resetBufferLine(P,B);this._dirtyRowTracker.markDirty(P);break;case 1:for(P=this._activeBuffer.y,this._dirtyRowTracker.markDirty(P),this._eraseInBufferLine(P,0,this._activeBuffer.x+1,!0,B),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(P+1).isWrapped=!1);P--;)this._resetBufferLine(P,B);this._dirtyRowTracker.markDirty(0);break;case 2:for(P=this._bufferService.rows,this._dirtyRowTracker.markDirty(P-1);P--;)this._resetBufferLine(P,B);this._dirtyRowTracker.markDirty(0);break;case 3:const V=this._activeBuffer.lines.length-this._bufferService.rows;V>0&&(this._activeBuffer.lines.trimStart(V),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-V,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-V,0),this._onScroll.fire(0))}return!0}eraseInLine(N,B=!1){switch(this._restrictCursor(this._bufferService.cols),N.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,B);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,B);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,B)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(N){this._restrictCursor();let B=N.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=this._activeBuffer.ybase+this._activeBuffer.y,V=this._bufferService.rows-1-this._activeBuffer.scrollBottom,G=this._bufferService.rows-1+this._activeBuffer.ybase-V+1;for(;B--;)this._activeBuffer.lines.splice(G-1,1),this._activeBuffer.lines.splice(P,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(N){this._restrictCursor();let B=N.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=this._activeBuffer.ybase+this._activeBuffer.y;let V;for(V=this._bufferService.rows-1-this._activeBuffer.scrollBottom,V=this._bufferService.rows-1+this._activeBuffer.ybase-V;B--;)this._activeBuffer.lines.splice(P,1),this._activeBuffer.lines.splice(V,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(N){this._restrictCursor();const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return B&&(B.insertCells(this._activeBuffer.x,N.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(N){this._restrictCursor();const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return B&&(B.deleteCells(this._activeBuffer.x,N.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(N){let B=N.params[0]||1;for(;B--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(N){let B=N.params[0]||1;for(;B--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(l.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(N){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=N.params[0]||1;for(let P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);V.deleteCells(0,B,this._activeBuffer.getNullCell(this._eraseAttrData())),V.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(N){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=N.params[0]||1;for(let P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);V.insertCells(0,B,this._activeBuffer.getNullCell(this._eraseAttrData())),V.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(N){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=N.params[0]||1;for(let P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);V.insertCells(this._activeBuffer.x,B,this._activeBuffer.getNullCell(this._eraseAttrData())),V.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(N){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=N.params[0]||1;for(let P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){const V=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);V.deleteCells(this._activeBuffer.x,B,this._activeBuffer.getNullCell(this._eraseAttrData())),V.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(N){this._restrictCursor();const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return B&&(B.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(N.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(N){const B=this._parser.precedingJoinState;if(!B)return!0;const P=N.params[0]||1,V=p.UnicodeService.extractWidth(B),G=this._activeBuffer.x-V,Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(G),q=new Uint32Array(Y.length*P);let Z=0;for(let U=0;U<Y.length;){const ie=Y.codePointAt(U)||0;q[Z++]=ie,U+=ie>65535?2:1}let Q=Z;for(let U=1;U<P;++U)q.copyWithin(Q,0,Z),Q+=Z;return this.print(q,0,Q),!0}sendDeviceAttributesPrimary(N){return N.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(i.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(i.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(N){return N.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(i.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(i.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(N.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(i.C0.ESC+"[>83;40003;0c")),!0}_is(N){return(this._optionsService.rawOptions.termName+"").indexOf(N)===0}setMode(N){for(let B=0;B<N.length;B++)switch(N.params[B]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(N){for(let B=0;B<N.length;B++)switch(N.params[B]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,r.DEFAULT_CHARSET),this._charsetService.setgCharset(1,r.DEFAULT_CHARSET),this._charsetService.setgCharset(2,r.DEFAULT_CHARSET),this._charsetService.setgCharset(3,r.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(N){for(let B=0;B<N.length;B++)switch(N.params[B]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(N){for(let B=0;B<N.length;B++)switch(N.params[B]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),N.params[B]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(N,B){const P=this._coreService.decPrivateModes,{activeProtocol:V,activeEncoding:G}=this._coreMouseService,Y=this._coreService,{buffers:q,cols:Z}=this._bufferService,{active:Q,alt:U}=q,ie=this._optionsService.rawOptions,ee=Le=>Le?1:2,he=N.params[0];return pe=he,be=B?he===2?4:he===4?ee(Y.modes.insertMode):he===12?3:he===20?ee(ie.convertEol):0:he===1?ee(P.applicationCursorKeys):he===3?ie.windowOptions.setWinLines?Z===80?2:Z===132?1:0:0:he===6?ee(P.origin):he===7?ee(P.wraparound):he===8?3:he===9?ee(V==="X10"):he===12?ee(ie.cursorBlink):he===25?ee(!Y.isCursorHidden):he===45?ee(P.reverseWraparound):he===66?ee(P.applicationKeypad):he===67?4:he===1e3?ee(V==="VT200"):he===1002?ee(V==="DRAG"):he===1003?ee(V==="ANY"):he===1004?ee(P.sendFocus):he===1005?4:he===1006?ee(G==="SGR"):he===1015?4:he===1016?ee(G==="SGR_PIXELS"):he===1048?1:he===47||he===1047||he===1049?ee(Q===U):he===2004?ee(P.bracketedPasteMode):0,Y.triggerDataEvent(`${i.C0.ESC}[${B?"":"?"}${pe};${be}$y`),!0;var pe,be}_updateAttrColor(N,B,P,V,G){return B===2?(N|=50331648,N&=-16777216,N|=y.AttributeData.fromColorRGB([P,V,G])):B===5&&(N&=-50331904,N|=33554432|255&P),N}_extractColor(N,B,P){const V=[0,0,-1,0,0,0];let G=0,Y=0;do{if(V[Y+G]=N.params[B+Y],N.hasSubParams(B+Y)){const q=N.getSubParams(B+Y);let Z=0;do V[1]===5&&(G=1),V[Y+Z+1+G]=q[Z];while(++Z<q.length&&Z+Y+1+G<V.length);break}if(V[1]===5&&Y+G>=2||V[1]===2&&Y+G>=5)break;V[1]&&(G=1)}while(++Y+B<N.length&&Y+G<V.length);for(let q=2;q<V.length;++q)V[q]===-1&&(V[q]=0);switch(V[0]){case 38:P.fg=this._updateAttrColor(P.fg,V[1],V[3],V[4],V[5]);break;case 48:P.bg=this._updateAttrColor(P.bg,V[1],V[3],V[4],V[5]);break;case 58:P.extended=P.extended.clone(),P.extended.underlineColor=this._updateAttrColor(P.extended.underlineColor,V[1],V[3],V[4],V[5])}return Y}_processUnderline(N,B){B.extended=B.extended.clone(),(!~N||N>5)&&(N=1),B.extended.underlineStyle=N,B.fg|=268435456,N===0&&(B.fg&=-268435457),B.updateExtended()}_processSGR0(N){N.fg=l.DEFAULT_ATTR_DATA.fg,N.bg=l.DEFAULT_ATTR_DATA.bg,N.extended=N.extended.clone(),N.extended.underlineStyle=0,N.extended.underlineColor&=-67108864,N.updateExtended()}charAttributes(N){if(N.length===1&&N.params[0]===0)return this._processSGR0(this._curAttrData),!0;const B=N.length;let P;const V=this._curAttrData;for(let G=0;G<B;G++)P=N.params[G],P>=30&&P<=37?(V.fg&=-50331904,V.fg|=16777216|P-30):P>=40&&P<=47?(V.bg&=-50331904,V.bg|=16777216|P-40):P>=90&&P<=97?(V.fg&=-50331904,V.fg|=16777224|P-90):P>=100&&P<=107?(V.bg&=-50331904,V.bg|=16777224|P-100):P===0?this._processSGR0(V):P===1?V.fg|=134217728:P===3?V.bg|=67108864:P===4?(V.fg|=268435456,this._processUnderline(N.hasSubParams(G)?N.getSubParams(G)[0]:1,V)):P===5?V.fg|=536870912:P===7?V.fg|=67108864:P===8?V.fg|=1073741824:P===9?V.fg|=2147483648:P===2?V.bg|=134217728:P===21?this._processUnderline(2,V):P===22?(V.fg&=-134217729,V.bg&=-134217729):P===23?V.bg&=-67108865:P===24?(V.fg&=-268435457,this._processUnderline(0,V)):P===25?V.fg&=-536870913:P===27?V.fg&=-67108865:P===28?V.fg&=-1073741825:P===29?V.fg&=2147483647:P===39?(V.fg&=-67108864,V.fg|=16777215&l.DEFAULT_ATTR_DATA.fg):P===49?(V.bg&=-67108864,V.bg|=16777215&l.DEFAULT_ATTR_DATA.bg):P===38||P===48||P===58?G+=this._extractColor(N,G,V):P===53?V.bg|=1073741824:P===55?V.bg&=-1073741825:P===59?(V.extended=V.extended.clone(),V.extended.underlineColor=-1,V.updateExtended()):P===100?(V.fg&=-67108864,V.fg|=16777215&l.DEFAULT_ATTR_DATA.fg,V.bg&=-67108864,V.bg|=16777215&l.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",P);return!0}deviceStatus(N){switch(N.params[0]){case 5:this._coreService.triggerDataEvent(`${i.C0.ESC}[0n`);break;case 6:const B=this._activeBuffer.y+1,P=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${i.C0.ESC}[${B};${P}R`)}return!0}deviceStatusPrivate(N){if(N.params[0]===6){const B=this._activeBuffer.y+1,P=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${i.C0.ESC}[?${B};${P}R`)}return!0}softReset(N){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=l.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(N){const B=N.params[0]||1;switch(B){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const P=B%2==1;return this._optionsService.options.cursorBlink=P,!0}setScrollRegion(N){const B=N.params[0]||1;let P;return(N.length<2||(P=N.params[1])>this._bufferService.rows||P===0)&&(P=this._bufferService.rows),P>B&&(this._activeBuffer.scrollTop=B-1,this._activeBuffer.scrollBottom=P-1,this._setCursor(0,0)),!0}windowOptions(N){if(!k(N.params[0],this._optionsService.rawOptions.windowOptions))return!0;const B=N.length>1?N.params[1]:0;switch(N.params[0]){case 14:B!==2&&this._onRequestWindowsOptionsReport.fire(E.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(E.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${i.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:B!==0&&B!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),B!==0&&B!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:B!==0&&B!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),B!==0&&B!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(N){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(N){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(N){return this._windowTitle=N,this._onTitleChange.fire(N),!0}setIconName(N){return this._iconName=N,!0}setOrReportIndexedColor(N){const B=[],P=N.split(";");for(;P.length>1;){const V=P.shift(),G=P.shift();if(/^\d+$/.exec(V)){const Y=parseInt(V);if(z(Y))if(G==="?")B.push({type:0,index:Y});else{const q=(0,w.parseColor)(G);q&&B.push({type:1,index:Y,color:q})}}}return B.length&&this._onColor.fire(B),!0}setHyperlink(N){const B=N.split(";");return!(B.length<2)&&(B[1]?this._createHyperlink(B[0],B[1]):!B[0]&&this._finishHyperlink())}_createHyperlink(N,B){this._getCurrentLinkId()&&this._finishHyperlink();const P=N.split(":");let V;const G=P.findIndex(Y=>Y.startsWith("id="));return G!==-1&&(V=P[G].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:V,uri:B}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(N,B){const P=N.split(";");for(let V=0;V<P.length&&!(B>=this._specialColors.length);++V,++B)if(P[V]==="?")this._onColor.fire([{type:0,index:this._specialColors[B]}]);else{const G=(0,w.parseColor)(P[V]);G&&this._onColor.fire([{type:1,index:this._specialColors[B],color:G}])}return!0}setOrReportFgColor(N){return this._setOrReportSpecialColor(N,0)}setOrReportBgColor(N){return this._setOrReportSpecialColor(N,1)}setOrReportCursorColor(N){return this._setOrReportSpecialColor(N,2)}restoreIndexedColor(N){if(!N)return this._onColor.fire([{type:2}]),!0;const B=[],P=N.split(";");for(let V=0;V<P.length;++V)if(/^\d+$/.exec(P[V])){const G=parseInt(P[V]);z(G)&&B.push({type:2,index:G})}return B.length&&this._onColor.fire(B),!0}restoreFgColor(N){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(N){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(N){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,r.DEFAULT_CHARSET),!0}selectCharset(N){return N.length!==2?(this.selectDefaultCharset(),!0):(N[0]==="/"||this._charsetService.setgCharset(R[N[0]],r.CHARSETS[N[1]]||r.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const N=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,N,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=l.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=l.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(N){return this._charsetService.setgLevel(N),!0}screenAlignmentPattern(){const N=new g.CellData;N.content=4194373,N.fg=this._curAttrData.fg,N.bg=this._curAttrData.bg,this._setCursor(0,0);for(let B=0;B<this._bufferService.rows;++B){const P=this._activeBuffer.ybase+this._activeBuffer.y+B,V=this._activeBuffer.lines.get(P);V&&(V.fill(N),V.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(N,B){const P=this._bufferService.buffer,V=this._optionsService.rawOptions;return(G=>(this._coreService.triggerDataEvent(`${i.C0.ESC}${G}${i.C0.ESC}\\`),!0))(N==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:N==='"p'?'P1$r61;1"p':N==="r"?`P1$r${P.scrollTop+1};${P.scrollBottom+1}r`:N==="m"?"P1$r0m":N===" q"?`P1$r${{block:2,underline:4,bar:6}[V.cursorStyle]-(V.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(N,B){this._dirtyRowTracker.markRangeDirty(N,B)}}v.InputHandler=C;let $=class{constructor(F){this._bufferService=F,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(F){F<this.start?this.start=F:F>this.end&&(this.end=F)}markRangeDirty(F,N){F>N&&(A=F,F=N,N=A),F<this.start&&(this.start=F),N>this.end&&(this.end=N)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function z(F){return 0<=F&&F<256}$=d([s(0,_.IBufferService)],$)},844:(x,v)=>{function h(d){for(const s of d)s.dispose();d.length=0}Object.defineProperty(v,"__esModule",{value:!0}),v.getDisposeArrayDisposable=v.disposeArray=v.toDisposable=v.MutableDisposable=v.Disposable=void 0,v.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const d of this._disposables)d.dispose();this._disposables.length=0}register(d){return this._disposables.push(d),d}unregister(d){const s=this._disposables.indexOf(d);s!==-1&&this._disposables.splice(s,1)}},v.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(d){var s;this._isDisposed||d===this._value||((s=this._value)==null||s.dispose(),this._value=d)}clear(){this.value=void 0}dispose(){var d;this._isDisposed=!0,(d=this._value)==null||d.dispose(),this._value=void 0}},v.toDisposable=function(d){return{dispose:d}},v.disposeArray=h,v.getDisposeArrayDisposable=function(d){return{dispose:()=>h(d)}}},1505:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.FourKeyMap=v.TwoKeyMap=void 0;class h{constructor(){this._data={}}set(s,i,r){this._data[s]||(this._data[s]={}),this._data[s][i]=r}get(s,i){return this._data[s]?this._data[s][i]:void 0}clear(){this._data={}}}v.TwoKeyMap=h,v.FourKeyMap=class{constructor(){this._data=new h}set(d,s,i,r,n){this._data.get(d,s)||this._data.set(d,s,new h),this._data.get(d,s).set(i,r,n)}get(d,s,i,r){var n;return(n=this._data.get(d,s))==null?void 0:n.get(i,r)}clear(){this._data.clear()}}},6114:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.isChromeOS=v.isLinux=v.isWindows=v.isIphone=v.isIpad=v.isMac=v.getSafariVersion=v.isSafari=v.isLegacyEdge=v.isFirefox=v.isNode=void 0,v.isNode=typeof process<"u"&&"title"in process;const h=v.isNode?"node":navigator.userAgent,d=v.isNode?"node":navigator.platform;v.isFirefox=h.includes("Firefox"),v.isLegacyEdge=h.includes("Edge"),v.isSafari=/^((?!chrome|android).)*safari/i.test(h),v.getSafariVersion=function(){if(!v.isSafari)return 0;const s=h.match(/Version\/(\d+)/);return s===null||s.length<2?0:parseInt(s[1])},v.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(d),v.isIpad=d==="iPad",v.isIphone=d==="iPhone",v.isWindows=["Windows","Win16","Win32","WinCE"].includes(d),v.isLinux=d.indexOf("Linux")>=0,v.isChromeOS=/\bCrOS\b/.test(h)},6106:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.SortedList=void 0;let h=0;v.SortedList=class{constructor(d){this._getKey=d,this._array=[]}clear(){this._array.length=0}insert(d){this._array.length!==0?(h=this._search(this._getKey(d)),this._array.splice(h,0,d)):this._array.push(d)}delete(d){if(this._array.length===0)return!1;const s=this._getKey(d);if(s===void 0||(h=this._search(s),h===-1)||this._getKey(this._array[h])!==s)return!1;do if(this._array[h]===d)return this._array.splice(h,1),!0;while(++h<this._array.length&&this._getKey(this._array[h])===s);return!1}*getKeyIterator(d){if(this._array.length!==0&&(h=this._search(d),!(h<0||h>=this._array.length)&&this._getKey(this._array[h])===d))do yield this._array[h];while(++h<this._array.length&&this._getKey(this._array[h])===d)}forEachByKey(d,s){if(this._array.length!==0&&(h=this._search(d),!(h<0||h>=this._array.length)&&this._getKey(this._array[h])===d))do s(this._array[h]);while(++h<this._array.length&&this._getKey(this._array[h])===d)}values(){return[...this._array].values()}_search(d){let s=0,i=this._array.length-1;for(;i>=s;){let r=s+i>>1;const n=this._getKey(this._array[r]);if(n>d)i=r-1;else{if(!(n<d)){for(;r>0&&this._getKey(this._array[r-1])===d;)r--;return r}s=r+1}}return s}}},7226:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.DebouncedIdleTask=v.IdleTaskQueue=v.PriorityTaskQueue=void 0;const d=h(6114);class s{constructor(){this._tasks=[],this._i=0}enqueue(n){this._tasks.push(n),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(n){this._idleCallback=void 0;let o=0,a=0,l=n.timeRemaining(),f=0;for(;this._i<this._tasks.length;){if(o=Date.now(),this._tasks[this._i]()||this._i++,o=Math.max(1,Date.now()-o),a=Math.max(o,a),f=n.timeRemaining(),1.5*a>f)return l-o<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(l-o))}ms`),void this._start();l=f}this.clear()}}class i extends s{_requestCallback(n){return setTimeout(()=>n(this._createDeadline(16)))}_cancelCallback(n){clearTimeout(n)}_createDeadline(n){const o=Date.now()+n;return{timeRemaining:()=>Math.max(0,o-Date.now())}}}v.PriorityTaskQueue=i,v.IdleTaskQueue=!d.isNode&&"requestIdleCallback"in window?class extends s{_requestCallback(r){return requestIdleCallback(r)}_cancelCallback(r){cancelIdleCallback(r)}}:i,v.DebouncedIdleTask=class{constructor(){this._queue=new v.IdleTaskQueue}set(r){this._queue.clear(),this._queue.enqueue(r)}flush(){this._queue.flush()}}},9282:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.updateWindowsModeWrappedState=void 0;const d=h(643);v.updateWindowsModeWrappedState=function(s){const i=s.buffer.lines.get(s.buffer.ybase+s.buffer.y-1),r=i==null?void 0:i.get(s.cols-1),n=s.buffer.lines.get(s.buffer.ybase+s.buffer.y);n&&r&&(n.isWrapped=r[d.CHAR_DATA_CODE_INDEX]!==d.NULL_CELL_CODE&&r[d.CHAR_DATA_CODE_INDEX]!==d.WHITESPACE_CELL_CODE)}},3734:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ExtendedAttrs=v.AttributeData=void 0;class h{constructor(){this.fg=0,this.bg=0,this.extended=new d}static toColorRGB(i){return[i>>>16&255,i>>>8&255,255&i]}static fromColorRGB(i){return(255&i[0])<<16|(255&i[1])<<8|255&i[2]}clone(){const i=new h;return i.fg=this.fg,i.bg=this.bg,i.extended=this.extended.clone(),i}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}v.AttributeData=h;class d{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(i){this._ext=i}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(i){this._ext&=-469762049,this._ext|=i<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(i){this._ext&=-67108864,this._ext|=67108863&i}get urlId(){return this._urlId}set urlId(i){this._urlId=i}get underlineVariantOffset(){const i=(3758096384&this._ext)>>29;return i<0?4294967288^i:i}set underlineVariantOffset(i){this._ext&=536870911,this._ext|=i<<29&3758096384}constructor(i=0,r=0){this._ext=0,this._urlId=0,this._ext=i,this._urlId=r}clone(){return new d(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}v.ExtendedAttrs=d},9092:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Buffer=v.MAX_BUFFER_SIZE=void 0;const d=h(6349),s=h(7226),i=h(3734),r=h(8437),n=h(4634),o=h(511),a=h(643),l=h(4863),f=h(7116);v.MAX_BUFFER_SIZE=4294967295,v.Buffer=class{constructor(u,g,y){this._hasScrollback=u,this._optionsService=g,this._bufferService=y,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=r.DEFAULT_ATTR_DATA.clone(),this.savedCharset=f.DEFAULT_CHARSET,this.markers=[],this._nullCell=o.CellData.fromCharData([0,a.NULL_CELL_CHAR,a.NULL_CELL_WIDTH,a.NULL_CELL_CODE]),this._whitespaceCell=o.CellData.fromCharData([0,a.WHITESPACE_CELL_CHAR,a.WHITESPACE_CELL_WIDTH,a.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new s.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new d.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(u){return u?(this._nullCell.fg=u.fg,this._nullCell.bg=u.bg,this._nullCell.extended=u.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new i.ExtendedAttrs),this._nullCell}getWhitespaceCell(u){return u?(this._whitespaceCell.fg=u.fg,this._whitespaceCell.bg=u.bg,this._whitespaceCell.extended=u.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new i.ExtendedAttrs),this._whitespaceCell}getBlankLine(u,g){return new r.BufferLine(this._bufferService.cols,this.getNullCell(u),g)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const u=this.ybase+this.y-this.ydisp;return u>=0&&u<this._rows}_getCorrectBufferLength(u){if(!this._hasScrollback)return u;const g=u+this._optionsService.rawOptions.scrollback;return g>v.MAX_BUFFER_SIZE?v.MAX_BUFFER_SIZE:g}fillViewportRows(u){if(this.lines.length===0){u===void 0&&(u=r.DEFAULT_ATTR_DATA);let g=this._rows;for(;g--;)this.lines.push(this.getBlankLine(u))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new d.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(u,g){const y=this.getNullCell(r.DEFAULT_ATTR_DATA);let _=0;const p=this._getCorrectBufferLength(g);if(p>this.lines.maxLength&&(this.lines.maxLength=p),this.lines.length>0){if(this._cols<u)for(let b=0;b<this.lines.length;b++)_+=+this.lines.get(b).resize(u,y);let S=0;if(this._rows<g)for(let b=this._rows;b<g;b++)this.lines.length<g+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new r.BufferLine(u,y)):this.ybase>0&&this.lines.length<=this.ybase+this.y+S+1?(this.ybase--,S++,this.ydisp>0&&this.ydisp--):this.lines.push(new r.BufferLine(u,y)));else for(let b=this._rows;b>g;b--)this.lines.length>g+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(p<this.lines.maxLength){const b=this.lines.length-p;b>0&&(this.lines.trimStart(b),this.ybase=Math.max(this.ybase-b,0),this.ydisp=Math.max(this.ydisp-b,0),this.savedY=Math.max(this.savedY-b,0)),this.lines.maxLength=p}this.x=Math.min(this.x,u-1),this.y=Math.min(this.y,g-1),S&&(this.y+=S),this.savedX=Math.min(this.savedX,u-1),this.scrollTop=0}if(this.scrollBottom=g-1,this._isReflowEnabled&&(this._reflow(u,g),this._cols>u))for(let S=0;S<this.lines.length;S++)_+=+this.lines.get(S).resize(u,y);this._cols=u,this._rows=g,this._memoryCleanupQueue.clear(),_>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let u=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,u=!1);let g=0;for(;this._memoryCleanupPosition<this.lines.length;)if(g+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),g>100)return!0;return u}get _isReflowEnabled(){const u=this._optionsService.rawOptions.windowsPty;return u&&u.buildNumber?this._hasScrollback&&u.backend==="conpty"&&u.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(u,g){this._cols!==u&&(u>this._cols?this._reflowLarger(u,g):this._reflowSmaller(u,g))}_reflowLarger(u,g){const y=(0,n.reflowLargerGetLinesToRemove)(this.lines,this._cols,u,this.ybase+this.y,this.getNullCell(r.DEFAULT_ATTR_DATA));if(y.length>0){const _=(0,n.reflowLargerCreateNewLayout)(this.lines,y);(0,n.reflowLargerApplyNewLayout)(this.lines,_.layout),this._reflowLargerAdjustViewport(u,g,_.countRemoved)}}_reflowLargerAdjustViewport(u,g,y){const _=this.getNullCell(r.DEFAULT_ATTR_DATA);let p=y;for(;p-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<g&&this.lines.push(new r.BufferLine(u,_))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-y,0)}_reflowSmaller(u,g){const y=this.getNullCell(r.DEFAULT_ATTR_DATA),_=[];let p=0;for(let S=this.lines.length-1;S>=0;S--){let b=this.lines.get(S);if(!b||!b.isWrapped&&b.getTrimmedLength()<=u)continue;const w=[b];for(;b.isWrapped&&S>0;)b=this.lines.get(--S),w.unshift(b);const R=this.ybase+this.y;if(R>=S&&R<S+w.length)continue;const H=w[w.length-1].getTrimmedLength(),k=(0,n.reflowSmallerGetNewLineLengths)(w,this._cols,u),E=k.length-w.length;let A;A=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+E):Math.max(0,this.lines.length-this.lines.maxLength+E);const C=[];for(let P=0;P<E;P++){const V=this.getBlankLine(r.DEFAULT_ATTR_DATA,!0);C.push(V)}C.length>0&&(_.push({start:S+w.length+p,newLines:C}),p+=C.length),w.push(...C);let $=k.length-1,z=k[$];z===0&&($--,z=k[$]);let F=w.length-E-1,N=H;for(;F>=0;){const P=Math.min(N,z);if(w[$]===void 0)break;if(w[$].copyCellsFrom(w[F],N-P,z-P,P,!0),z-=P,z===0&&($--,z=k[$]),N-=P,N===0){F--;const V=Math.max(F,0);N=(0,n.getWrappedLineTrimmedLength)(w,V,this._cols)}}for(let P=0;P<w.length;P++)k[P]<u&&w[P].setCell(k[P],y);let B=E-A;for(;B-- >0;)this.ybase===0?this.y<g-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+p)-g&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+E,this.ybase+g-1)}if(_.length>0){const S=[],b=[];for(let $=0;$<this.lines.length;$++)b.push(this.lines.get($));const w=this.lines.length;let R=w-1,H=0,k=_[H];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+p);let E=0;for(let $=Math.min(this.lines.maxLength-1,w+p-1);$>=0;$--)if(k&&k.start>R+E){for(let z=k.newLines.length-1;z>=0;z--)this.lines.set($--,k.newLines[z]);$++,S.push({index:R+1,amount:k.newLines.length}),E+=k.newLines.length,k=_[++H]}else this.lines.set($,b[R--]);let A=0;for(let $=S.length-1;$>=0;$--)S[$].index+=A,this.lines.onInsertEmitter.fire(S[$]),A+=S[$].amount;const C=Math.max(0,w+p-this.lines.maxLength);C>0&&this.lines.onTrimEmitter.fire(C)}}translateBufferLineToString(u,g,y=0,_){const p=this.lines.get(u);return p?p.translateToString(g,y,_):""}getWrappedRangeForLine(u){let g=u,y=u;for(;g>0&&this.lines.get(g).isWrapped;)g--;for(;y+1<this.lines.length&&this.lines.get(y+1).isWrapped;)y++;return{first:g,last:y}}setupTabStops(u){for(u!=null?this.tabs[u]||(u=this.prevStop(u)):(this.tabs={},u=0);u<this._cols;u+=this._optionsService.rawOptions.tabStopWidth)this.tabs[u]=!0}prevStop(u){for(u==null&&(u=this.x);!this.tabs[--u]&&u>0;);return u>=this._cols?this._cols-1:u<0?0:u}nextStop(u){for(u==null&&(u=this.x);!this.tabs[++u]&&u<this._cols;);return u>=this._cols?this._cols-1:u<0?0:u}clearMarkers(u){this._isClearing=!0;for(let g=0;g<this.markers.length;g++)this.markers[g].line===u&&(this.markers[g].dispose(),this.markers.splice(g--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let u=0;u<this.markers.length;u++)this.markers[u].dispose(),this.markers.splice(u--,1);this._isClearing=!1}addMarker(u){const g=new l.Marker(u);return this.markers.push(g),g.register(this.lines.onTrim(y=>{g.line-=y,g.line<0&&g.dispose()})),g.register(this.lines.onInsert(y=>{g.line>=y.index&&(g.line+=y.amount)})),g.register(this.lines.onDelete(y=>{g.line>=y.index&&g.line<y.index+y.amount&&g.dispose(),g.line>y.index&&(g.line-=y.amount)})),g.register(g.onDispose(()=>this._removeMarker(g))),g}_removeMarker(u){this._isClearing||this.markers.splice(this.markers.indexOf(u),1)}}},8437:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.BufferLine=v.DEFAULT_ATTR_DATA=void 0;const d=h(3734),s=h(511),i=h(643),r=h(482);v.DEFAULT_ATTR_DATA=Object.freeze(new d.AttributeData);let n=0;class o{constructor(l,f,u=!1){this.isWrapped=u,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*l);const g=f||s.CellData.fromCharData([0,i.NULL_CELL_CHAR,i.NULL_CELL_WIDTH,i.NULL_CELL_CODE]);for(let y=0;y<l;++y)this.setCell(y,g);this.length=l}get(l){const f=this._data[3*l+0],u=2097151&f;return[this._data[3*l+1],2097152&f?this._combined[l]:u?(0,r.stringFromCodePoint)(u):"",f>>22,2097152&f?this._combined[l].charCodeAt(this._combined[l].length-1):u]}set(l,f){this._data[3*l+1]=f[i.CHAR_DATA_ATTR_INDEX],f[i.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[l]=f[1],this._data[3*l+0]=2097152|l|f[i.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*l+0]=f[i.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|f[i.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(l){return this._data[3*l+0]>>22}hasWidth(l){return 12582912&this._data[3*l+0]}getFg(l){return this._data[3*l+1]}getBg(l){return this._data[3*l+2]}hasContent(l){return 4194303&this._data[3*l+0]}getCodePoint(l){const f=this._data[3*l+0];return 2097152&f?this._combined[l].charCodeAt(this._combined[l].length-1):2097151&f}isCombined(l){return 2097152&this._data[3*l+0]}getString(l){const f=this._data[3*l+0];return 2097152&f?this._combined[l]:2097151&f?(0,r.stringFromCodePoint)(2097151&f):""}isProtected(l){return 536870912&this._data[3*l+2]}loadCell(l,f){return n=3*l,f.content=this._data[n+0],f.fg=this._data[n+1],f.bg=this._data[n+2],2097152&f.content&&(f.combinedData=this._combined[l]),268435456&f.bg&&(f.extended=this._extendedAttrs[l]),f}setCell(l,f){2097152&f.content&&(this._combined[l]=f.combinedData),268435456&f.bg&&(this._extendedAttrs[l]=f.extended),this._data[3*l+0]=f.content,this._data[3*l+1]=f.fg,this._data[3*l+2]=f.bg}setCellFromCodepoint(l,f,u,g){268435456&g.bg&&(this._extendedAttrs[l]=g.extended),this._data[3*l+0]=f|u<<22,this._data[3*l+1]=g.fg,this._data[3*l+2]=g.bg}addCodepointToCell(l,f,u){let g=this._data[3*l+0];2097152&g?this._combined[l]+=(0,r.stringFromCodePoint)(f):2097151&g?(this._combined[l]=(0,r.stringFromCodePoint)(2097151&g)+(0,r.stringFromCodePoint)(f),g&=-2097152,g|=2097152):g=f|4194304,u&&(g&=-12582913,g|=u<<22),this._data[3*l+0]=g}insertCells(l,f,u){if((l%=this.length)&&this.getWidth(l-1)===2&&this.setCellFromCodepoint(l-1,0,1,u),f<this.length-l){const g=new s.CellData;for(let y=this.length-l-f-1;y>=0;--y)this.setCell(l+f+y,this.loadCell(l+y,g));for(let y=0;y<f;++y)this.setCell(l+y,u)}else for(let g=l;g<this.length;++g)this.setCell(g,u);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,u)}deleteCells(l,f,u){if(l%=this.length,f<this.length-l){const g=new s.CellData;for(let y=0;y<this.length-l-f;++y)this.setCell(l+y,this.loadCell(l+f+y,g));for(let y=this.length-f;y<this.length;++y)this.setCell(y,u)}else for(let g=l;g<this.length;++g)this.setCell(g,u);l&&this.getWidth(l-1)===2&&this.setCellFromCodepoint(l-1,0,1,u),this.getWidth(l)!==0||this.hasContent(l)||this.setCellFromCodepoint(l,0,1,u)}replaceCells(l,f,u,g=!1){if(g)for(l&&this.getWidth(l-1)===2&&!this.isProtected(l-1)&&this.setCellFromCodepoint(l-1,0,1,u),f<this.length&&this.getWidth(f-1)===2&&!this.isProtected(f)&&this.setCellFromCodepoint(f,0,1,u);l<f&&l<this.length;)this.isProtected(l)||this.setCell(l,u),l++;else for(l&&this.getWidth(l-1)===2&&this.setCellFromCodepoint(l-1,0,1,u),f<this.length&&this.getWidth(f-1)===2&&this.setCellFromCodepoint(f,0,1,u);l<f&&l<this.length;)this.setCell(l++,u)}resize(l,f){if(l===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const u=3*l;if(l>this.length){if(this._data.buffer.byteLength>=4*u)this._data=new Uint32Array(this._data.buffer,0,u);else{const g=new Uint32Array(u);g.set(this._data),this._data=g}for(let g=this.length;g<l;++g)this.setCell(g,f)}else{this._data=this._data.subarray(0,u);const g=Object.keys(this._combined);for(let _=0;_<g.length;_++){const p=parseInt(g[_],10);p>=l&&delete this._combined[p]}const y=Object.keys(this._extendedAttrs);for(let _=0;_<y.length;_++){const p=parseInt(y[_],10);p>=l&&delete this._extendedAttrs[p]}}return this.length=l,4*u*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const l=new Uint32Array(this._data.length);return l.set(this._data),this._data=l,1}return 0}fill(l,f=!1){if(f)for(let u=0;u<this.length;++u)this.isProtected(u)||this.setCell(u,l);else{this._combined={},this._extendedAttrs={};for(let u=0;u<this.length;++u)this.setCell(u,l)}}copyFrom(l){this.length!==l.length?this._data=new Uint32Array(l._data):this._data.set(l._data),this.length=l.length,this._combined={};for(const f in l._combined)this._combined[f]=l._combined[f];this._extendedAttrs={};for(const f in l._extendedAttrs)this._extendedAttrs[f]=l._extendedAttrs[f];this.isWrapped=l.isWrapped}clone(){const l=new o(0);l._data=new Uint32Array(this._data),l.length=this.length;for(const f in this._combined)l._combined[f]=this._combined[f];for(const f in this._extendedAttrs)l._extendedAttrs[f]=this._extendedAttrs[f];return l.isWrapped=this.isWrapped,l}getTrimmedLength(){for(let l=this.length-1;l>=0;--l)if(4194303&this._data[3*l+0])return l+(this._data[3*l+0]>>22);return 0}getNoBgTrimmedLength(){for(let l=this.length-1;l>=0;--l)if(4194303&this._data[3*l+0]||50331648&this._data[3*l+2])return l+(this._data[3*l+0]>>22);return 0}copyCellsFrom(l,f,u,g,y){const _=l._data;if(y)for(let S=g-1;S>=0;S--){for(let b=0;b<3;b++)this._data[3*(u+S)+b]=_[3*(f+S)+b];268435456&_[3*(f+S)+2]&&(this._extendedAttrs[u+S]=l._extendedAttrs[f+S])}else for(let S=0;S<g;S++){for(let b=0;b<3;b++)this._data[3*(u+S)+b]=_[3*(f+S)+b];268435456&_[3*(f+S)+2]&&(this._extendedAttrs[u+S]=l._extendedAttrs[f+S])}const p=Object.keys(l._combined);for(let S=0;S<p.length;S++){const b=parseInt(p[S],10);b>=f&&(this._combined[b-f+u]=l._combined[b])}}translateToString(l,f,u,g){f=f??0,u=u??this.length,l&&(u=Math.min(u,this.getTrimmedLength())),g&&(g.length=0);let y="";for(;f<u;){const _=this._data[3*f+0],p=2097151&_,S=2097152&_?this._combined[f]:p?(0,r.stringFromCodePoint)(p):i.WHITESPACE_CELL_CHAR;if(y+=S,g)for(let b=0;b<S.length;++b)g.push(f);f+=_>>22||1}return g&&g.push(f),y}}v.BufferLine=o},4841:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.getRangeLength=void 0,v.getRangeLength=function(h,d){if(h.start.y>h.end.y)throw new Error(`Buffer range end (${h.end.x}, ${h.end.y}) cannot be before start (${h.start.x}, ${h.start.y})`);return d*(h.end.y-h.start.y)+(h.end.x-h.start.x+1)}},4634:(x,v)=>{function h(d,s,i){if(s===d.length-1)return d[s].getTrimmedLength();const r=!d[s].hasContent(i-1)&&d[s].getWidth(i-1)===1,n=d[s+1].getWidth(0)===2;return r&&n?i-1:i}Object.defineProperty(v,"__esModule",{value:!0}),v.getWrappedLineTrimmedLength=v.reflowSmallerGetNewLineLengths=v.reflowLargerApplyNewLayout=v.reflowLargerCreateNewLayout=v.reflowLargerGetLinesToRemove=void 0,v.reflowLargerGetLinesToRemove=function(d,s,i,r,n){const o=[];for(let a=0;a<d.length-1;a++){let l=a,f=d.get(++l);if(!f.isWrapped)continue;const u=[d.get(a)];for(;l<d.length&&f.isWrapped;)u.push(f),f=d.get(++l);if(r>=a&&r<l){a+=u.length-1;continue}let g=0,y=h(u,g,s),_=1,p=0;for(;_<u.length;){const b=h(u,_,s),w=b-p,R=i-y,H=Math.min(w,R);u[g].copyCellsFrom(u[_],p,y,H,!1),y+=H,y===i&&(g++,y=0),p+=H,p===b&&(_++,p=0),y===0&&g!==0&&u[g-1].getWidth(i-1)===2&&(u[g].copyCellsFrom(u[g-1],i-1,y++,1,!1),u[g-1].setCell(i-1,n))}u[g].replaceCells(y,i,n);let S=0;for(let b=u.length-1;b>0&&(b>g||u[b].getTrimmedLength()===0);b--)S++;S>0&&(o.push(a+u.length-S),o.push(S)),a+=u.length-1}return o},v.reflowLargerCreateNewLayout=function(d,s){const i=[];let r=0,n=s[r],o=0;for(let a=0;a<d.length;a++)if(n===a){const l=s[++r];d.onDeleteEmitter.fire({index:a-o,amount:l}),a+=l-1,o+=l,n=s[++r]}else i.push(a);return{layout:i,countRemoved:o}},v.reflowLargerApplyNewLayout=function(d,s){const i=[];for(let r=0;r<s.length;r++)i.push(d.get(s[r]));for(let r=0;r<i.length;r++)d.set(r,i[r]);d.length=s.length},v.reflowSmallerGetNewLineLengths=function(d,s,i){const r=[],n=d.map((f,u)=>h(d,u,s)).reduce((f,u)=>f+u);let o=0,a=0,l=0;for(;l<n;){if(n-l<i){r.push(n-l);break}o+=i;const f=h(d,a,s);o>f&&(o-=f,a++);const u=d[a].getWidth(o-1)===2;u&&o--;const g=u?i-1:i;r.push(g),l+=g}return r},v.getWrappedLineTrimmedLength=h},5295:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.BufferSet=void 0;const d=h(8460),s=h(844),i=h(9092);class r extends s.Disposable{constructor(o,a){super(),this._optionsService=o,this._bufferService=a,this._onBufferActivate=this.register(new d.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new i.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new i.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(o){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(o),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(o,a){this._normal.resize(o,a),this._alt.resize(o,a),this.setupTabStops(o)}setupTabStops(o){this._normal.setupTabStops(o),this._alt.setupTabStops(o)}}v.BufferSet=r},511:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.CellData=void 0;const d=h(482),s=h(643),i=h(3734);class r extends i.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new i.ExtendedAttrs,this.combinedData=""}static fromCharData(o){const a=new r;return a.setFromCharData(o),a}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,d.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(o){this.fg=o[s.CHAR_DATA_ATTR_INDEX],this.bg=0;let a=!1;if(o[s.CHAR_DATA_CHAR_INDEX].length>2)a=!0;else if(o[s.CHAR_DATA_CHAR_INDEX].length===2){const l=o[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=l&&l<=56319){const f=o[s.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=f&&f<=57343?this.content=1024*(l-55296)+f-56320+65536|o[s.CHAR_DATA_WIDTH_INDEX]<<22:a=!0}else a=!0}else this.content=o[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|o[s.CHAR_DATA_WIDTH_INDEX]<<22;a&&(this.combinedData=o[s.CHAR_DATA_CHAR_INDEX],this.content=2097152|o[s.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}v.CellData=r},643:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.WHITESPACE_CELL_CODE=v.WHITESPACE_CELL_WIDTH=v.WHITESPACE_CELL_CHAR=v.NULL_CELL_CODE=v.NULL_CELL_WIDTH=v.NULL_CELL_CHAR=v.CHAR_DATA_CODE_INDEX=v.CHAR_DATA_WIDTH_INDEX=v.CHAR_DATA_CHAR_INDEX=v.CHAR_DATA_ATTR_INDEX=v.DEFAULT_EXT=v.DEFAULT_ATTR=v.DEFAULT_COLOR=void 0,v.DEFAULT_COLOR=0,v.DEFAULT_ATTR=256|v.DEFAULT_COLOR<<9,v.DEFAULT_EXT=0,v.CHAR_DATA_ATTR_INDEX=0,v.CHAR_DATA_CHAR_INDEX=1,v.CHAR_DATA_WIDTH_INDEX=2,v.CHAR_DATA_CODE_INDEX=3,v.NULL_CELL_CHAR="",v.NULL_CELL_WIDTH=1,v.NULL_CELL_CODE=0,v.WHITESPACE_CELL_CHAR=" ",v.WHITESPACE_CELL_WIDTH=1,v.WHITESPACE_CELL_CODE=32},4863:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Marker=void 0;const d=h(8460),s=h(844);class i{get id(){return this._id}constructor(n){this.line=n,this.isDisposed=!1,this._disposables=[],this._id=i._nextId++,this._onDispose=this.register(new d.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,s.disposeArray)(this._disposables),this._disposables.length=0)}register(n){return this._disposables.push(n),n}}v.Marker=i,i._nextId=1},7116:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.DEFAULT_CHARSET=v.CHARSETS=void 0,v.CHARSETS={},v.DEFAULT_CHARSET=v.CHARSETS.B,v.CHARSETS[0]={"`":"◆",a:"▒",b:"␉",c:"␌",d:"␍",e:"␊",f:"°",g:"±",h:"␤",i:"␋",j:"┘",k:"┐",l:"┌",m:"└",n:"┼",o:"⎺",p:"⎻",q:"─",r:"⎼",s:"⎽",t:"├",u:"┤",v:"┴",w:"┬",x:"│",y:"≤",z:"≥","{":"π","|":"≠","}":"£","~":"·"},v.CHARSETS.A={"#":"£"},v.CHARSETS.B=void 0,v.CHARSETS[4]={"#":"£","@":"¾","[":"ij","\\":"½","]":"|","{":"¨","|":"f","}":"¼","~":"´"},v.CHARSETS.C=v.CHARSETS[5]={"[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},v.CHARSETS.R={"#":"£","@":"à","[":"°","\\":"ç","]":"§","{":"é","|":"ù","}":"è","~":"¨"},v.CHARSETS.Q={"@":"à","[":"â","\\":"ç","]":"ê","^":"î","`":"ô","{":"é","|":"ù","}":"è","~":"û"},v.CHARSETS.K={"@":"§","[":"Ä","\\":"Ö","]":"Ü","{":"ä","|":"ö","}":"ü","~":"ß"},v.CHARSETS.Y={"#":"£","@":"§","[":"°","\\":"ç","]":"é","`":"ù","{":"à","|":"ò","}":"è","~":"ì"},v.CHARSETS.E=v.CHARSETS[6]={"@":"Ä","[":"Æ","\\":"Ø","]":"Å","^":"Ü","`":"ä","{":"æ","|":"ø","}":"å","~":"ü"},v.CHARSETS.Z={"#":"£","@":"§","[":"¡","\\":"Ñ","]":"¿","{":"°","|":"ñ","}":"ç"},v.CHARSETS.H=v.CHARSETS[7]={"@":"É","[":"Ä","\\":"Ö","]":"Å","^":"Ü","`":"é","{":"ä","|":"ö","}":"å","~":"ü"},v.CHARSETS["="]={"#":"ù","@":"à","[":"é","\\":"ç","]":"ê","^":"î",_:"è","`":"ô","{":"ä","|":"ö","}":"ü","~":"û"}},2584:(x,v)=>{var h,d,s;Object.defineProperty(v,"__esModule",{value:!0}),v.C1_ESCAPED=v.C1=v.C0=void 0,function(i){i.NUL="\0",i.SOH="",i.STX="",i.ETX="",i.EOT="",i.ENQ="",i.ACK="",i.BEL="\x07",i.BS="\b",i.HT="	",i.LF=`
`,i.VT="\v",i.FF="\f",i.CR="\r",i.SO="",i.SI="",i.DLE="",i.DC1="",i.DC2="",i.DC3="",i.DC4="",i.NAK="",i.SYN="",i.ETB="",i.CAN="",i.EM="",i.SUB="",i.ESC="\x1B",i.FS="",i.GS="",i.RS="",i.US="",i.SP=" ",i.DEL=""}(h||(v.C0=h={})),function(i){i.PAD="",i.HOP="",i.BPH="",i.NBH="",i.IND="",i.NEL="",i.SSA="",i.ESA="",i.HTS="",i.HTJ="",i.VTS="",i.PLD="",i.PLU="",i.RI="",i.SS2="",i.SS3="",i.DCS="",i.PU1="",i.PU2="",i.STS="",i.CCH="",i.MW="",i.SPA="",i.EPA="",i.SOS="",i.SGCI="",i.SCI="",i.CSI="",i.ST="",i.OSC="",i.PM="",i.APC=""}(d||(v.C1=d={})),function(i){i.ST=`${h.ESC}\\`}(s||(v.C1_ESCAPED=s={}))},7399:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.evaluateKeyboardEvent=void 0;const d=h(2584),s={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};v.evaluateKeyboardEvent=function(i,r,n,o){const a={type:0,cancel:!1,key:void 0},l=(i.shiftKey?1:0)|(i.altKey?2:0)|(i.ctrlKey?4:0)|(i.metaKey?8:0);switch(i.keyCode){case 0:i.key==="UIKeyInputUpArrow"?a.key=r?d.C0.ESC+"OA":d.C0.ESC+"[A":i.key==="UIKeyInputLeftArrow"?a.key=r?d.C0.ESC+"OD":d.C0.ESC+"[D":i.key==="UIKeyInputRightArrow"?a.key=r?d.C0.ESC+"OC":d.C0.ESC+"[C":i.key==="UIKeyInputDownArrow"&&(a.key=r?d.C0.ESC+"OB":d.C0.ESC+"[B");break;case 8:a.key=i.ctrlKey?"\b":d.C0.DEL,i.altKey&&(a.key=d.C0.ESC+a.key);break;case 9:if(i.shiftKey){a.key=d.C0.ESC+"[Z";break}a.key=d.C0.HT,a.cancel=!0;break;case 13:a.key=i.altKey?d.C0.ESC+d.C0.CR:d.C0.CR,a.cancel=!0;break;case 27:a.key=d.C0.ESC,i.altKey&&(a.key=d.C0.ESC+d.C0.ESC),a.cancel=!0;break;case 37:if(i.metaKey)break;l?(a.key=d.C0.ESC+"[1;"+(l+1)+"D",a.key===d.C0.ESC+"[1;3D"&&(a.key=d.C0.ESC+(n?"b":"[1;5D"))):a.key=r?d.C0.ESC+"OD":d.C0.ESC+"[D";break;case 39:if(i.metaKey)break;l?(a.key=d.C0.ESC+"[1;"+(l+1)+"C",a.key===d.C0.ESC+"[1;3C"&&(a.key=d.C0.ESC+(n?"f":"[1;5C"))):a.key=r?d.C0.ESC+"OC":d.C0.ESC+"[C";break;case 38:if(i.metaKey)break;l?(a.key=d.C0.ESC+"[1;"+(l+1)+"A",n||a.key!==d.C0.ESC+"[1;3A"||(a.key=d.C0.ESC+"[1;5A")):a.key=r?d.C0.ESC+"OA":d.C0.ESC+"[A";break;case 40:if(i.metaKey)break;l?(a.key=d.C0.ESC+"[1;"+(l+1)+"B",n||a.key!==d.C0.ESC+"[1;3B"||(a.key=d.C0.ESC+"[1;5B")):a.key=r?d.C0.ESC+"OB":d.C0.ESC+"[B";break;case 45:i.shiftKey||i.ctrlKey||(a.key=d.C0.ESC+"[2~");break;case 46:a.key=l?d.C0.ESC+"[3;"+(l+1)+"~":d.C0.ESC+"[3~";break;case 36:a.key=l?d.C0.ESC+"[1;"+(l+1)+"H":r?d.C0.ESC+"OH":d.C0.ESC+"[H";break;case 35:a.key=l?d.C0.ESC+"[1;"+(l+1)+"F":r?d.C0.ESC+"OF":d.C0.ESC+"[F";break;case 33:i.shiftKey?a.type=2:i.ctrlKey?a.key=d.C0.ESC+"[5;"+(l+1)+"~":a.key=d.C0.ESC+"[5~";break;case 34:i.shiftKey?a.type=3:i.ctrlKey?a.key=d.C0.ESC+"[6;"+(l+1)+"~":a.key=d.C0.ESC+"[6~";break;case 112:a.key=l?d.C0.ESC+"[1;"+(l+1)+"P":d.C0.ESC+"OP";break;case 113:a.key=l?d.C0.ESC+"[1;"+(l+1)+"Q":d.C0.ESC+"OQ";break;case 114:a.key=l?d.C0.ESC+"[1;"+(l+1)+"R":d.C0.ESC+"OR";break;case 115:a.key=l?d.C0.ESC+"[1;"+(l+1)+"S":d.C0.ESC+"OS";break;case 116:a.key=l?d.C0.ESC+"[15;"+(l+1)+"~":d.C0.ESC+"[15~";break;case 117:a.key=l?d.C0.ESC+"[17;"+(l+1)+"~":d.C0.ESC+"[17~";break;case 118:a.key=l?d.C0.ESC+"[18;"+(l+1)+"~":d.C0.ESC+"[18~";break;case 119:a.key=l?d.C0.ESC+"[19;"+(l+1)+"~":d.C0.ESC+"[19~";break;case 120:a.key=l?d.C0.ESC+"[20;"+(l+1)+"~":d.C0.ESC+"[20~";break;case 121:a.key=l?d.C0.ESC+"[21;"+(l+1)+"~":d.C0.ESC+"[21~";break;case 122:a.key=l?d.C0.ESC+"[23;"+(l+1)+"~":d.C0.ESC+"[23~";break;case 123:a.key=l?d.C0.ESC+"[24;"+(l+1)+"~":d.C0.ESC+"[24~";break;default:if(!i.ctrlKey||i.shiftKey||i.altKey||i.metaKey)if(n&&!o||!i.altKey||i.metaKey)!n||i.altKey||i.ctrlKey||i.shiftKey||!i.metaKey?i.key&&!i.ctrlKey&&!i.altKey&&!i.metaKey&&i.keyCode>=48&&i.key.length===1?a.key=i.key:i.key&&i.ctrlKey&&(i.key==="_"&&(a.key=d.C0.US),i.key==="@"&&(a.key=d.C0.NUL)):i.keyCode===65&&(a.type=1);else{const f=s[i.keyCode],u=f==null?void 0:f[i.shiftKey?1:0];if(u)a.key=d.C0.ESC+u;else if(i.keyCode>=65&&i.keyCode<=90){const g=i.ctrlKey?i.keyCode-64:i.keyCode+32;let y=String.fromCharCode(g);i.shiftKey&&(y=y.toUpperCase()),a.key=d.C0.ESC+y}else if(i.keyCode===32)a.key=d.C0.ESC+(i.ctrlKey?d.C0.NUL:" ");else if(i.key==="Dead"&&i.code.startsWith("Key")){let g=i.code.slice(3,4);i.shiftKey||(g=g.toLowerCase()),a.key=d.C0.ESC+g,a.cancel=!0}}else i.keyCode>=65&&i.keyCode<=90?a.key=String.fromCharCode(i.keyCode-64):i.keyCode===32?a.key=d.C0.NUL:i.keyCode>=51&&i.keyCode<=55?a.key=String.fromCharCode(i.keyCode-51+27):i.keyCode===56?a.key=d.C0.DEL:i.keyCode===219?a.key=d.C0.ESC:i.keyCode===220?a.key=d.C0.FS:i.keyCode===221&&(a.key=d.C0.GS)}return a}},482:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Utf8ToUtf32=v.StringToUtf32=v.utf32ToString=v.stringFromCodePoint=void 0,v.stringFromCodePoint=function(h){return h>65535?(h-=65536,String.fromCharCode(55296+(h>>10))+String.fromCharCode(h%1024+56320)):String.fromCharCode(h)},v.utf32ToString=function(h,d=0,s=h.length){let i="";for(let r=d;r<s;++r){let n=h[r];n>65535?(n-=65536,i+=String.fromCharCode(55296+(n>>10))+String.fromCharCode(n%1024+56320)):i+=String.fromCharCode(n)}return i},v.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(h,d){const s=h.length;if(!s)return 0;let i=0,r=0;if(this._interim){const n=h.charCodeAt(r++);56320<=n&&n<=57343?d[i++]=1024*(this._interim-55296)+n-56320+65536:(d[i++]=this._interim,d[i++]=n),this._interim=0}for(let n=r;n<s;++n){const o=h.charCodeAt(n);if(55296<=o&&o<=56319){if(++n>=s)return this._interim=o,i;const a=h.charCodeAt(n);56320<=a&&a<=57343?d[i++]=1024*(o-55296)+a-56320+65536:(d[i++]=o,d[i++]=a)}else o!==65279&&(d[i++]=o)}return i}},v.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(h,d){const s=h.length;if(!s)return 0;let i,r,n,o,a=0,l=0,f=0;if(this.interim[0]){let y=!1,_=this.interim[0];_&=(224&_)==192?31:(240&_)==224?15:7;let p,S=0;for(;(p=63&this.interim[++S])&&S<4;)_<<=6,_|=p;const b=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,w=b-S;for(;f<w;){if(f>=s)return 0;if(p=h[f++],(192&p)!=128){f--,y=!0;break}this.interim[S++]=p,_<<=6,_|=63&p}y||(b===2?_<128?f--:d[a++]=_:b===3?_<2048||_>=55296&&_<=57343||_===65279||(d[a++]=_):_<65536||_>1114111||(d[a++]=_)),this.interim.fill(0)}const u=s-4;let g=f;for(;g<s;){for(;!(!(g<u)||128&(i=h[g])||128&(r=h[g+1])||128&(n=h[g+2])||128&(o=h[g+3]));)d[a++]=i,d[a++]=r,d[a++]=n,d[a++]=o,g+=4;if(i=h[g++],i<128)d[a++]=i;else if((224&i)==192){if(g>=s)return this.interim[0]=i,a;if(r=h[g++],(192&r)!=128){g--;continue}if(l=(31&i)<<6|63&r,l<128){g--;continue}d[a++]=l}else if((240&i)==224){if(g>=s)return this.interim[0]=i,a;if(r=h[g++],(192&r)!=128){g--;continue}if(g>=s)return this.interim[0]=i,this.interim[1]=r,a;if(n=h[g++],(192&n)!=128){g--;continue}if(l=(15&i)<<12|(63&r)<<6|63&n,l<2048||l>=55296&&l<=57343||l===65279)continue;d[a++]=l}else if((248&i)==240){if(g>=s)return this.interim[0]=i,a;if(r=h[g++],(192&r)!=128){g--;continue}if(g>=s)return this.interim[0]=i,this.interim[1]=r,a;if(n=h[g++],(192&n)!=128){g--;continue}if(g>=s)return this.interim[0]=i,this.interim[1]=r,this.interim[2]=n,a;if(o=h[g++],(192&o)!=128){g--;continue}if(l=(7&i)<<18|(63&r)<<12|(63&n)<<6|63&o,l<65536||l>1114111)continue;d[a++]=l}}return a}}},225:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.UnicodeV6=void 0;const d=h(1480),s=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],i=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let r;v.UnicodeV6=class{constructor(){if(this.version="6",!r){r=new Uint8Array(65536),r.fill(1),r[0]=0,r.fill(0,1,32),r.fill(0,127,160),r.fill(2,4352,4448),r[9001]=2,r[9002]=2,r.fill(2,11904,42192),r[12351]=1,r.fill(2,44032,55204),r.fill(2,63744,64256),r.fill(2,65040,65050),r.fill(2,65072,65136),r.fill(2,65280,65377),r.fill(2,65504,65511);for(let n=0;n<s.length;++n)r.fill(0,s[n][0],s[n][1]+1)}}wcwidth(n){return n<32?0:n<127?1:n<65536?r[n]:function(o,a){let l,f=0,u=a.length-1;if(o<a[0][0]||o>a[u][1])return!1;for(;u>=f;)if(l=f+u>>1,o>a[l][1])f=l+1;else{if(!(o<a[l][0]))return!0;u=l-1}return!1}(n,i)?0:n>=131072&&n<=196605||n>=196608&&n<=262141?2:1}charProperties(n,o){let a=this.wcwidth(n),l=a===0&&o!==0;if(l){const f=d.UnicodeService.extractWidth(o);f===0?l=!1:f>a&&(a=f)}return d.UnicodeService.createPropertyValue(0,a,l)}}},5981:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.WriteBuffer=void 0;const d=h(8460),s=h(844);class i extends s.Disposable{constructor(n){super(),this._action=n,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new d.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(n,o){if(o!==void 0&&this._syncCalls>o)return void(this._syncCalls=0);if(this._pendingData+=n.length,this._writeBuffer.push(n),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let a;for(this._isSyncWriting=!0;a=this._writeBuffer.shift();){this._action(a);const l=this._callbacks.shift();l&&l()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(n,o){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=n.length,this._writeBuffer.push(n),this._callbacks.push(o),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=n.length,this._writeBuffer.push(n),this._callbacks.push(o)}_innerWrite(n=0,o=!0){const a=n||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const l=this._writeBuffer[this._bufferOffset],f=this._action(l,o);if(f){const g=y=>Date.now()-a>=12?setTimeout(()=>this._innerWrite(0,y)):this._innerWrite(a,y);return void f.catch(y=>(queueMicrotask(()=>{throw y}),Promise.resolve(!1))).then(g)}const u=this._callbacks[this._bufferOffset];if(u&&u(),this._bufferOffset++,this._pendingData-=l.length,Date.now()-a>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}v.WriteBuffer=i},5941:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.toRgbString=v.parseColor=void 0;const h=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,d=/^[\da-f]+$/;function s(i,r){const n=i.toString(16),o=n.length<2?"0"+n:n;switch(r){case 4:return n[0];case 8:return o;case 12:return(o+o).slice(0,3);default:return o+o}}v.parseColor=function(i){if(!i)return;let r=i.toLowerCase();if(r.indexOf("rgb:")===0){r=r.slice(4);const n=h.exec(r);if(n){const o=n[1]?15:n[4]?255:n[7]?4095:65535;return[Math.round(parseInt(n[1]||n[4]||n[7]||n[10],16)/o*255),Math.round(parseInt(n[2]||n[5]||n[8]||n[11],16)/o*255),Math.round(parseInt(n[3]||n[6]||n[9]||n[12],16)/o*255)]}}else if(r.indexOf("#")===0&&(r=r.slice(1),d.exec(r)&&[3,6,9,12].includes(r.length))){const n=r.length/3,o=[0,0,0];for(let a=0;a<3;++a){const l=parseInt(r.slice(n*a,n*a+n),16);o[a]=n===1?l<<4:n===2?l:n===3?l>>4:l>>8}return o}},v.toRgbString=function(i,r=16){const[n,o,a]=i;return`rgb:${s(n,r)}/${s(o,r)}/${s(a,r)}`}},5770:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.PAYLOAD_LIMIT=void 0,v.PAYLOAD_LIMIT=1e7},6351:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.DcsHandler=v.DcsParser=void 0;const d=h(482),s=h(8742),i=h(5770),r=[];v.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=r,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=r}registerHandler(o,a){this._handlers[o]===void 0&&(this._handlers[o]=[]);const l=this._handlers[o];return l.push(a),{dispose:()=>{const f=l.indexOf(a);f!==-1&&l.splice(f,1)}}}clearHandler(o){this._handlers[o]&&delete this._handlers[o]}setHandlerFallback(o){this._handlerFb=o}reset(){if(this._active.length)for(let o=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;o>=0;--o)this._active[o].unhook(!1);this._stack.paused=!1,this._active=r,this._ident=0}hook(o,a){if(this.reset(),this._ident=o,this._active=this._handlers[o]||r,this._active.length)for(let l=this._active.length-1;l>=0;l--)this._active[l].hook(a);else this._handlerFb(this._ident,"HOOK",a)}put(o,a,l){if(this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].put(o,a,l);else this._handlerFb(this._ident,"PUT",(0,d.utf32ToString)(o,a,l))}unhook(o,a=!0){if(this._active.length){let l=!1,f=this._active.length-1,u=!1;if(this._stack.paused&&(f=this._stack.loopPosition-1,l=a,u=this._stack.fallThrough,this._stack.paused=!1),!u&&l===!1){for(;f>=0&&(l=this._active[f].unhook(o),l!==!0);f--)if(l instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!1,l;f--}for(;f>=0;f--)if(l=this._active[f].unhook(!1),l instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=f,this._stack.fallThrough=!0,l}else this._handlerFb(this._ident,"UNHOOK",o);this._active=r,this._ident=0}};const n=new s.Params;n.addParam(0),v.DcsHandler=class{constructor(o){this._handler=o,this._data="",this._params=n,this._hitLimit=!1}hook(o){this._params=o.length>1||o.params[0]?o.clone():n,this._data="",this._hitLimit=!1}put(o,a,l){this._hitLimit||(this._data+=(0,d.utf32ToString)(o,a,l),this._data.length>i.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(o){let a=!1;if(this._hitLimit)a=!1;else if(o&&(a=this._handler(this._data,this._params),a instanceof Promise))return a.then(l=>(this._params=n,this._data="",this._hitLimit=!1,l));return this._params=n,this._data="",this._hitLimit=!1,a}}},2015:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.EscapeSequenceParser=v.VT500_TRANSITION_TABLE=v.TransitionTable=void 0;const d=h(844),s=h(8742),i=h(6242),r=h(6351);class n{constructor(f){this.table=new Uint8Array(f)}setDefault(f,u){this.table.fill(f<<4|u)}add(f,u,g,y){this.table[u<<8|f]=g<<4|y}addMany(f,u,g,y){for(let _=0;_<f.length;_++)this.table[u<<8|f[_]]=g<<4|y}}v.TransitionTable=n;const o=160;v.VT500_TRANSITION_TABLE=function(){const l=new n(4095),f=Array.apply(null,Array(256)).map((S,b)=>b),u=(S,b)=>f.slice(S,b),g=u(32,127),y=u(0,24);y.push(25),y.push.apply(y,u(28,32));const _=u(0,14);let p;for(p in l.setDefault(1,0),l.addMany(g,0,2,0),_)l.addMany([24,26,153,154],p,3,0),l.addMany(u(128,144),p,3,0),l.addMany(u(144,152),p,3,0),l.add(156,p,0,0),l.add(27,p,11,1),l.add(157,p,4,8),l.addMany([152,158,159],p,0,7),l.add(155,p,11,3),l.add(144,p,11,9);return l.addMany(y,0,3,0),l.addMany(y,1,3,1),l.add(127,1,0,1),l.addMany(y,8,0,8),l.addMany(y,3,3,3),l.add(127,3,0,3),l.addMany(y,4,3,4),l.add(127,4,0,4),l.addMany(y,6,3,6),l.addMany(y,5,3,5),l.add(127,5,0,5),l.addMany(y,2,3,2),l.add(127,2,0,2),l.add(93,1,4,8),l.addMany(g,8,5,8),l.add(127,8,5,8),l.addMany([156,27,24,26,7],8,6,0),l.addMany(u(28,32),8,0,8),l.addMany([88,94,95],1,0,7),l.addMany(g,7,0,7),l.addMany(y,7,0,7),l.add(156,7,0,0),l.add(127,7,0,7),l.add(91,1,11,3),l.addMany(u(64,127),3,7,0),l.addMany(u(48,60),3,8,4),l.addMany([60,61,62,63],3,9,4),l.addMany(u(48,60),4,8,4),l.addMany(u(64,127),4,7,0),l.addMany([60,61,62,63],4,0,6),l.addMany(u(32,64),6,0,6),l.add(127,6,0,6),l.addMany(u(64,127),6,0,0),l.addMany(u(32,48),3,9,5),l.addMany(u(32,48),5,9,5),l.addMany(u(48,64),5,0,6),l.addMany(u(64,127),5,7,0),l.addMany(u(32,48),4,9,5),l.addMany(u(32,48),1,9,2),l.addMany(u(32,48),2,9,2),l.addMany(u(48,127),2,10,0),l.addMany(u(48,80),1,10,0),l.addMany(u(81,88),1,10,0),l.addMany([89,90,92],1,10,0),l.addMany(u(96,127),1,10,0),l.add(80,1,11,9),l.addMany(y,9,0,9),l.add(127,9,0,9),l.addMany(u(28,32),9,0,9),l.addMany(u(32,48),9,9,12),l.addMany(u(48,60),9,8,10),l.addMany([60,61,62,63],9,9,10),l.addMany(y,11,0,11),l.addMany(u(32,128),11,0,11),l.addMany(u(28,32),11,0,11),l.addMany(y,10,0,10),l.add(127,10,0,10),l.addMany(u(28,32),10,0,10),l.addMany(u(48,60),10,8,10),l.addMany([60,61,62,63],10,0,11),l.addMany(u(32,48),10,9,12),l.addMany(y,12,0,12),l.add(127,12,0,12),l.addMany(u(28,32),12,0,12),l.addMany(u(32,48),12,9,12),l.addMany(u(48,64),12,0,11),l.addMany(u(64,127),12,12,13),l.addMany(u(64,127),10,12,13),l.addMany(u(64,127),9,12,13),l.addMany(y,13,13,13),l.addMany(g,13,13,13),l.add(127,13,0,13),l.addMany([27,156,24,26],13,14,0),l.add(o,0,2,0),l.add(o,8,5,8),l.add(o,6,0,6),l.add(o,11,0,11),l.add(o,13,13,13),l}();class a extends d.Disposable{constructor(f=v.VT500_TRANSITION_TABLE){super(),this._transitions=f,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new s.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(u,g,y)=>{},this._executeHandlerFb=u=>{},this._csiHandlerFb=(u,g)=>{},this._escHandlerFb=u=>{},this._errorHandlerFb=u=>u,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,d.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new i.OscParser),this._dcsParser=this.register(new r.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(f,u=[64,126]){let g=0;if(f.prefix){if(f.prefix.length>1)throw new Error("only one byte as prefix supported");if(g=f.prefix.charCodeAt(0),g&&60>g||g>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(f.intermediates){if(f.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let _=0;_<f.intermediates.length;++_){const p=f.intermediates.charCodeAt(_);if(32>p||p>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");g<<=8,g|=p}}if(f.final.length!==1)throw new Error("final must be a single byte");const y=f.final.charCodeAt(0);if(u[0]>y||y>u[1])throw new Error(`final must be in range ${u[0]} .. ${u[1]}`);return g<<=8,g|=y,g}identToString(f){const u=[];for(;f;)u.push(String.fromCharCode(255&f)),f>>=8;return u.reverse().join("")}setPrintHandler(f){this._printHandler=f}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(f,u){const g=this._identifier(f,[48,126]);this._escHandlers[g]===void 0&&(this._escHandlers[g]=[]);const y=this._escHandlers[g];return y.push(u),{dispose:()=>{const _=y.indexOf(u);_!==-1&&y.splice(_,1)}}}clearEscHandler(f){this._escHandlers[this._identifier(f,[48,126])]&&delete this._escHandlers[this._identifier(f,[48,126])]}setEscHandlerFallback(f){this._escHandlerFb=f}setExecuteHandler(f,u){this._executeHandlers[f.charCodeAt(0)]=u}clearExecuteHandler(f){this._executeHandlers[f.charCodeAt(0)]&&delete this._executeHandlers[f.charCodeAt(0)]}setExecuteHandlerFallback(f){this._executeHandlerFb=f}registerCsiHandler(f,u){const g=this._identifier(f);this._csiHandlers[g]===void 0&&(this._csiHandlers[g]=[]);const y=this._csiHandlers[g];return y.push(u),{dispose:()=>{const _=y.indexOf(u);_!==-1&&y.splice(_,1)}}}clearCsiHandler(f){this._csiHandlers[this._identifier(f)]&&delete this._csiHandlers[this._identifier(f)]}setCsiHandlerFallback(f){this._csiHandlerFb=f}registerDcsHandler(f,u){return this._dcsParser.registerHandler(this._identifier(f),u)}clearDcsHandler(f){this._dcsParser.clearHandler(this._identifier(f))}setDcsHandlerFallback(f){this._dcsParser.setHandlerFallback(f)}registerOscHandler(f,u){return this._oscParser.registerHandler(f,u)}clearOscHandler(f){this._oscParser.clearHandler(f)}setOscHandlerFallback(f){this._oscParser.setHandlerFallback(f)}setErrorHandler(f){this._errorHandler=f}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(f,u,g,y,_){this._parseStack.state=f,this._parseStack.handlers=u,this._parseStack.handlerPos=g,this._parseStack.transition=y,this._parseStack.chunkPos=_}parse(f,u,g){let y,_=0,p=0,S=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,S=this._parseStack.chunkPos+1;else{if(g===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const b=this._parseStack.handlers;let w=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(g===!1&&w>-1){for(;w>=0&&(y=b[w](this._params),y!==!0);w--)if(y instanceof Promise)return this._parseStack.handlerPos=w,y}this._parseStack.handlers=[];break;case 4:if(g===!1&&w>-1){for(;w>=0&&(y=b[w](),y!==!0);w--)if(y instanceof Promise)return this._parseStack.handlerPos=w,y}this._parseStack.handlers=[];break;case 6:if(_=f[this._parseStack.chunkPos],y=this._dcsParser.unhook(_!==24&&_!==26,g),y)return y;_===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(_=f[this._parseStack.chunkPos],y=this._oscParser.end(_!==24&&_!==26,g),y)return y;_===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,S=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let b=S;b<u;++b){switch(_=f[b],p=this._transitions.table[this.currentState<<8|(_<160?_:o)],p>>4){case 2:for(let E=b+1;;++E){if(E>=u||(_=f[E])<32||_>126&&_<o){this._printHandler(f,b,E),b=E-1;break}if(++E>=u||(_=f[E])<32||_>126&&_<o){this._printHandler(f,b,E),b=E-1;break}if(++E>=u||(_=f[E])<32||_>126&&_<o){this._printHandler(f,b,E),b=E-1;break}if(++E>=u||(_=f[E])<32||_>126&&_<o){this._printHandler(f,b,E),b=E-1;break}}break;case 3:this._executeHandlers[_]?this._executeHandlers[_]():this._executeHandlerFb(_),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:b,code:_,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const w=this._csiHandlers[this._collect<<8|_];let R=w?w.length-1:-1;for(;R>=0&&(y=w[R](this._params),y!==!0);R--)if(y instanceof Promise)return this._preserveStack(3,w,R,p,b),y;R<0&&this._csiHandlerFb(this._collect<<8|_,this._params),this.precedingJoinState=0;break;case 8:do switch(_){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(_-48)}while(++b<u&&(_=f[b])>47&&_<60);b--;break;case 9:this._collect<<=8,this._collect|=_;break;case 10:const H=this._escHandlers[this._collect<<8|_];let k=H?H.length-1:-1;for(;k>=0&&(y=H[k](),y!==!0);k--)if(y instanceof Promise)return this._preserveStack(4,H,k,p,b),y;k<0&&this._escHandlerFb(this._collect<<8|_),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|_,this._params);break;case 13:for(let E=b+1;;++E)if(E>=u||(_=f[E])===24||_===26||_===27||_>127&&_<o){this._dcsParser.put(f,b,E),b=E-1;break}break;case 14:if(y=this._dcsParser.unhook(_!==24&&_!==26),y)return this._preserveStack(6,[],0,p,b),y;_===27&&(p|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let E=b+1;;E++)if(E>=u||(_=f[E])<32||_>127&&_<o){this._oscParser.put(f,b,E),b=E-1;break}break;case 6:if(y=this._oscParser.end(_!==24&&_!==26),y)return this._preserveStack(5,[],0,p,b),y;_===27&&(p|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&p}}}v.EscapeSequenceParser=a},6242:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.OscHandler=v.OscParser=void 0;const d=h(5770),s=h(482),i=[];v.OscParser=class{constructor(){this._state=0,this._active=i,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(r,n){this._handlers[r]===void 0&&(this._handlers[r]=[]);const o=this._handlers[r];return o.push(n),{dispose:()=>{const a=o.indexOf(n);a!==-1&&o.splice(a,1)}}}clearHandler(r){this._handlers[r]&&delete this._handlers[r]}setHandlerFallback(r){this._handlerFb=r}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=i}reset(){if(this._state===2)for(let r=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;r>=0;--r)this._active[r].end(!1);this._stack.paused=!1,this._active=i,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||i,this._active.length)for(let r=this._active.length-1;r>=0;r--)this._active[r].start();else this._handlerFb(this._id,"START")}_put(r,n,o){if(this._active.length)for(let a=this._active.length-1;a>=0;a--)this._active[a].put(r,n,o);else this._handlerFb(this._id,"PUT",(0,s.utf32ToString)(r,n,o))}start(){this.reset(),this._state=1}put(r,n,o){if(this._state!==3){if(this._state===1)for(;n<o;){const a=r[n++];if(a===59){this._state=2,this._start();break}if(a<48||57<a)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+a-48}this._state===2&&o-n>0&&this._put(r,n,o)}}end(r,n=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let o=!1,a=this._active.length-1,l=!1;if(this._stack.paused&&(a=this._stack.loopPosition-1,o=n,l=this._stack.fallThrough,this._stack.paused=!1),!l&&o===!1){for(;a>=0&&(o=this._active[a].end(r),o!==!0);a--)if(o instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=a,this._stack.fallThrough=!1,o;a--}for(;a>=0;a--)if(o=this._active[a].end(!1),o instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=a,this._stack.fallThrough=!0,o}else this._handlerFb(this._id,"END",r);this._active=i,this._id=-1,this._state=0}}},v.OscHandler=class{constructor(r){this._handler=r,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(r,n,o){this._hitLimit||(this._data+=(0,s.utf32ToString)(r,n,o),this._data.length>d.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(r){let n=!1;if(this._hitLimit)n=!1;else if(r&&(n=this._handler(this._data),n instanceof Promise))return n.then(o=>(this._data="",this._hitLimit=!1,o));return this._data="",this._hitLimit=!1,n}}},8742:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.Params=void 0;const h=2147483647;class d{static fromArray(i){const r=new d;if(!i.length)return r;for(let n=Array.isArray(i[0])?1:0;n<i.length;++n){const o=i[n];if(Array.isArray(o))for(let a=0;a<o.length;++a)r.addSubParam(o[a]);else r.addParam(o)}return r}constructor(i=32,r=32){if(this.maxLength=i,this.maxSubParamsLength=r,r>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(i),this.length=0,this._subParams=new Int32Array(r),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(i),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const i=new d(this.maxLength,this.maxSubParamsLength);return i.params.set(this.params),i.length=this.length,i._subParams.set(this._subParams),i._subParamsLength=this._subParamsLength,i._subParamsIdx.set(this._subParamsIdx),i._rejectDigits=this._rejectDigits,i._rejectSubDigits=this._rejectSubDigits,i._digitIsSub=this._digitIsSub,i}toArray(){const i=[];for(let r=0;r<this.length;++r){i.push(this.params[r]);const n=this._subParamsIdx[r]>>8,o=255&this._subParamsIdx[r];o-n>0&&i.push(Array.prototype.slice.call(this._subParams,n,o))}return i}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(i){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(i<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=i>h?h:i}}addSubParam(i){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(i<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=i>h?h:i,this._subParamsIdx[this.length-1]++}}hasSubParams(i){return(255&this._subParamsIdx[i])-(this._subParamsIdx[i]>>8)>0}getSubParams(i){const r=this._subParamsIdx[i]>>8,n=255&this._subParamsIdx[i];return n-r>0?this._subParams.subarray(r,n):null}getSubParamsAll(){const i={};for(let r=0;r<this.length;++r){const n=this._subParamsIdx[r]>>8,o=255&this._subParamsIdx[r];o-n>0&&(i[r]=this._subParams.slice(n,o))}return i}addDigit(i){let r;if(this._rejectDigits||!(r=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const n=this._digitIsSub?this._subParams:this.params,o=n[r-1];n[r-1]=~o?Math.min(10*o+i,h):i}}v.Params=d},5741:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.AddonManager=void 0,v.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let h=this._addons.length-1;h>=0;h--)this._addons[h].instance.dispose()}loadAddon(h,d){const s={instance:d,dispose:d.dispose,isDisposed:!1};this._addons.push(s),d.dispose=()=>this._wrappedAddonDispose(s),d.activate(h)}_wrappedAddonDispose(h){if(h.isDisposed)return;let d=-1;for(let s=0;s<this._addons.length;s++)if(this._addons[s]===h){d=s;break}if(d===-1)throw new Error("Could not dispose an addon that has not been loaded");h.isDisposed=!0,h.dispose.apply(h.instance),this._addons.splice(d,1)}}},8771:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.BufferApiView=void 0;const d=h(3785),s=h(511);v.BufferApiView=class{constructor(i,r){this._buffer=i,this.type=r}init(i){return this._buffer=i,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(i){const r=this._buffer.lines.get(i);if(r)return new d.BufferLineApiView(r)}getNullCell(){return new s.CellData}}},3785:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.BufferLineApiView=void 0;const d=h(511);v.BufferLineApiView=class{constructor(s){this._line=s}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(s,i){if(!(s<0||s>=this._line.length))return i?(this._line.loadCell(s,i),i):this._line.loadCell(s,new d.CellData)}translateToString(s,i,r){return this._line.translateToString(s,i,r)}}},8285:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.BufferNamespaceApi=void 0;const d=h(8771),s=h(8460),i=h(844);class r extends i.Disposable{constructor(o){super(),this._core=o,this._onBufferChange=this.register(new s.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new d.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new d.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}v.BufferNamespaceApi=r},7975:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.ParserApi=void 0,v.ParserApi=class{constructor(h){this._core=h}registerCsiHandler(h,d){return this._core.registerCsiHandler(h,s=>d(s.toArray()))}addCsiHandler(h,d){return this.registerCsiHandler(h,d)}registerDcsHandler(h,d){return this._core.registerDcsHandler(h,(s,i)=>d(s,i.toArray()))}addDcsHandler(h,d){return this.registerDcsHandler(h,d)}registerEscHandler(h,d){return this._core.registerEscHandler(h,d)}addEscHandler(h,d){return this.registerEscHandler(h,d)}registerOscHandler(h,d){return this._core.registerOscHandler(h,d)}addOscHandler(h,d){return this.registerOscHandler(h,d)}}},7090:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.UnicodeApi=void 0,v.UnicodeApi=class{constructor(h){this._core=h}register(h){this._core.unicodeService.register(h)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(h){this._core.unicodeService.activeVersion=h}}},744:function(x,v,h){var d=this&&this.__decorate||function(l,f,u,g){var y,_=arguments.length,p=_<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,u):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(l,f,u,g);else for(var S=l.length-1;S>=0;S--)(y=l[S])&&(p=(_<3?y(p):_>3?y(f,u,p):y(f,u))||p);return _>3&&p&&Object.defineProperty(f,u,p),p},s=this&&this.__param||function(l,f){return function(u,g){f(u,g,l)}};Object.defineProperty(v,"__esModule",{value:!0}),v.BufferService=v.MINIMUM_ROWS=v.MINIMUM_COLS=void 0;const i=h(8460),r=h(844),n=h(5295),o=h(2585);v.MINIMUM_COLS=2,v.MINIMUM_ROWS=1;let a=v.BufferService=class extends r.Disposable{get buffer(){return this.buffers.active}constructor(l){super(),this.isUserScrolling=!1,this._onResize=this.register(new i.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new i.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(l.rawOptions.cols||0,v.MINIMUM_COLS),this.rows=Math.max(l.rawOptions.rows||0,v.MINIMUM_ROWS),this.buffers=this.register(new n.BufferSet(l,this))}resize(l,f){this.cols=l,this.rows=f,this.buffers.resize(l,f),this._onResize.fire({cols:l,rows:f})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(l,f=!1){const u=this.buffer;let g;g=this._cachedBlankLine,g&&g.length===this.cols&&g.getFg(0)===l.fg&&g.getBg(0)===l.bg||(g=u.getBlankLine(l,f),this._cachedBlankLine=g),g.isWrapped=f;const y=u.ybase+u.scrollTop,_=u.ybase+u.scrollBottom;if(u.scrollTop===0){const p=u.lines.isFull;_===u.lines.length-1?p?u.lines.recycle().copyFrom(g):u.lines.push(g.clone()):u.lines.splice(_+1,0,g.clone()),p?this.isUserScrolling&&(u.ydisp=Math.max(u.ydisp-1,0)):(u.ybase++,this.isUserScrolling||u.ydisp++)}else{const p=_-y+1;u.lines.shiftElements(y+1,p-1,-1),u.lines.set(_,g.clone())}this.isUserScrolling||(u.ydisp=u.ybase),this._onScroll.fire(u.ydisp)}scrollLines(l,f,u){const g=this.buffer;if(l<0){if(g.ydisp===0)return;this.isUserScrolling=!0}else l+g.ydisp>=g.ybase&&(this.isUserScrolling=!1);const y=g.ydisp;g.ydisp=Math.max(Math.min(g.ydisp+l,g.ybase),0),y!==g.ydisp&&(f||this._onScroll.fire(g.ydisp))}};v.BufferService=a=d([s(0,o.IOptionsService)],a)},7994:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.CharsetService=void 0,v.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(h){this.glevel=h,this.charset=this._charsets[h]}setgCharset(h,d){this._charsets[h]=d,this.glevel===h&&(this.charset=d)}}},1753:function(x,v,h){var d=this&&this.__decorate||function(g,y,_,p){var S,b=arguments.length,w=b<3?y:p===null?p=Object.getOwnPropertyDescriptor(y,_):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(g,y,_,p);else for(var R=g.length-1;R>=0;R--)(S=g[R])&&(w=(b<3?S(w):b>3?S(y,_,w):S(y,_))||w);return b>3&&w&&Object.defineProperty(y,_,w),w},s=this&&this.__param||function(g,y){return function(_,p){y(_,p,g)}};Object.defineProperty(v,"__esModule",{value:!0}),v.CoreMouseService=void 0;const i=h(2585),r=h(8460),n=h(844),o={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:g=>g.button!==4&&g.action===1&&(g.ctrl=!1,g.alt=!1,g.shift=!1,!0)},VT200:{events:19,restrict:g=>g.action!==32},DRAG:{events:23,restrict:g=>g.action!==32||g.button!==3},ANY:{events:31,restrict:g=>!0}};function a(g,y){let _=(g.ctrl?16:0)|(g.shift?4:0)|(g.alt?8:0);return g.button===4?(_|=64,_|=g.action):(_|=3&g.button,4&g.button&&(_|=64),8&g.button&&(_|=128),g.action===32?_|=32:g.action!==0||y||(_|=3)),_}const l=String.fromCharCode,f={DEFAULT:g=>{const y=[a(g,!1)+32,g.col+32,g.row+32];return y[0]>255||y[1]>255||y[2]>255?"":`\x1B[M${l(y[0])}${l(y[1])}${l(y[2])}`},SGR:g=>{const y=g.action===0&&g.button!==4?"m":"M";return`\x1B[<${a(g,!0)};${g.col};${g.row}${y}`},SGR_PIXELS:g=>{const y=g.action===0&&g.button!==4?"m":"M";return`\x1B[<${a(g,!0)};${g.x};${g.y}${y}`}};let u=v.CoreMouseService=class extends n.Disposable{constructor(g,y){super(),this._bufferService=g,this._coreService=y,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new r.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const _ of Object.keys(o))this.addProtocol(_,o[_]);for(const _ of Object.keys(f))this.addEncoding(_,f[_]);this.reset()}addProtocol(g,y){this._protocols[g]=y}addEncoding(g,y){this._encodings[g]=y}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(g){if(!this._protocols[g])throw new Error(`unknown protocol "${g}"`);this._activeProtocol=g,this._onProtocolChange.fire(this._protocols[g].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(g){if(!this._encodings[g])throw new Error(`unknown encoding "${g}"`);this._activeEncoding=g}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(g){if(g.col<0||g.col>=this._bufferService.cols||g.row<0||g.row>=this._bufferService.rows||g.button===4&&g.action===32||g.button===3&&g.action!==32||g.button!==4&&(g.action===2||g.action===3)||(g.col++,g.row++,g.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,g,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(g))return!1;const y=this._encodings[this._activeEncoding](g);return y&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(y):this._coreService.triggerDataEvent(y,!0)),this._lastEvent=g,!0}explainEvents(g){return{down:!!(1&g),up:!!(2&g),drag:!!(4&g),move:!!(8&g),wheel:!!(16&g)}}_equalEvents(g,y,_){if(_){if(g.x!==y.x||g.y!==y.y)return!1}else if(g.col!==y.col||g.row!==y.row)return!1;return g.button===y.button&&g.action===y.action&&g.ctrl===y.ctrl&&g.alt===y.alt&&g.shift===y.shift}};v.CoreMouseService=u=d([s(0,i.IBufferService),s(1,i.ICoreService)],u)},6975:function(x,v,h){var d=this&&this.__decorate||function(u,g,y,_){var p,S=arguments.length,b=S<3?g:_===null?_=Object.getOwnPropertyDescriptor(g,y):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,g,y,_);else for(var w=u.length-1;w>=0;w--)(p=u[w])&&(b=(S<3?p(b):S>3?p(g,y,b):p(g,y))||b);return S>3&&b&&Object.defineProperty(g,y,b),b},s=this&&this.__param||function(u,g){return function(y,_){g(y,_,u)}};Object.defineProperty(v,"__esModule",{value:!0}),v.CoreService=void 0;const i=h(1439),r=h(8460),n=h(844),o=h(2585),a=Object.freeze({insertMode:!1}),l=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let f=v.CoreService=class extends n.Disposable{constructor(u,g,y){super(),this._bufferService=u,this._logService=g,this._optionsService=y,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new r.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new r.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new r.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new r.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,i.clone)(a),this.decPrivateModes=(0,i.clone)(l)}reset(){this.modes=(0,i.clone)(a),this.decPrivateModes=(0,i.clone)(l)}triggerDataEvent(u,g=!1){if(this._optionsService.rawOptions.disableStdin)return;const y=this._bufferService.buffer;g&&this._optionsService.rawOptions.scrollOnUserInput&&y.ybase!==y.ydisp&&this._onRequestScrollToBottom.fire(),g&&this._onUserInput.fire(),this._logService.debug(`sending data "${u}"`,()=>u.split("").map(_=>_.charCodeAt(0))),this._onData.fire(u)}triggerBinaryEvent(u){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${u}"`,()=>u.split("").map(g=>g.charCodeAt(0))),this._onBinary.fire(u))}};v.CoreService=f=d([s(0,o.IBufferService),s(1,o.ILogService),s(2,o.IOptionsService)],f)},9074:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.DecorationService=void 0;const d=h(8055),s=h(8460),i=h(844),r=h(6106);let n=0,o=0;class a extends i.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new r.SortedList(u=>u==null?void 0:u.marker.line),this._onDecorationRegistered=this.register(new s.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new s.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,i.toDisposable)(()=>this.reset()))}registerDecoration(u){if(u.marker.isDisposed)return;const g=new l(u);if(g){const y=g.marker.onDispose(()=>g.dispose());g.onDispose(()=>{g&&(this._decorations.delete(g)&&this._onDecorationRemoved.fire(g),y.dispose())}),this._decorations.insert(g),this._onDecorationRegistered.fire(g)}return g}reset(){for(const u of this._decorations.values())u.dispose();this._decorations.clear()}*getDecorationsAtCell(u,g,y){let _=0,p=0;for(const S of this._decorations.getKeyIterator(g))_=S.options.x??0,p=_+(S.options.width??1),u>=_&&u<p&&(!y||(S.options.layer??"bottom")===y)&&(yield S)}forEachDecorationAtCell(u,g,y,_){this._decorations.forEachByKey(g,p=>{n=p.options.x??0,o=n+(p.options.width??1),u>=n&&u<o&&(!y||(p.options.layer??"bottom")===y)&&_(p)})}}v.DecorationService=a;class l extends i.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=d.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=d.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(u){super(),this.options=u,this.onRenderEmitter=this.register(new s.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new s.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=u.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.InstantiationService=v.ServiceCollection=void 0;const d=h(2585),s=h(8343);class i{constructor(...n){this._entries=new Map;for(const[o,a]of n)this.set(o,a)}set(n,o){const a=this._entries.get(n);return this._entries.set(n,o),a}forEach(n){for(const[o,a]of this._entries.entries())n(o,a)}has(n){return this._entries.has(n)}get(n){return this._entries.get(n)}}v.ServiceCollection=i,v.InstantiationService=class{constructor(){this._services=new i,this._services.set(d.IInstantiationService,this)}setService(r,n){this._services.set(r,n)}getService(r){return this._services.get(r)}createInstance(r,...n){const o=(0,s.getServiceDependencies)(r).sort((f,u)=>f.index-u.index),a=[];for(const f of o){const u=this._services.get(f.id);if(!u)throw new Error(`[createInstance] ${r.name} depends on UNKNOWN service ${f.id}.`);a.push(u)}const l=o.length>0?o[0].index:n.length;if(n.length!==l)throw new Error(`[createInstance] First service dependency of ${r.name} at position ${l+1} conflicts with ${n.length} static arguments`);return new r(...n,...a)}}},7866:function(x,v,h){var d=this&&this.__decorate||function(l,f,u,g){var y,_=arguments.length,p=_<3?f:g===null?g=Object.getOwnPropertyDescriptor(f,u):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(l,f,u,g);else for(var S=l.length-1;S>=0;S--)(y=l[S])&&(p=(_<3?y(p):_>3?y(f,u,p):y(f,u))||p);return _>3&&p&&Object.defineProperty(f,u,p),p},s=this&&this.__param||function(l,f){return function(u,g){f(u,g,l)}};Object.defineProperty(v,"__esModule",{value:!0}),v.traceCall=v.setTraceLogger=v.LogService=void 0;const i=h(844),r=h(2585),n={trace:r.LogLevelEnum.TRACE,debug:r.LogLevelEnum.DEBUG,info:r.LogLevelEnum.INFO,warn:r.LogLevelEnum.WARN,error:r.LogLevelEnum.ERROR,off:r.LogLevelEnum.OFF};let o,a=v.LogService=class extends i.Disposable{get logLevel(){return this._logLevel}constructor(l){super(),this._optionsService=l,this._logLevel=r.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),o=this}_updateLogLevel(){this._logLevel=n[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(l){for(let f=0;f<l.length;f++)typeof l[f]=="function"&&(l[f]=l[f]())}_log(l,f,u){this._evalLazyOptionalParams(u),l.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+f,...u)}trace(l,...f){var u;this._logLevel<=r.LogLevelEnum.TRACE&&this._log(((u=this._optionsService.options.logger)==null?void 0:u.trace.bind(this._optionsService.options.logger))??console.log,l,f)}debug(l,...f){var u;this._logLevel<=r.LogLevelEnum.DEBUG&&this._log(((u=this._optionsService.options.logger)==null?void 0:u.debug.bind(this._optionsService.options.logger))??console.log,l,f)}info(l,...f){var u;this._logLevel<=r.LogLevelEnum.INFO&&this._log(((u=this._optionsService.options.logger)==null?void 0:u.info.bind(this._optionsService.options.logger))??console.info,l,f)}warn(l,...f){var u;this._logLevel<=r.LogLevelEnum.WARN&&this._log(((u=this._optionsService.options.logger)==null?void 0:u.warn.bind(this._optionsService.options.logger))??console.warn,l,f)}error(l,...f){var u;this._logLevel<=r.LogLevelEnum.ERROR&&this._log(((u=this._optionsService.options.logger)==null?void 0:u.error.bind(this._optionsService.options.logger))??console.error,l,f)}};v.LogService=a=d([s(0,r.IOptionsService)],a),v.setTraceLogger=function(l){o=l},v.traceCall=function(l,f,u){if(typeof u.value!="function")throw new Error("not supported");const g=u.value;u.value=function(...y){if(o.logLevel!==r.LogLevelEnum.TRACE)return g.apply(this,y);o.trace(`GlyphRenderer#${g.name}(${y.map(p=>JSON.stringify(p)).join(", ")})`);const _=g.apply(this,y);return o.trace(`GlyphRenderer#${g.name} return`,_),_}}},7302:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.OptionsService=v.DEFAULT_OPTIONS=void 0;const d=h(8460),s=h(844),i=h(6114);v.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:i.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const r=["normal","bold","100","200","300","400","500","600","700","800","900"];class n extends s.Disposable{constructor(a){super(),this._onOptionChange=this.register(new d.EventEmitter),this.onOptionChange=this._onOptionChange.event;const l={...v.DEFAULT_OPTIONS};for(const f in a)if(f in l)try{const u=a[f];l[f]=this._sanitizeAndValidateOption(f,u)}catch(u){console.error(u)}this.rawOptions=l,this.options={...l},this._setupOptions(),this.register((0,s.toDisposable)(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(a,l){return this.onOptionChange(f=>{f===a&&l(this.rawOptions[a])})}onMultipleOptionChange(a,l){return this.onOptionChange(f=>{a.indexOf(f)!==-1&&l()})}_setupOptions(){const a=f=>{if(!(f in v.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);return this.rawOptions[f]},l=(f,u)=>{if(!(f in v.DEFAULT_OPTIONS))throw new Error(`No option with key "${f}"`);u=this._sanitizeAndValidateOption(f,u),this.rawOptions[f]!==u&&(this.rawOptions[f]=u,this._onOptionChange.fire(f))};for(const f in this.rawOptions){const u={get:a.bind(this,f),set:l.bind(this,f)};Object.defineProperty(this.options,f,u)}}_sanitizeAndValidateOption(a,l){switch(a){case"cursorStyle":if(l||(l=v.DEFAULT_OPTIONS[a]),!function(f){return f==="block"||f==="underline"||f==="bar"}(l))throw new Error(`"${l}" is not a valid value for ${a}`);break;case"wordSeparator":l||(l=v.DEFAULT_OPTIONS[a]);break;case"fontWeight":case"fontWeightBold":if(typeof l=="number"&&1<=l&&l<=1e3)break;l=r.includes(l)?l:v.DEFAULT_OPTIONS[a];break;case"cursorWidth":l=Math.floor(l);case"lineHeight":case"tabStopWidth":if(l<1)throw new Error(`${a} cannot be less than 1, value: ${l}`);break;case"minimumContrastRatio":l=Math.max(1,Math.min(21,Math.round(10*l)/10));break;case"scrollback":if((l=Math.min(l,4294967295))<0)throw new Error(`${a} cannot be less than 0, value: ${l}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(l<=0)throw new Error(`${a} cannot be less than or equal to 0, value: ${l}`);break;case"rows":case"cols":if(!l&&l!==0)throw new Error(`${a} must be numeric, value: ${l}`);break;case"windowsPty":l=l??{}}return l}}v.OptionsService=n},2660:function(x,v,h){var d=this&&this.__decorate||function(n,o,a,l){var f,u=arguments.length,g=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,a):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(n,o,a,l);else for(var y=n.length-1;y>=0;y--)(f=n[y])&&(g=(u<3?f(g):u>3?f(o,a,g):f(o,a))||g);return u>3&&g&&Object.defineProperty(o,a,g),g},s=this&&this.__param||function(n,o){return function(a,l){o(a,l,n)}};Object.defineProperty(v,"__esModule",{value:!0}),v.OscLinkService=void 0;const i=h(2585);let r=v.OscLinkService=class{constructor(n){this._bufferService=n,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(n){const o=this._bufferService.buffer;if(n.id===void 0){const y=o.addMarker(o.ybase+o.y),_={data:n,id:this._nextId++,lines:[y]};return y.onDispose(()=>this._removeMarkerFromLink(_,y)),this._dataByLinkId.set(_.id,_),_.id}const a=n,l=this._getEntryIdKey(a),f=this._entriesWithId.get(l);if(f)return this.addLineToLink(f.id,o.ybase+o.y),f.id;const u=o.addMarker(o.ybase+o.y),g={id:this._nextId++,key:this._getEntryIdKey(a),data:a,lines:[u]};return u.onDispose(()=>this._removeMarkerFromLink(g,u)),this._entriesWithId.set(g.key,g),this._dataByLinkId.set(g.id,g),g.id}addLineToLink(n,o){const a=this._dataByLinkId.get(n);if(a&&a.lines.every(l=>l.line!==o)){const l=this._bufferService.buffer.addMarker(o);a.lines.push(l),l.onDispose(()=>this._removeMarkerFromLink(a,l))}}getLinkData(n){var o;return(o=this._dataByLinkId.get(n))==null?void 0:o.data}_getEntryIdKey(n){return`${n.id};;${n.uri}`}_removeMarkerFromLink(n,o){const a=n.lines.indexOf(o);a!==-1&&(n.lines.splice(a,1),n.lines.length===0&&(n.data.id!==void 0&&this._entriesWithId.delete(n.key),this._dataByLinkId.delete(n.id)))}};v.OscLinkService=r=d([s(0,i.IBufferService)],r)},8343:(x,v)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.createDecorator=v.getServiceDependencies=v.serviceRegistry=void 0;const h="di$target",d="di$dependencies";v.serviceRegistry=new Map,v.getServiceDependencies=function(s){return s[d]||[]},v.createDecorator=function(s){if(v.serviceRegistry.has(s))return v.serviceRegistry.get(s);const i=function(r,n,o){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(a,l,f){l[h]===l?l[d].push({id:a,index:f}):(l[d]=[{id:a,index:f}],l[h]=l)})(i,r,o)};return i.toString=()=>s,v.serviceRegistry.set(s,i),i}},2585:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.IDecorationService=v.IUnicodeService=v.IOscLinkService=v.IOptionsService=v.ILogService=v.LogLevelEnum=v.IInstantiationService=v.ICharsetService=v.ICoreService=v.ICoreMouseService=v.IBufferService=void 0;const d=h(8343);var s;v.IBufferService=(0,d.createDecorator)("BufferService"),v.ICoreMouseService=(0,d.createDecorator)("CoreMouseService"),v.ICoreService=(0,d.createDecorator)("CoreService"),v.ICharsetService=(0,d.createDecorator)("CharsetService"),v.IInstantiationService=(0,d.createDecorator)("InstantiationService"),function(i){i[i.TRACE=0]="TRACE",i[i.DEBUG=1]="DEBUG",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.OFF=5]="OFF"}(s||(v.LogLevelEnum=s={})),v.ILogService=(0,d.createDecorator)("LogService"),v.IOptionsService=(0,d.createDecorator)("OptionsService"),v.IOscLinkService=(0,d.createDecorator)("OscLinkService"),v.IUnicodeService=(0,d.createDecorator)("UnicodeService"),v.IDecorationService=(0,d.createDecorator)("DecorationService")},1480:(x,v,h)=>{Object.defineProperty(v,"__esModule",{value:!0}),v.UnicodeService=void 0;const d=h(8460),s=h(225);class i{static extractShouldJoin(n){return(1&n)!=0}static extractWidth(n){return n>>1&3}static extractCharKind(n){return n>>3}static createPropertyValue(n,o,a=!1){return(16777215&n)<<3|(3&o)<<1|(a?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new d.EventEmitter,this.onChange=this._onChange.event;const n=new s.UnicodeV6;this.register(n),this._active=n.version,this._activeProvider=n}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(n){if(!this._providers[n])throw new Error(`unknown Unicode version "${n}"`);this._active=n,this._activeProvider=this._providers[n],this._onChange.fire(n)}register(n){this._providers[n.version]=n}wcwidth(n){return this._activeProvider.wcwidth(n)}getStringCellWidth(n){let o=0,a=0;const l=n.length;for(let f=0;f<l;++f){let u=n.charCodeAt(f);if(55296<=u&&u<=56319){if(++f>=l)return o+this.wcwidth(u);const _=n.charCodeAt(f);56320<=_&&_<=57343?u=1024*(u-55296)+_-56320+65536:o+=this.wcwidth(_)}const g=this.charProperties(u,a);let y=i.extractWidth(g);i.extractShouldJoin(g)&&(y-=i.extractWidth(a)),o+=y,a=g}return o}charProperties(n,o){return this._activeProvider.charProperties(n,o)}}v.UnicodeService=i}},M={};function K(x){var v=M[x];if(v!==void 0)return v.exports;var h=M[x]={exports:{}};return L[x].call(h.exports,h,h.exports,K),h.exports}var D={};return(()=>{var x=D;Object.defineProperty(x,"__esModule",{value:!0}),x.Terminal=void 0;const v=K(9042),h=K(3236),d=K(844),s=K(5741),i=K(8285),r=K(7975),n=K(7090),o=["cols","rows"];class a extends d.Disposable{constructor(f){super(),this._core=this.register(new h.Terminal(f)),this._addonManager=this.register(new s.AddonManager),this._publicOptions={...this._core.options};const u=y=>this._core.options[y],g=(y,_)=>{this._checkReadonlyOptions(y),this._core.options[y]=_};for(const y in this._core.options){const _={get:u.bind(this,y),set:g.bind(this,y)};Object.defineProperty(this._publicOptions,y,_)}}_checkReadonlyOptions(f){if(o.includes(f))throw new Error(`Option "${f}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new r.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new n.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new i.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const f=this._core.coreService.decPrivateModes;let u="none";switch(this._core.coreMouseService.activeProtocol){case"X10":u="x10";break;case"VT200":u="vt200";break;case"DRAG":u="drag";break;case"ANY":u="any"}return{applicationCursorKeysMode:f.applicationCursorKeys,applicationKeypadMode:f.applicationKeypad,bracketedPasteMode:f.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:u,originMode:f.origin,reverseWraparoundMode:f.reverseWraparound,sendFocusMode:f.sendFocus,wraparoundMode:f.wraparound}}get options(){return this._publicOptions}set options(f){for(const u in f)this._publicOptions[u]=f[u]}blur(){this._core.blur()}focus(){this._core.focus()}input(f,u=!0){this._core.input(f,u)}resize(f,u){this._verifyIntegers(f,u),this._core.resize(f,u)}open(f){this._core.open(f)}attachCustomKeyEventHandler(f){this._core.attachCustomKeyEventHandler(f)}attachCustomWheelEventHandler(f){this._core.attachCustomWheelEventHandler(f)}registerLinkProvider(f){return this._core.registerLinkProvider(f)}registerCharacterJoiner(f){return this._checkProposedApi(),this._core.registerCharacterJoiner(f)}deregisterCharacterJoiner(f){this._checkProposedApi(),this._core.deregisterCharacterJoiner(f)}registerMarker(f=0){return this._verifyIntegers(f),this._core.registerMarker(f)}registerDecoration(f){return this._checkProposedApi(),this._verifyPositiveIntegers(f.x??0,f.width??0,f.height??0),this._core.registerDecoration(f)}hasSelection(){return this._core.hasSelection()}select(f,u,g){this._verifyIntegers(f,u,g),this._core.select(f,u,g)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(f,u){this._verifyIntegers(f,u),this._core.selectLines(f,u)}dispose(){super.dispose()}scrollLines(f){this._verifyIntegers(f),this._core.scrollLines(f)}scrollPages(f){this._verifyIntegers(f),this._core.scrollPages(f)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(f){this._verifyIntegers(f),this._core.scrollToLine(f)}clear(){this._core.clear()}write(f,u){this._core.write(f,u)}writeln(f,u){this._core.write(f),this._core.write(`\r
`,u)}paste(f){this._core.paste(f)}refresh(f,u){this._verifyIntegers(f,u),this._core.refresh(f,u)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(f){this._addonManager.loadAddon(this,f)}static get strings(){return v}_verifyIntegers(...f){for(const u of f)if(u===1/0||isNaN(u)||u%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...f){for(const u of f)if(u&&(u===1/0||isNaN(u)||u%1!=0||u<0))throw new Error("This API only accepts positive integers")}}x.Terminal=a})(),D})())}($c)),$c.exports}var dv=fv();const Ui=Object.create(null);Ui.open="0";Ui.close="1";Ui.ping="2";Ui.pong="3";Ui.message="4";Ui.upgrade="5";Ui.noop="6";const Sa=Object.create(null);Object.keys(Ui).forEach(j=>{Sa[Ui[j]]=j});const Gc={type:"error",data:"parser error"},Kd=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Yd=typeof ArrayBuffer=="function",Xd=j=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(j):j&&j.buffer instanceof ArrayBuffer,Zc=({type:j,data:I},L,M)=>Kd&&I instanceof Blob?L?M(I):Ad(I,M):Yd&&(I instanceof ArrayBuffer||Xd(I))?L?M(I):Ad(new Blob([I]),M):M(Ui[j]+(I||"")),Ad=(j,I)=>{const L=new FileReader;return L.onload=function(){const M=L.result.split(",")[1];I("b"+(M||""))},L.readAsDataURL(j)};function Md(j){return j instanceof Uint8Array?j:j instanceof ArrayBuffer?new Uint8Array(j):new Uint8Array(j.buffer,j.byteOffset,j.byteLength)}let Dc;function pv(j,I){if(Kd&&j.data instanceof Blob)return j.data.arrayBuffer().then(Md).then(I);if(Yd&&(j.data instanceof ArrayBuffer||Xd(j.data)))return I(Md(j.data));Zc(j,!1,L=>{Dc||(Dc=new TextEncoder),I(Dc.encode(L))})}const Td="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ao=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let j=0;j<Td.length;j++)ao[Td.charCodeAt(j)]=j;const gv=j=>{let I=j.length*.75,L=j.length,M,K=0,D,x,v,h;j[j.length-1]==="="&&(I--,j[j.length-2]==="="&&I--);const d=new ArrayBuffer(I),s=new Uint8Array(d);for(M=0;M<L;M+=4)D=ao[j.charCodeAt(M)],x=ao[j.charCodeAt(M+1)],v=ao[j.charCodeAt(M+2)],h=ao[j.charCodeAt(M+3)],s[K++]=D<<2|x>>4,s[K++]=(x&15)<<4|v>>2,s[K++]=(v&3)<<6|h&63;return d},vv=typeof ArrayBuffer=="function",Jc=(j,I)=>{if(typeof j!="string")return{type:"message",data:qd(j,I)};const L=j.charAt(0);return L==="b"?{type:"message",data:mv(j.substring(1),I)}:Sa[L]?j.length>1?{type:Sa[L],data:j.substring(1)}:{type:Sa[L]}:Gc},mv=(j,I)=>{if(vv){const L=gv(j);return qd(L,I)}else return{base64:!0,data:j}},qd=(j,I)=>{switch(I){case"blob":return j instanceof Blob?j:new Blob([j]);case"arraybuffer":default:return j instanceof ArrayBuffer?j:j.buffer}},Qd="",_v=(j,I)=>{const L=j.length,M=new Array(L);let K=0;j.forEach((D,x)=>{Zc(D,!1,v=>{M[x]=v,++K===L&&I(M.join(Qd))})})},yv=(j,I)=>{const L=j.split(Qd),M=[];for(let K=0;K<L.length;K++){const D=Jc(L[K],I);if(M.push(D),D.type==="error")break}return M};function bv(){return new TransformStream({transform(j,I){pv(j,L=>{const M=L.length;let K;if(M<126)K=new Uint8Array(1),new DataView(K.buffer).setUint8(0,M);else if(M<65536){K=new Uint8Array(3);const D=new DataView(K.buffer);D.setUint8(0,126),D.setUint16(1,M)}else{K=new Uint8Array(9);const D=new DataView(K.buffer);D.setUint8(0,127),D.setBigUint64(1,BigInt(M))}j.data&&typeof j.data!="string"&&(K[0]|=128),I.enqueue(K),I.enqueue(L)})}})}let Oc;function ya(j){return j.reduce((I,L)=>I+L.length,0)}function ba(j,I){if(j[0].length===I)return j.shift();const L=new Uint8Array(I);let M=0;for(let K=0;K<I;K++)L[K]=j[0][M++],M===j[0].length&&(j.shift(),M=0);return j.length&&M<j[0].length&&(j[0]=j[0].slice(M)),L}function Sv(j,I){Oc||(Oc=new TextDecoder);const L=[];let M=0,K=-1,D=!1;return new TransformStream({transform(x,v){for(L.push(x);;){if(M===0){if(ya(L)<1)break;const h=ba(L,1);D=(h[0]&128)===128,K=h[0]&127,K<126?M=3:K===126?M=1:M=2}else if(M===1){if(ya(L)<2)break;const h=ba(L,2);K=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),M=3}else if(M===2){if(ya(L)<8)break;const h=ba(L,8),d=new DataView(h.buffer,h.byteOffset,h.length),s=d.getUint32(0);if(s>Math.pow(2,21)-1){v.enqueue(Gc);break}K=s*Math.pow(2,32)+d.getUint32(4),M=3}else{if(ya(L)<K)break;const h=ba(L,K);v.enqueue(Jc(D?h:Oc.decode(h),I)),M=0}if(K===0||K>j){v.enqueue(Gc);break}}}})}const Zd=4;function St(j){if(j)return wv(j)}function wv(j){for(var I in St.prototype)j[I]=St.prototype[I];return j}St.prototype.on=St.prototype.addEventListener=function(j,I){return this._callbacks=this._callbacks||{},(this._callbacks["$"+j]=this._callbacks["$"+j]||[]).push(I),this};St.prototype.once=function(j,I){function L(){this.off(j,L),I.apply(this,arguments)}return L.fn=I,this.on(j,L),this};St.prototype.off=St.prototype.removeListener=St.prototype.removeAllListeners=St.prototype.removeEventListener=function(j,I){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var L=this._callbacks["$"+j];if(!L)return this;if(arguments.length==1)return delete this._callbacks["$"+j],this;for(var M,K=0;K<L.length;K++)if(M=L[K],M===I||M.fn===I){L.splice(K,1);break}return L.length===0&&delete this._callbacks["$"+j],this};St.prototype.emit=function(j){this._callbacks=this._callbacks||{};for(var I=new Array(arguments.length-1),L=this._callbacks["$"+j],M=1;M<arguments.length;M++)I[M-1]=arguments[M];if(L){L=L.slice(0);for(var M=0,K=L.length;M<K;++M)L[M].apply(this,I)}return this};St.prototype.emitReserved=St.prototype.emit;St.prototype.listeners=function(j){return this._callbacks=this._callbacks||{},this._callbacks["$"+j]||[]};St.prototype.hasListeners=function(j){return!!this.listeners(j).length};const Ma=typeof Promise=="function"&&typeof Promise.resolve=="function"?I=>Promise.resolve().then(I):(I,L)=>L(I,0),gi=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Cv="arraybuffer";function Jd(j,...I){return I.reduce((L,M)=>(j.hasOwnProperty(M)&&(L[M]=j[M]),L),{})}const Ev=gi.setTimeout,Av=gi.clearTimeout;function Ta(j,I){I.useNativeTimers?(j.setTimeoutFn=Ev.bind(gi),j.clearTimeoutFn=Av.bind(gi)):(j.setTimeoutFn=gi.setTimeout.bind(gi),j.clearTimeoutFn=gi.clearTimeout.bind(gi))}const Mv=1.33;function Tv(j){return typeof j=="string"?xv(j):Math.ceil((j.byteLength||j.size)*Mv)}function xv(j){let I=0,L=0;for(let M=0,K=j.length;M<K;M++)I=j.charCodeAt(M),I<128?L+=1:I<2048?L+=2:I<55296||I>=57344?L+=3:(M++,L+=4);return L}function ep(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Lv(j){let I="";for(let L in j)j.hasOwnProperty(L)&&(I.length&&(I+="&"),I+=encodeURIComponent(L)+"="+encodeURIComponent(j[L]));return I}function Rv(j){let I={},L=j.split("&");for(let M=0,K=L.length;M<K;M++){let D=L[M].split("=");I[decodeURIComponent(D[0])]=decodeURIComponent(D[1])}return I}class kv extends Error{constructor(I,L,M){super(I),this.description=L,this.context=M,this.type="TransportError"}}class eh extends St{constructor(I){super(),this.writable=!1,Ta(this,I),this.opts=I,this.query=I.query,this.socket=I.socket,this.supportsBinary=!I.forceBase64}onError(I,L,M){return super.emitReserved("error",new kv(I,L,M)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(I){this.readyState==="open"&&this.write(I)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(I){const L=Jc(I,this.socket.binaryType);this.onPacket(L)}onPacket(I){super.emitReserved("packet",I)}onClose(I){this.readyState="closed",super.emitReserved("close",I)}pause(I){}createUri(I,L={}){return I+"://"+this._hostname()+this._port()+this.opts.path+this._query(L)}_hostname(){const I=this.opts.hostname;return I.indexOf(":")===-1?I:"["+I+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(I){const L=Lv(I);return L.length?"?"+L:""}}class $v extends eh{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(I){this.readyState="pausing";const L=()=>{this.readyState="paused",I()};if(this._polling||!this.writable){let M=0;this._polling&&(M++,this.once("pollComplete",function(){--M||L()})),this.writable||(M++,this.once("drain",function(){--M||L()}))}else L()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(I){const L=M=>{if(this.readyState==="opening"&&M.type==="open"&&this.onOpen(),M.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(M)};yv(I,this.socket.binaryType).forEach(L),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const I=()=>{this.write([{type:"close"}])};this.readyState==="open"?I():this.once("open",I)}write(I){this.writable=!1,_v(I,L=>{this.doWrite(L,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const I=this.opts.secure?"https":"http",L=this.query||{};return this.opts.timestampRequests!==!1&&(L[this.opts.timestampParam]=ep()),!this.supportsBinary&&!L.sid&&(L.b64=1),this.createUri(I,L)}}let tp=!1;try{tp=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Dv=tp;function Ov(){}class Bv extends $v{constructor(I){if(super(I),typeof location<"u"){const L=location.protocol==="https:";let M=location.port;M||(M=L?"443":"80"),this.xd=typeof location<"u"&&I.hostname!==location.hostname||M!==I.port}}doWrite(I,L){const M=this.request({method:"POST",data:I});M.on("success",L),M.on("error",(K,D)=>{this.onError("xhr post error",K,D)})}doPoll(){const I=this.request();I.on("data",this.onData.bind(this)),I.on("error",(L,M)=>{this.onError("xhr poll error",L,M)}),this.pollXhr=I}}class Pi extends St{constructor(I,L,M){super(),this.createRequest=I,Ta(this,M),this._opts=M,this._method=M.method||"GET",this._uri=L,this._data=M.data!==void 0?M.data:null,this._create()}_create(){var I;const L=Jd(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");L.xdomain=!!this._opts.xd;const M=this._xhr=this.createRequest(L);try{M.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){M.setDisableHeaderCheck&&M.setDisableHeaderCheck(!0);for(let K in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(K)&&M.setRequestHeader(K,this._opts.extraHeaders[K])}}catch{}if(this._method==="POST")try{M.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{M.setRequestHeader("Accept","*/*")}catch{}(I=this._opts.cookieJar)===null||I===void 0||I.addCookies(M),"withCredentials"in M&&(M.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(M.timeout=this._opts.requestTimeout),M.onreadystatechange=()=>{var K;M.readyState===3&&((K=this._opts.cookieJar)===null||K===void 0||K.parseCookies(M.getResponseHeader("set-cookie"))),M.readyState===4&&(M.status===200||M.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof M.status=="number"?M.status:0)},0))},M.send(this._data)}catch(K){this.setTimeoutFn(()=>{this._onError(K)},0);return}typeof document<"u"&&(this._index=Pi.requestsCount++,Pi.requests[this._index]=this)}_onError(I){this.emitReserved("error",I,this._xhr),this._cleanup(!0)}_cleanup(I){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Ov,I)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Pi.requests[this._index],this._xhr=null}}_onLoad(){const I=this._xhr.responseText;I!==null&&(this.emitReserved("data",I),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Pi.requestsCount=0;Pi.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",xd);else if(typeof addEventListener=="function"){const j="onpagehide"in gi?"pagehide":"unload";addEventListener(j,xd,!1)}}function xd(){for(let j in Pi.requests)Pi.requests.hasOwnProperty(j)&&Pi.requests[j].abort()}const Nv=function(){const j=ip({xdomain:!1});return j&&j.responseType!==null}();class Iv extends Bv{constructor(I){super(I);const L=I&&I.forceBase64;this.supportsBinary=Nv&&!L}request(I={}){return Object.assign(I,{xd:this.xd},this.opts),new Pi(ip,this.uri(),I)}}function ip(j){const I=j.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!I||Dv))return new XMLHttpRequest}catch{}if(!I)try{return new gi[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const np=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Hv extends eh{get name(){return"websocket"}doOpen(){const I=this.uri(),L=this.opts.protocols,M=np?{}:Jd(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(M.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(I,L,M)}catch(K){return this.emitReserved("error",K)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=I=>this.onClose({description:"websocket connection closed",context:I}),this.ws.onmessage=I=>this.onData(I.data),this.ws.onerror=I=>this.onError("websocket error",I)}write(I){this.writable=!1;for(let L=0;L<I.length;L++){const M=I[L],K=L===I.length-1;Zc(M,this.supportsBinary,D=>{try{this.doWrite(M,D)}catch{}K&&Ma(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const I=this.opts.secure?"wss":"ws",L=this.query||{};return this.opts.timestampRequests&&(L[this.opts.timestampParam]=ep()),this.supportsBinary||(L.b64=1),this.createUri(I,L)}}const Bc=gi.WebSocket||gi.MozWebSocket;class zv extends Hv{createSocket(I,L,M){return np?new Bc(I,L,M):L?new Bc(I,L):new Bc(I)}doWrite(I,L){this.ws.send(L)}}class Fv extends eh{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(I){return this.emitReserved("error",I)}this._transport.closed.then(()=>{this.onClose()}).catch(I=>{this.onError("webtransport error",I)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(I=>{const L=Sv(Number.MAX_SAFE_INTEGER,this.socket.binaryType),M=I.readable.pipeThrough(L).getReader(),K=bv();K.readable.pipeTo(I.writable),this._writer=K.writable.getWriter();const D=()=>{M.read().then(({done:v,value:h})=>{v||(this.onPacket(h),D())}).catch(v=>{})};D();const x={type:"open"};this.query.sid&&(x.data=`{"sid":"${this.query.sid}"}`),this._writer.write(x).then(()=>this.onOpen())})})}write(I){this.writable=!1;for(let L=0;L<I.length;L++){const M=I[L],K=L===I.length-1;this._writer.write(M).then(()=>{K&&Ma(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var I;(I=this._transport)===null||I===void 0||I.close()}}const Pv={websocket:zv,webtransport:Fv,polling:Iv},Uv=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Wv=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Kc(j){if(j.length>8e3)throw"URI too long";const I=j,L=j.indexOf("["),M=j.indexOf("]");L!=-1&&M!=-1&&(j=j.substring(0,L)+j.substring(L,M).replace(/:/g,";")+j.substring(M,j.length));let K=Uv.exec(j||""),D={},x=14;for(;x--;)D[Wv[x]]=K[x]||"";return L!=-1&&M!=-1&&(D.source=I,D.host=D.host.substring(1,D.host.length-1).replace(/;/g,":"),D.authority=D.authority.replace("[","").replace("]","").replace(/;/g,":"),D.ipv6uri=!0),D.pathNames=jv(D,D.path),D.queryKey=Vv(D,D.query),D}function jv(j,I){const L=/\/{2,9}/g,M=I.replace(L,"/").split("/");return(I.slice(0,1)=="/"||I.length===0)&&M.splice(0,1),I.slice(-1)=="/"&&M.splice(M.length-1,1),M}function Vv(j,I){const L={};return I.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(M,K,D){K&&(L[K]=D)}),L}const Yc=typeof addEventListener=="function"&&typeof removeEventListener=="function",wa=[];Yc&&addEventListener("offline",()=>{wa.forEach(j=>j())},!1);class Un extends St{constructor(I,L){if(super(),this.binaryType=Cv,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,I&&typeof I=="object"&&(L=I,I=null),I){const M=Kc(I);L.hostname=M.host,L.secure=M.protocol==="https"||M.protocol==="wss",L.port=M.port,M.query&&(L.query=M.query)}else L.host&&(L.hostname=Kc(L.host).host);Ta(this,L),this.secure=L.secure!=null?L.secure:typeof location<"u"&&location.protocol==="https:",L.hostname&&!L.port&&(L.port=this.secure?"443":"80"),this.hostname=L.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=L.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},L.transports.forEach(M=>{const K=M.prototype.name;this.transports.push(K),this._transportsByName[K]=M}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},L),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Rv(this.opts.query)),Yc&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},wa.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(I){const L=Object.assign({},this.opts.query);L.EIO=Zd,L.transport=I,this.id&&(L.sid=this.id);const M=Object.assign({},this.opts,{query:L,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[I]);return new this._transportsByName[I](M)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const I=this.opts.rememberUpgrade&&Un.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const L=this.createTransport(I);L.open(),this.setTransport(L)}setTransport(I){this.transport&&this.transport.removeAllListeners(),this.transport=I,I.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",L=>this._onClose("transport close",L))}onOpen(){this.readyState="open",Un.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(I){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",I),this.emitReserved("heartbeat"),I.type){case"open":this.onHandshake(JSON.parse(I.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const L=new Error("server error");L.code=I.data,this._onError(L);break;case"message":this.emitReserved("data",I.data),this.emitReserved("message",I.data);break}}onHandshake(I){this.emitReserved("handshake",I),this.id=I.sid,this.transport.query.sid=I.sid,this._pingInterval=I.pingInterval,this._pingTimeout=I.pingTimeout,this._maxPayload=I.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const I=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+I,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},I),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const I=this._getWritablePackets();this.transport.send(I),this._prevBufferLen=I.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let L=1;for(let M=0;M<this.writeBuffer.length;M++){const K=this.writeBuffer[M].data;if(K&&(L+=Tv(K)),M>0&&L>this._maxPayload)return this.writeBuffer.slice(0,M);L+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const I=Date.now()>this._pingTimeoutTime;return I&&(this._pingTimeoutTime=0,Ma(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),I}write(I,L,M){return this._sendPacket("message",I,L,M),this}send(I,L,M){return this._sendPacket("message",I,L,M),this}_sendPacket(I,L,M,K){if(typeof L=="function"&&(K=L,L=void 0),typeof M=="function"&&(K=M,M=null),this.readyState==="closing"||this.readyState==="closed")return;M=M||{},M.compress=M.compress!==!1;const D={type:I,data:L,options:M};this.emitReserved("packetCreate",D),this.writeBuffer.push(D),K&&this.once("flush",K),this.flush()}close(){const I=()=>{this._onClose("forced close"),this.transport.close()},L=()=>{this.off("upgrade",L),this.off("upgradeError",L),I()},M=()=>{this.once("upgrade",L),this.once("upgradeError",L)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?M():I()}):this.upgrading?M():I()),this}_onError(I){if(Un.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",I),this._onClose("transport error",I)}_onClose(I,L){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Yc&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const M=wa.indexOf(this._offlineEventListener);M!==-1&&wa.splice(M,1)}this.readyState="closed",this.id=null,this.emitReserved("close",I,L),this.writeBuffer=[],this._prevBufferLen=0}}}Un.protocol=Zd;class Gv extends Un{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let I=0;I<this._upgrades.length;I++)this._probe(this._upgrades[I])}_probe(I){let L=this.createTransport(I),M=!1;Un.priorWebsocketSuccess=!1;const K=()=>{M||(L.send([{type:"ping",data:"probe"}]),L.once("packet",i=>{if(!M)if(i.type==="pong"&&i.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",L),!L)return;Un.priorWebsocketSuccess=L.name==="websocket",this.transport.pause(()=>{M||this.readyState!=="closed"&&(s(),this.setTransport(L),L.send([{type:"upgrade"}]),this.emitReserved("upgrade",L),L=null,this.upgrading=!1,this.flush())})}else{const r=new Error("probe error");r.transport=L.name,this.emitReserved("upgradeError",r)}}))};function D(){M||(M=!0,s(),L.close(),L=null)}const x=i=>{const r=new Error("probe error: "+i);r.transport=L.name,D(),this.emitReserved("upgradeError",r)};function v(){x("transport closed")}function h(){x("socket closed")}function d(i){L&&i.name!==L.name&&D()}const s=()=>{L.removeListener("open",K),L.removeListener("error",x),L.removeListener("close",v),this.off("close",h),this.off("upgrading",d)};L.once("open",K),L.once("error",x),L.once("close",v),this.once("close",h),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&I!=="webtransport"?this.setTimeoutFn(()=>{M||L.open()},200):L.open()}onHandshake(I){this._upgrades=this._filterUpgrades(I.upgrades),super.onHandshake(I)}_filterUpgrades(I){const L=[];for(let M=0;M<I.length;M++)~this.transports.indexOf(I[M])&&L.push(I[M]);return L}}let Kv=class extends Gv{constructor(I,L={}){const M=typeof I=="object"?I:L;(!M.transports||M.transports&&typeof M.transports[0]=="string")&&(M.transports=(M.transports||["polling","websocket","webtransport"]).map(K=>Pv[K]).filter(K=>!!K)),super(I,M)}};function Yv(j,I="",L){let M=j;L=L||typeof location<"u"&&location,j==null&&(j=L.protocol+"//"+L.host),typeof j=="string"&&(j.charAt(0)==="/"&&(j.charAt(1)==="/"?j=L.protocol+j:j=L.host+j),/^(https?|wss?):\/\//.test(j)||(typeof L<"u"?j=L.protocol+"//"+j:j="https://"+j),M=Kc(j)),M.port||(/^(http|ws)$/.test(M.protocol)?M.port="80":/^(http|ws)s$/.test(M.protocol)&&(M.port="443")),M.path=M.path||"/";const D=M.host.indexOf(":")!==-1?"["+M.host+"]":M.host;return M.id=M.protocol+"://"+D+":"+M.port+I,M.href=M.protocol+"://"+D+(L&&L.port===M.port?"":":"+M.port),M}const Xv=typeof ArrayBuffer=="function",qv=j=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(j):j.buffer instanceof ArrayBuffer,rp=Object.prototype.toString,Qv=typeof Blob=="function"||typeof Blob<"u"&&rp.call(Blob)==="[object BlobConstructor]",Zv=typeof File=="function"||typeof File<"u"&&rp.call(File)==="[object FileConstructor]";function th(j){return Xv&&(j instanceof ArrayBuffer||qv(j))||Qv&&j instanceof Blob||Zv&&j instanceof File}function Ca(j,I){if(!j||typeof j!="object")return!1;if(Array.isArray(j)){for(let L=0,M=j.length;L<M;L++)if(Ca(j[L]))return!0;return!1}if(th(j))return!0;if(j.toJSON&&typeof j.toJSON=="function"&&arguments.length===1)return Ca(j.toJSON(),!0);for(const L in j)if(Object.prototype.hasOwnProperty.call(j,L)&&Ca(j[L]))return!0;return!1}function Jv(j){const I=[],L=j.data,M=j;return M.data=Xc(L,I),M.attachments=I.length,{packet:M,buffers:I}}function Xc(j,I){if(!j)return j;if(th(j)){const L={_placeholder:!0,num:I.length};return I.push(j),L}else if(Array.isArray(j)){const L=new Array(j.length);for(let M=0;M<j.length;M++)L[M]=Xc(j[M],I);return L}else if(typeof j=="object"&&!(j instanceof Date)){const L={};for(const M in j)Object.prototype.hasOwnProperty.call(j,M)&&(L[M]=Xc(j[M],I));return L}return j}function em(j,I){return j.data=qc(j.data,I),delete j.attachments,j}function qc(j,I){if(!j)return j;if(j&&j._placeholder===!0){if(typeof j.num=="number"&&j.num>=0&&j.num<I.length)return I[j.num];throw new Error("illegal attachments")}else if(Array.isArray(j))for(let L=0;L<j.length;L++)j[L]=qc(j[L],I);else if(typeof j=="object")for(const L in j)Object.prototype.hasOwnProperty.call(j,L)&&(j[L]=qc(j[L],I));return j}const tm=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],im=5;var Ye;(function(j){j[j.CONNECT=0]="CONNECT",j[j.DISCONNECT=1]="DISCONNECT",j[j.EVENT=2]="EVENT",j[j.ACK=3]="ACK",j[j.CONNECT_ERROR=4]="CONNECT_ERROR",j[j.BINARY_EVENT=5]="BINARY_EVENT",j[j.BINARY_ACK=6]="BINARY_ACK"})(Ye||(Ye={}));class nm{constructor(I){this.replacer=I}encode(I){return(I.type===Ye.EVENT||I.type===Ye.ACK)&&Ca(I)?this.encodeAsBinary({type:I.type===Ye.EVENT?Ye.BINARY_EVENT:Ye.BINARY_ACK,nsp:I.nsp,data:I.data,id:I.id}):[this.encodeAsString(I)]}encodeAsString(I){let L=""+I.type;return(I.type===Ye.BINARY_EVENT||I.type===Ye.BINARY_ACK)&&(L+=I.attachments+"-"),I.nsp&&I.nsp!=="/"&&(L+=I.nsp+","),I.id!=null&&(L+=I.id),I.data!=null&&(L+=JSON.stringify(I.data,this.replacer)),L}encodeAsBinary(I){const L=Jv(I),M=this.encodeAsString(L.packet),K=L.buffers;return K.unshift(M),K}}function Ld(j){return Object.prototype.toString.call(j)==="[object Object]"}class ih extends St{constructor(I){super(),this.reviver=I}add(I){let L;if(typeof I=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");L=this.decodeString(I);const M=L.type===Ye.BINARY_EVENT;M||L.type===Ye.BINARY_ACK?(L.type=M?Ye.EVENT:Ye.ACK,this.reconstructor=new rm(L),L.attachments===0&&super.emitReserved("decoded",L)):super.emitReserved("decoded",L)}else if(th(I)||I.base64)if(this.reconstructor)L=this.reconstructor.takeBinaryData(I),L&&(this.reconstructor=null,super.emitReserved("decoded",L));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+I)}decodeString(I){let L=0;const M={type:Number(I.charAt(0))};if(Ye[M.type]===void 0)throw new Error("unknown packet type "+M.type);if(M.type===Ye.BINARY_EVENT||M.type===Ye.BINARY_ACK){const D=L+1;for(;I.charAt(++L)!=="-"&&L!=I.length;);const x=I.substring(D,L);if(x!=Number(x)||I.charAt(L)!=="-")throw new Error("Illegal attachments");M.attachments=Number(x)}if(I.charAt(L+1)==="/"){const D=L+1;for(;++L&&!(I.charAt(L)===","||L===I.length););M.nsp=I.substring(D,L)}else M.nsp="/";const K=I.charAt(L+1);if(K!==""&&Number(K)==K){const D=L+1;for(;++L;){const x=I.charAt(L);if(x==null||Number(x)!=x){--L;break}if(L===I.length)break}M.id=Number(I.substring(D,L+1))}if(I.charAt(++L)){const D=this.tryParse(I.substr(L));if(ih.isPayloadValid(M.type,D))M.data=D;else throw new Error("invalid payload")}return M}tryParse(I){try{return JSON.parse(I,this.reviver)}catch{return!1}}static isPayloadValid(I,L){switch(I){case Ye.CONNECT:return Ld(L);case Ye.DISCONNECT:return L===void 0;case Ye.CONNECT_ERROR:return typeof L=="string"||Ld(L);case Ye.EVENT:case Ye.BINARY_EVENT:return Array.isArray(L)&&(typeof L[0]=="number"||typeof L[0]=="string"&&tm.indexOf(L[0])===-1);case Ye.ACK:case Ye.BINARY_ACK:return Array.isArray(L)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class rm{constructor(I){this.packet=I,this.buffers=[],this.reconPack=I}takeBinaryData(I){if(this.buffers.push(I),this.buffers.length===this.reconPack.attachments){const L=em(this.reconPack,this.buffers);return this.finishedReconstruction(),L}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const sm=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ih,Encoder:nm,get PacketType(){return Ye},protocol:im},Symbol.toStringTag,{value:"Module"}));function Li(j,I,L){return j.on(I,L),function(){j.off(I,L)}}const om=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class sp extends St{constructor(I,L,M){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=I,this.nsp=L,M&&M.auth&&(this.auth=M.auth),this._opts=Object.assign({},M),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const I=this.io;this.subs=[Li(I,"open",this.onopen.bind(this)),Li(I,"packet",this.onpacket.bind(this)),Li(I,"error",this.onerror.bind(this)),Li(I,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...I){return I.unshift("message"),this.emit.apply(this,I),this}emit(I,...L){var M,K,D;if(om.hasOwnProperty(I))throw new Error('"'+I.toString()+'" is a reserved event name');if(L.unshift(I),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(L),this;const x={type:Ye.EVENT,data:L};if(x.options={},x.options.compress=this.flags.compress!==!1,typeof L[L.length-1]=="function"){const s=this.ids++,i=L.pop();this._registerAckCallback(s,i),x.id=s}const v=(K=(M=this.io.engine)===null||M===void 0?void 0:M.transport)===null||K===void 0?void 0:K.writable,h=this.connected&&!(!((D=this.io.engine)===null||D===void 0)&&D._hasPingExpired());return this.flags.volatile&&!v||(h?(this.notifyOutgoingListeners(x),this.packet(x)):this.sendBuffer.push(x)),this.flags={},this}_registerAckCallback(I,L){var M;const K=(M=this.flags.timeout)!==null&&M!==void 0?M:this._opts.ackTimeout;if(K===void 0){this.acks[I]=L;return}const D=this.io.setTimeoutFn(()=>{delete this.acks[I];for(let v=0;v<this.sendBuffer.length;v++)this.sendBuffer[v].id===I&&this.sendBuffer.splice(v,1);L.call(this,new Error("operation has timed out"))},K),x=(...v)=>{this.io.clearTimeoutFn(D),L.apply(this,v)};x.withError=!0,this.acks[I]=x}emitWithAck(I,...L){return new Promise((M,K)=>{const D=(x,v)=>x?K(x):M(v);D.withError=!0,L.push(D),this.emit(I,...L)})}_addToQueue(I){let L;typeof I[I.length-1]=="function"&&(L=I.pop());const M={id:this._queueSeq++,tryCount:0,pending:!1,args:I,flags:Object.assign({fromQueue:!0},this.flags)};I.push((K,...D)=>M!==this._queue[0]?void 0:(K!==null?M.tryCount>this._opts.retries&&(this._queue.shift(),L&&L(K)):(this._queue.shift(),L&&L(null,...D)),M.pending=!1,this._drainQueue())),this._queue.push(M),this._drainQueue()}_drainQueue(I=!1){if(!this.connected||this._queue.length===0)return;const L=this._queue[0];L.pending&&!I||(L.pending=!0,L.tryCount++,this.flags=L.flags,this.emit.apply(this,L.args))}packet(I){I.nsp=this.nsp,this.io._packet(I)}onopen(){typeof this.auth=="function"?this.auth(I=>{this._sendConnectPacket(I)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(I){this.packet({type:Ye.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},I):I})}onerror(I){this.connected||this.emitReserved("connect_error",I)}onclose(I,L){this.connected=!1,delete this.id,this.emitReserved("disconnect",I,L),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(I=>{if(!this.sendBuffer.some(M=>String(M.id)===I)){const M=this.acks[I];delete this.acks[I],M.withError&&M.call(this,new Error("socket has been disconnected"))}})}onpacket(I){if(I.nsp===this.nsp)switch(I.type){case Ye.CONNECT:I.data&&I.data.sid?this.onconnect(I.data.sid,I.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ye.EVENT:case Ye.BINARY_EVENT:this.onevent(I);break;case Ye.ACK:case Ye.BINARY_ACK:this.onack(I);break;case Ye.DISCONNECT:this.ondisconnect();break;case Ye.CONNECT_ERROR:this.destroy();const M=new Error(I.data.message);M.data=I.data.data,this.emitReserved("connect_error",M);break}}onevent(I){const L=I.data||[];I.id!=null&&L.push(this.ack(I.id)),this.connected?this.emitEvent(L):this.receiveBuffer.push(Object.freeze(L))}emitEvent(I){if(this._anyListeners&&this._anyListeners.length){const L=this._anyListeners.slice();for(const M of L)M.apply(this,I)}super.emit.apply(this,I),this._pid&&I.length&&typeof I[I.length-1]=="string"&&(this._lastOffset=I[I.length-1])}ack(I){const L=this;let M=!1;return function(...K){M||(M=!0,L.packet({type:Ye.ACK,id:I,data:K}))}}onack(I){const L=this.acks[I.id];typeof L=="function"&&(delete this.acks[I.id],L.withError&&I.data.unshift(null),L.apply(this,I.data))}onconnect(I,L){this.id=I,this.recovered=L&&this._pid===L,this._pid=L,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(I=>this.emitEvent(I)),this.receiveBuffer=[],this.sendBuffer.forEach(I=>{this.notifyOutgoingListeners(I),this.packet(I)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(I=>I()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ye.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(I){return this.flags.compress=I,this}get volatile(){return this.flags.volatile=!0,this}timeout(I){return this.flags.timeout=I,this}onAny(I){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(I),this}prependAny(I){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(I),this}offAny(I){if(!this._anyListeners)return this;if(I){const L=this._anyListeners;for(let M=0;M<L.length;M++)if(I===L[M])return L.splice(M,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(I){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(I),this}prependAnyOutgoing(I){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(I),this}offAnyOutgoing(I){if(!this._anyOutgoingListeners)return this;if(I){const L=this._anyOutgoingListeners;for(let M=0;M<L.length;M++)if(I===L[M])return L.splice(M,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(I){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const L=this._anyOutgoingListeners.slice();for(const M of L)M.apply(this,I.data)}}}function ns(j){j=j||{},this.ms=j.min||100,this.max=j.max||1e4,this.factor=j.factor||2,this.jitter=j.jitter>0&&j.jitter<=1?j.jitter:0,this.attempts=0}ns.prototype.duration=function(){var j=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var I=Math.random(),L=Math.floor(I*this.jitter*j);j=(Math.floor(I*10)&1)==0?j-L:j+L}return Math.min(j,this.max)|0};ns.prototype.reset=function(){this.attempts=0};ns.prototype.setMin=function(j){this.ms=j};ns.prototype.setMax=function(j){this.max=j};ns.prototype.setJitter=function(j){this.jitter=j};class Qc extends St{constructor(I,L){var M;super(),this.nsps={},this.subs=[],I&&typeof I=="object"&&(L=I,I=void 0),L=L||{},L.path=L.path||"/socket.io",this.opts=L,Ta(this,L),this.reconnection(L.reconnection!==!1),this.reconnectionAttempts(L.reconnectionAttempts||1/0),this.reconnectionDelay(L.reconnectionDelay||1e3),this.reconnectionDelayMax(L.reconnectionDelayMax||5e3),this.randomizationFactor((M=L.randomizationFactor)!==null&&M!==void 0?M:.5),this.backoff=new ns({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(L.timeout==null?2e4:L.timeout),this._readyState="closed",this.uri=I;const K=L.parser||sm;this.encoder=new K.Encoder,this.decoder=new K.Decoder,this._autoConnect=L.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(I){return arguments.length?(this._reconnection=!!I,I||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(I){return I===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=I,this)}reconnectionDelay(I){var L;return I===void 0?this._reconnectionDelay:(this._reconnectionDelay=I,(L=this.backoff)===null||L===void 0||L.setMin(I),this)}randomizationFactor(I){var L;return I===void 0?this._randomizationFactor:(this._randomizationFactor=I,(L=this.backoff)===null||L===void 0||L.setJitter(I),this)}reconnectionDelayMax(I){var L;return I===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=I,(L=this.backoff)===null||L===void 0||L.setMax(I),this)}timeout(I){return arguments.length?(this._timeout=I,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(I){if(~this._readyState.indexOf("open"))return this;this.engine=new Kv(this.uri,this.opts);const L=this.engine,M=this;this._readyState="opening",this.skipReconnect=!1;const K=Li(L,"open",function(){M.onopen(),I&&I()}),D=v=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",v),I?I(v):this.maybeReconnectOnOpen()},x=Li(L,"error",D);if(this._timeout!==!1){const v=this._timeout,h=this.setTimeoutFn(()=>{K(),D(new Error("timeout")),L.close()},v);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(K),this.subs.push(x),this}connect(I){return this.open(I)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const I=this.engine;this.subs.push(Li(I,"ping",this.onping.bind(this)),Li(I,"data",this.ondata.bind(this)),Li(I,"error",this.onerror.bind(this)),Li(I,"close",this.onclose.bind(this)),Li(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(I){try{this.decoder.add(I)}catch(L){this.onclose("parse error",L)}}ondecoded(I){Ma(()=>{this.emitReserved("packet",I)},this.setTimeoutFn)}onerror(I){this.emitReserved("error",I)}socket(I,L){let M=this.nsps[I];return M?this._autoConnect&&!M.active&&M.connect():(M=new sp(this,I,L),this.nsps[I]=M),M}_destroy(I){const L=Object.keys(this.nsps);for(const M of L)if(this.nsps[M].active)return;this._close()}_packet(I){const L=this.encoder.encode(I);for(let M=0;M<L.length;M++)this.engine.write(L[M],I.options)}cleanup(){this.subs.forEach(I=>I()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(I,L){var M;this.cleanup(),(M=this.engine)===null||M===void 0||M.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",I,L),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const I=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const L=this.backoff.duration();this._reconnecting=!0;const M=this.setTimeoutFn(()=>{I.skipReconnect||(this.emitReserved("reconnect_attempt",I.backoff.attempts),!I.skipReconnect&&I.open(K=>{K?(I._reconnecting=!1,I.reconnect(),this.emitReserved("reconnect_error",K)):I.onreconnect()}))},L);this.opts.autoUnref&&M.unref(),this.subs.push(()=>{this.clearTimeoutFn(M)})}}onreconnect(){const I=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",I)}}const oo={};function Ea(j,I){typeof j=="object"&&(I=j,j=void 0),I=I||{};const L=Yv(j,I.path||"/socket.io"),M=L.source,K=L.id,D=L.path,x=oo[K]&&D in oo[K].nsps,v=I.forceNew||I["force new connection"]||I.multiplex===!1||x;let h;return v?h=new Qc(M,I):(oo[K]||(oo[K]=new Qc(M,I)),h=oo[K]),L.query&&!I.query&&(I.query=L.queryKey),h.socket(L.path,I)}Object.assign(Ea,{Manager:Qc,Socket:sp,io:Ea,connect:Ea});const co=Ea("http://localhost:9000"),am=()=>{const j=kt.useRef(),I=kt.useRef(!1);return kt.useEffect(()=>{if(I.current)return;I.current=!0;const L=new dv.Terminal({rows:20,theme:{background:"#1e1e1e",foreground:"#d4d4d4",cursor:"#d4d4d4",cursorAccent:"#1e1e1e",selection:"rgba(255, 255, 255, 0.3)",black:"#1e1e1e",red:"#ce4e4e",green:"#6A9955",yellow:"#d7ba7d",blue:"#569cd6",magenta:"#c586c0",cyan:"#4ec9b0",white:"#d4d4d4",brightBlack:"#808080",brightRed:"#f44747",brightGreen:"#73c991",brightYellow:"#dcdcaa",brightBlue:"#9cdcfe",brightMagenta:"#d7bfdc",brightCyan:"#9cdcfe",brightWhite:"#ffffff"},fontFamily:'Menlo, Monaco, "Courier New", monospace',fontSize:14,lineHeight:1.2,cursorBlink:!0,scrollback:1e3});L.open(j.current),L.onData(K=>{co.emit("terminal:write",K)});function M(K){L.write(K)}co.on("terminal:data",M)},[]),Ie.jsx("div",{ref:j,id:"terminal"})},lm=()=>Ie.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Ie.jsx("path",{d:"M13.5 4.5L10 1H3.5C2.67 1 2 1.67 2 2.5V13.5C2 14.33 2.67 15 3.5 15H12.5C13.33 15 14 14.33 14 13.5V5.5C14 5.22 13.78 5 13.5 5H10V1.5C10 1.22 9.78 1 9.5 1H10L13.5 4.5Z",fill:"currentColor"})}),cm=({isOpen:j})=>Ie.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:j?Ie.jsx("path",{d:"M14.5 4H8.5L7 2.5H1.5C0.67 2.5 0 3.17 0 4V12C0 12.83 0.67 13.5 1.5 13.5H14.5C15.33 13.5 16 12.83 16 12V5.5C16 4.67 15.33 4 14.5 4Z",fill:"currentColor"}):Ie.jsx("path",{d:"M14.5 4H7.5L6 2.5H1.5C0.67 2.5 0 3.17 0 4V12C0 12.83 0.67 13.5 1.5 13.5H14.5C15.33 13.5 16 12.83 16 12V5.5C16 4.67 15.33 4 14.5 4ZM14.5 12H1.5V5.5H14.5V12Z",fill:"currentColor"})}),op=({fileName:j,nodes:I,onSelect:L,path:M,selectedFile:K})=>{const[D,x]=kt.useState(!0),v=!!I,h=M===K,d=i=>{i.stopPropagation(),v&&x(!D)},s=i=>{i.stopPropagation(),v?d(i):L(M)};return j==="node_modules"?null:Ie.jsxs("div",{onClick:s,children:[Ie.jsxs("div",{className:`tree-node ${h?"active":""}`,children:[v?Ie.jsx(cm,{isOpen:D}):Ie.jsx(lm,{}),Ie.jsx("span",{children:j})]}),v&&D&&Ie.jsx("div",{style:{marginLeft:"16px"},children:Object.keys(I).map(i=>Ie.jsx(op,{onSelect:L,path:M+"/"+i,fileName:i,nodes:I[i],selectedFile:K},i))})]})},hm=({tree:j,onSelect:I,selectedFile:L})=>Ie.jsx("div",{children:Ie.jsx(op,{onSelect:I,fileName:"/",path:"",nodes:j,selectedFile:L})});var zn={},Fn={},Nc={exports:{}},Rd;function Aa(){return Rd||(Rd=1,function(j,I){(function(){var L="ace",M=function(){return this}();!M&&typeof window<"u"&&(M=window);var K=function(s,i,r){if(typeof s!="string"){K.original?K.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(r=i),K.modules[s]||(K.payloads[s]=r,K.modules[s]=null)};K.modules={},K.payloads={};var D=function(s,i,r){if(typeof i=="string"){var n=h(s,i);if(n!=null)return r&&r(),n}else if(Object.prototype.toString.call(i)==="[object Array]"){for(var o=[],a=0,l=i.length;a<l;++a){var f=h(s,i[a]);if(f==null&&x.original)return;o.push(f)}return r&&r.apply(null,o)||!0}},x=function(s,i){var r=D("",s,i);return r==null&&x.original?x.original.apply(this,arguments):r},v=function(s,i){if(i.indexOf("!")!==-1){var r=i.split("!");return v(s,r[0])+"!"+v(s,r[1])}if(i.charAt(0)=="."){var n=s.split("/").slice(0,-1).join("/");for(i=n+"/"+i;i.indexOf(".")!==-1&&o!=i;){var o=i;i=i.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return i},h=function(s,i){i=v(s,i);var r=K.modules[i];if(!r){if(r=K.payloads[i],typeof r=="function"){var n={},o={id:i,uri:"",exports:n,packaged:!0},a=function(f,u){return D(i,f,u)},l=r(a,n,o);n=l||o.exports,K.modules[i]=n,delete K.payloads[i]}r=K.modules[i]=n||r}return r};function d(s){var i=M;M[s]||(M[s]={}),i=M[s],(!i.define||!i.define.packaged)&&(K.original=i.define,i.define=K,i.define.packaged=!0),(!i.require||!i.require.packaged)&&(x.original=i.require,i.require=x,i.require.packaged=!0)}d(L)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(L,M,K){function D(x,v,h){Object.defineProperty(x,v,{value:h,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||D(String.prototype,"startsWith",function(x,v){return v=v||0,this.lastIndexOf(x,v)===v}),String.prototype.endsWith||D(String.prototype,"endsWith",function(x,v){var h=this;(v===void 0||v>h.length)&&(v=h.length),v-=x.length;var d=h.indexOf(x,v);return d!==-1&&d===v}),String.prototype.repeat||D(String.prototype,"repeat",function(x){for(var v="",h=this;x>0;)x&1&&(v+=h),(x>>=1)&&(h+=h);return v}),String.prototype.includes||D(String.prototype,"includes",function(x,v){return this.indexOf(x,v)!=-1}),Object.assign||(Object.assign=function(x){if(x==null)throw new TypeError("Cannot convert undefined or null to object");for(var v=Object(x),h=1;h<arguments.length;h++){var d=arguments[h];d!=null&&Object.keys(d).forEach(function(s){v[s]=d[s]})}return v}),Object.values||(Object.values=function(x){return Object.keys(x).map(function(v){return x[v]})}),Array.prototype.find||D(Array.prototype,"find",function(x){for(var v=this.length,h=arguments[1],d=0;d<v;d++){var s=this[d];if(x.call(h,s,d,this))return s}}),Array.prototype.findIndex||D(Array.prototype,"findIndex",function(x){for(var v=this.length,h=arguments[1],d=0;d<v;d++){var s=this[d];if(x.call(h,s,d,this))return d}}),Array.prototype.includes||D(Array.prototype,"includes",function(x,v){return this.indexOf(x,v)!=-1}),Array.prototype.fill||D(Array.prototype,"fill",function(x){for(var v=this,h=v.length>>>0,d=arguments[1],s=d>>0,i=s<0?Math.max(h+s,0):Math.min(s,h),r=arguments[2],n=r===void 0?h:r>>0,o=n<0?Math.max(h+n,0):Math.min(n,h);i<o;)v[i]=x,i++;return v}),Array.of||D(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(L,M,K){L("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(L,M,K){M.deepCopy=function D(x){if(typeof x!="object"||!x)return x;var v;if(Array.isArray(x)){v=[];for(var h=0;h<x.length;h++)v[h]=D(x[h]);return v}if(Object.prototype.toString.call(x)!=="[object Object]")return x;v={};for(var h in x)v[h]=D(x[h]);return v}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(L,M,K){M.last=function(v){return v[v.length-1]},M.stringReverse=function(v){return v.split("").reverse().join("")},M.stringRepeat=function(v,h){for(var d="";h>0;)h&1&&(d+=v),(h>>=1)&&(v+=v);return d};var D=/^\s\s*/,x=/\s\s*$/;M.stringTrimLeft=function(v){return v.replace(D,"")},M.stringTrimRight=function(v){return v.replace(x,"")},M.copyObject=function(v){var h={};for(var d in v)h[d]=v[d];return h},M.copyArray=function(v){for(var h=[],d=0,s=v.length;d<s;d++)v[d]&&typeof v[d]=="object"?h[d]=this.copyObject(v[d]):h[d]=v[d];return h},M.deepCopy=L("./deep_copy").deepCopy,M.arrayToMap=function(v){for(var h={},d=0;d<v.length;d++)h[v[d]]=1;return h},M.createMap=function(v){var h=Object.create(null);for(var d in v)h[d]=v[d];return h},M.arrayRemove=function(v,h){for(var d=0;d<=v.length;d++)h===v[d]&&v.splice(d,1)},M.escapeRegExp=function(v){return v.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},M.escapeHTML=function(v){return(""+v).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},M.getMatchOffsets=function(v,h){var d=[];return v.replace(h,function(s){d.push({offset:arguments[arguments.length-2],length:s.length})}),d},M.deferredCall=function(v){var h=null,d=function(){h=null,v()},s=function(i){return s.cancel(),h=setTimeout(d,i||0),s};return s.schedule=s,s.call=function(){return this.cancel(),v(),s},s.cancel=function(){return clearTimeout(h),h=null,s},s.isPending=function(){return h},s},M.delayedCall=function(v,h){var d=null,s=function(){d=null,v()},i=function(r){d==null&&(d=setTimeout(s,r||h))};return i.delay=function(r){d&&clearTimeout(d),d=setTimeout(s,r||h)},i.schedule=i,i.call=function(){this.cancel(),v()},i.cancel=function(){d&&clearTimeout(d),d=null},i.isPending=function(){return d},i},M.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},M.skipEmptyMatch=function(v,h,d){return d&&v.codePointAt(h)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(L,M,K){M.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},M.getOS=function(){return M.isMac?M.OS.MAC:M.isLinux?M.OS.LINUX:M.OS.WINDOWS};var D=typeof navigator=="object"?navigator:{},x=(/mac|win|linux/i.exec(D.platform)||["other"])[0].toLowerCase(),v=D.userAgent||"",h=D.appName||"";M.isWin=x=="win",M.isMac=x=="mac",M.isLinux=x=="linux",M.isIE=h=="Microsoft Internet Explorer"||h.indexOf("MSAppHost")>=0?parseFloat((v.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((v.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),M.isOldIE=M.isIE&&M.isIE<9,M.isGecko=M.isMozilla=v.match(/ Gecko\/\d+/),M.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",M.isWebKit=parseFloat(v.split("WebKit/")[1])||void 0,M.isChrome=parseFloat(v.split(" Chrome/")[1])||void 0,M.isSafari=parseFloat(v.split(" Safari/")[1])&&!M.isChrome||void 0,M.isEdge=parseFloat(v.split(" Edge/")[1])||void 0,M.isAIR=v.indexOf("AdobeAIR")>=0,M.isAndroid=v.indexOf("Android")>=0,M.isChromeOS=v.indexOf(" CrOS ")>=0,M.isIOS=/iPad|iPhone|iPod/.test(v)&&!window.MSStream,M.isIOS&&(M.isMac=!0),M.isMobile=M.isIOS||M.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(L,M,K){var D=L("./useragent"),x="http://www.w3.org/1999/xhtml";M.buildDom=function r(n,o,a){if(typeof n=="string"&&n){var l=document.createTextNode(n);return o&&o.appendChild(l),l}if(!Array.isArray(n))return n&&n.appendChild&&o&&o.appendChild(n),n;if(typeof n[0]!="string"||!n[0]){for(var f=[],u=0;u<n.length;u++){var g=r(n[u],o,a);g&&f.push(g)}return f}var y=document.createElement(n[0]),_=n[1],p=1;_&&typeof _=="object"&&!Array.isArray(_)&&(p=2);for(var u=p;u<n.length;u++)r(n[u],y,a);return p==2&&Object.keys(_).forEach(function(S){var b=_[S];S==="class"?y.className=Array.isArray(b)?b.join(" "):b:typeof b=="function"||S=="value"||S[0]=="$"?y[S]=b:S==="ref"?a&&(a[b]=y):S==="style"?typeof b=="string"&&(y.style.cssText=b):b!=null&&y.setAttribute(S,b)}),o&&o.appendChild(y),y},M.getDocumentHead=function(r){return r||(r=document),r.head||r.getElementsByTagName("head")[0]||r.documentElement},M.createElement=function(r,n){return document.createElementNS?document.createElementNS(n||x,r):document.createElement(r)},M.removeChildren=function(r){r.innerHTML=""},M.createTextNode=function(r,n){var o=n?n.ownerDocument:document;return o.createTextNode(r)},M.createFragment=function(r){var n=r?r.ownerDocument:document;return n.createDocumentFragment()},M.hasCssClass=function(r,n){var o=(r.className+"").split(/\s+/g);return o.indexOf(n)!==-1},M.addCssClass=function(r,n){M.hasCssClass(r,n)||(r.className+=" "+n)},M.removeCssClass=function(r,n){for(var o=r.className.split(/\s+/g);;){var a=o.indexOf(n);if(a==-1)break;o.splice(a,1)}r.className=o.join(" ")},M.toggleCssClass=function(r,n){for(var o=r.className.split(/\s+/g),a=!0;;){var l=o.indexOf(n);if(l==-1)break;a=!1,o.splice(l,1)}return a&&o.push(n),r.className=o.join(" "),a},M.setCssClass=function(r,n,o){o?M.addCssClass(r,n):M.removeCssClass(r,n)},M.hasCssString=function(r,n){var o=0,a;if(n=n||document,a=n.querySelectorAll("style")){for(;o<a.length;)if(a[o++].id===r)return!0}},M.removeElementById=function(r,n){n=n||document,n.getElementById(r)&&n.getElementById(r).remove()};var v,h=[];M.useStrictCSP=function(r){v=r,r==!1?d():h||(h=[])};function d(){var r=h;h=null,r&&r.forEach(function(n){s(n[0],n[1])})}function s(r,n,o){if(!(typeof document>"u")){if(h){if(o)d();else if(o===!1)return h.push([r,n])}if(!v){var a=o;!o||!o.getRootNode?a=document:(a=o.getRootNode(),(!a||a==o)&&(a=document));var l=a.ownerDocument||a;if(n&&M.hasCssString(n,a))return null;n&&(r+=`
/*# sourceURL=ace/css/`+n+" */");var f=M.createElement("style");f.appendChild(l.createTextNode(r)),n&&(f.id=n),a==l&&(a=M.getDocumentHead(l)),a.insertBefore(f,a.firstChild)}}}if(M.importCssString=s,M.importCssStylsheet=function(r,n){M.buildDom(["link",{rel:"stylesheet",href:r}],M.getDocumentHead(n))},M.scrollbarWidth=function(r){var n=M.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var o=M.createElement("ace_outer"),a=o.style;a.position="absolute",a.left="-10000px",a.overflow="hidden",a.width="200px",a.minWidth="0px",a.height="150px",a.display="block",o.appendChild(n);var l=r&&r.documentElement||document&&document.documentElement;if(!l)return 0;l.appendChild(o);var f=n.offsetWidth;a.overflow="scroll";var u=n.offsetWidth;return f===u&&(u=o.clientWidth),l.removeChild(o),f-u},M.computedStyle=function(r,n){return window.getComputedStyle(r,"")||{}},M.setStyle=function(r,n,o){r[n]!==o&&(r[n]=o)},M.HAS_CSS_ANIMATION=!1,M.HAS_CSS_TRANSFORMS=!1,M.HI_DPI=D.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,D.isChromeOS&&(M.HI_DPI=!1),typeof document<"u"){var i=document.createElement("div");M.HI_DPI&&i.style.transform!==void 0&&(M.HAS_CSS_TRANSFORMS=!0),!D.isEdge&&typeof i.style.animationName<"u"&&(M.HAS_CSS_ANIMATION=!0),i=null}M.HAS_CSS_TRANSFORMS?M.translate=function(r,n,o){r.style.transform="translate("+Math.round(n)+"px, "+Math.round(o)+"px)"}:M.translate=function(r,n,o){r.style.top=Math.round(o)+"px",r.style.left=Math.round(n)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(L,M,K){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var D=L("./dom");M.get=function(x,v){var h=new XMLHttpRequest;h.open("GET",x,!0),h.onreadystatechange=function(){h.readyState===4&&v(h.responseText)},h.send(null)},M.loadScript=function(x,v){var h=D.getDocumentHead(),d=document.createElement("script");d.src=x,h.appendChild(d),d.onload=d.onreadystatechange=function(s,i){(i||!d.readyState||d.readyState=="loaded"||d.readyState=="complete")&&(d=d.onload=d.onreadystatechange=null,i||v())}},M.qualifyURL=function(x){var v=document.createElement("a");return v.href=x,v.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(L,M,K){M.inherits=function(D,x){D.super_=x,D.prototype=Object.create(x.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}})},M.mixin=function(D,x){for(var v in x)D[v]=x[v];return D},M.implement=function(D,x){M.mixin(D,x)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(L,M,K){var D={},x=function(){this.propagationStopped=!0},v=function(){this.defaultPrevented=!0};D._emit=D._dispatchEvent=function(h,d){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var s=this._eventRegistry[h]||[],i=this._defaultHandlers[h];if(!(!s.length&&!i)){(typeof d!="object"||!d)&&(d={}),d.type||(d.type=h),d.stopPropagation||(d.stopPropagation=x),d.preventDefault||(d.preventDefault=v),s=s.slice();for(var r=0;r<s.length&&(s[r](d,this),!d.propagationStopped);r++);if(i&&!d.defaultPrevented)return i(d,this)}},D._signal=function(h,d){var s=(this._eventRegistry||{})[h];if(s){s=s.slice();for(var i=0;i<s.length;i++)s[i](d,this)}},D.once=function(h,d){var s=this;if(this.on(h,function i(){s.off(h,i),d.apply(null,arguments)}),!d)return new Promise(function(i){d=i})},D.setDefaultHandler=function(h,d){var s=this._defaultHandlers;if(s||(s=this._defaultHandlers={_disabled_:{}}),s[h]){var i=s[h],r=s._disabled_[h];r||(s._disabled_[h]=r=[]),r.push(i);var n=r.indexOf(d);n!=-1&&r.splice(n,1)}s[h]=d},D.removeDefaultHandler=function(h,d){var s=this._defaultHandlers;if(s){var i=s._disabled_[h];if(s[h]==d)i&&this.setDefaultHandler(h,i.pop());else if(i){var r=i.indexOf(d);r!=-1&&i.splice(r,1)}}},D.on=D.addEventListener=function(h,d,s){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[h];return i||(i=this._eventRegistry[h]=[]),i.indexOf(d)==-1&&i[s?"unshift":"push"](d),d},D.off=D.removeListener=D.removeEventListener=function(h,d){this._eventRegistry=this._eventRegistry||{};var s=this._eventRegistry[h];if(s){var i=s.indexOf(d);i!==-1&&s.splice(i,1)}},D.removeAllListeners=function(h){h||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[h]=void 0),this._defaultHandlers&&(this._defaultHandlers[h]=void 0)},M.EventEmitter=D}),ace.define("ace/lib/report_error",["require","exports","module"],function(L,M,K){M.reportError=function(x,v){var h=new Error(x);h.data=v,typeof console=="object"&&console.error&&console.error(h),setTimeout(function(){throw h})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(L,M,K){var D={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor gutter","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions","editor.tooltip.disable-editing":"Editing is disabled"};M.defaultEnglishMessages=D}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(L,M,K){"no use strict";var D=L("./oop"),x=L("./event_emitter").EventEmitter,v=L("./report_error").reportError,h=L("./default_english_messages").defaultEnglishMessages,d={setOptions:function(o){Object.keys(o).forEach(function(a){this.setOption(a,o[a])},this)},getOptions:function(o){var a={};if(o)Array.isArray(o)||(a=o,o=Object.keys(a));else{var l=this.$options;o=Object.keys(l).filter(function(f){return!l[f].hidden})}return o.forEach(function(f){a[f]=this.getOption(f)},this),a},setOption:function(o,a){if(this["$"+o]!==a){var l=this.$options[o];if(!l)return s('misspelled option "'+o+'"');if(l.forwardTo)return this[l.forwardTo]&&this[l.forwardTo].setOption(o,a);l.handlesSet||(this["$"+o]=a),l&&l.set&&l.set.call(this,a)}},getOption:function(o){var a=this.$options[o];return a?a.forwardTo?this[a.forwardTo]&&this[a.forwardTo].getOption(o):a&&a.get?a.get.call(this):this["$"+o]:s('misspelled option "'+o+'"')}};function s(o){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var i,r,n=function(){function o(){this.$defaultOptions={},i=h,r="dollarSigns"}return o.prototype.defineOptions=function(a,l,f){return a.$options||(this.$defaultOptions[l]=a.$options={}),Object.keys(f).forEach(function(u){var g=f[u];typeof g=="string"&&(g={forwardTo:g}),g.name||(g.name=u),a.$options[g.name]=g,"initialValue"in g&&(a["$"+g.name]=g.initialValue)}),D.implement(a,d),this},o.prototype.resetOptions=function(a){Object.keys(a.$options).forEach(function(l){var f=a.$options[l];"value"in f&&a.setOption(l,f.value)})},o.prototype.setDefaultValue=function(a,l,f){if(!a){for(a in this.$defaultOptions)if(this.$defaultOptions[a][l])break;if(!this.$defaultOptions[a][l])return!1}var u=this.$defaultOptions[a]||(this.$defaultOptions[a]={});u[l]&&(u.forwardTo?this.setDefaultValue(u.forwardTo,l,f):u[l].value=f)},o.prototype.setDefaultValues=function(a,l){Object.keys(l).forEach(function(f){this.setDefaultValue(a,f,l[f])},this)},o.prototype.setMessages=function(a,l){i=a,l&&l.placeholders&&(r=l.placeholders)},o.prototype.nls=function(a,l,f){i[a]||(s("No message found for the key '"+a+"' in messages with id "+i.$id+", trying to find a translation for the default string '"+l+"'."),i[l]||s("No message found for the default string '"+l+"' in the provided messages. Falling back to the default English message."));var u=i[a]||i[l]||l;return f&&(r==="dollarSigns"&&(u=u.replace(/\$(\$|[\d]+)/g,function(g,y){return y=="$"?"$":f[y]})),r==="curlyBrackets"&&(u=u.replace(/\{([^\}]+)\}/g,function(g,y){return f[y]}))),u},o}();n.prototype.warn=s,n.prototype.reportError=v,D.implement(n.prototype,x),M.AppConfig=n}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(L,M,K){K.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(L,M,K){M.isDark=!1,M.cssClass="ace-tm",M.cssText=L("./textmate-css"),M.$id="ace/theme/textmate";var D=L("../lib/dom");D.importCssString(M.cssText,M.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(L,M,K){"no use strict";var D=L("./lib/lang"),x=L("./lib/net"),v=L("./lib/dom"),h=L("./lib/app_config").AppConfig;K.exports=M=new h;var d={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};M.get=function(n){if(!d.hasOwnProperty(n))throw new Error("Unknown config key: "+n);return d[n]},M.set=function(n,o){if(d.hasOwnProperty(n))d[n]=o;else if(this.setDefaultValue("",n,o)==!1)throw new Error("Unknown config key: "+n);n=="useStrictCSP"&&v.useStrictCSP(o)},M.all=function(){return D.copyObject(d)},M.$modes={},M.moduleUrl=function(n,o){if(d.$moduleUrls[n])return d.$moduleUrls[n];var a=n.split("/");o=o||a[a.length-2]||"";var l=o=="snippets"?"/":"-",f=a[a.length-1];if(o=="worker"&&l=="-"){var u=new RegExp("^"+o+"[\\-_]|[\\-_]"+o+"$","g");f=f.replace(u,"")}(!f||f==o)&&a.length>1&&(f=a[a.length-2]);var g=d[o+"Path"];return g==null?g=d.basePath:l=="/"&&(o=l=""),g&&g.slice(-1)!="/"&&(g+="/"),g+o+l+f+this.get("suffix")},M.setModuleUrl=function(n,o){return d.$moduleUrls[n]=o};var s=function(n,o){if(n==="ace/theme/textmate"||n==="./theme/textmate")return o(null,L("./theme/textmate"));if(i)return i(n,o);console.error("loader is not configured")},i;M.setLoader=function(n){i=n},M.dynamicModules=Object.create(null),M.$loading={},M.$loaded={},M.loadModule=function(n,o){var a;if(Array.isArray(n))var l=n[0],f=n[1];else if(typeof n=="string")var f=n;var u=function(g){if(g&&!M.$loading[f])return o&&o(g);if(M.$loading[f]||(M.$loading[f]=[]),M.$loading[f].push(o),!(M.$loading[f].length>1)){var y=function(){s(f,function(_,p){p&&(M.$loaded[f]=p),M._emit("load.module",{name:f,module:p});var S=M.$loading[f];M.$loading[f]=null,S.forEach(function(b){b&&b(p)})})};if(!M.get("packaged"))return y();x.loadScript(M.moduleUrl(f,l),y),r()}};if(M.dynamicModules[f])M.dynamicModules[f]().then(function(g){g.default?u(g.default):u(g)});else{try{a=this.$require(f)}catch{}u(a||M.$loaded[f])}},M.$require=function(n){if(typeof K.require=="function"){var o="require";return K[o](n)}},M.setModuleLoader=function(n,o){M.dynamicModules[n]=o};var r=function(){!d.basePath&&!d.workerPath&&!d.modePath&&!d.themePath&&!Object.keys(d.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),r=function(){})};M.version="1.39.1"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(L,M,K){L("./lib/fixoldbrowsers");var D=L("./config");D.setLoader(function(d,s){L([d],function(i){s(null,i)})});var x=function(){return this||typeof window<"u"&&window}();K.exports=function(d){D.init=v,D.$require=L,d.require=L},v(!0);function v(d){if(!(!x||!x.document)){D.set("packaged",d||L.packaged||K.packaged||x.define&&(void 0).packaged);var s={},i="",r=document.currentScript||document._currentScript,n=r&&r.ownerDocument||document;r&&r.src&&(i=r.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var o=n.getElementsByTagName("script"),a=0;a<o.length;a++){var l=o[a],f=l.src||l.getAttribute("src");if(f){for(var u=l.attributes,g=0,y=u.length;g<y;g++){var _=u[g];_.name.indexOf("data-ace-")===0&&(s[h(_.name.replace(/^data-ace-/,""))]=_.value)}var p=f.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);p&&(i=p[1])}}i&&(s.base=s.base||i,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base;for(var S in s)typeof s[S]<"u"&&D.set(S,s[S])}}function h(d){return d.replace(/-(.)/g,function(s,i){return i.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(L,M,K){var D=function(){function x(v,h,d,s){this.start={row:v,column:h},this.end={row:d,column:s}}return x.prototype.isEqual=function(v){return this.start.row===v.start.row&&this.end.row===v.end.row&&this.start.column===v.start.column&&this.end.column===v.end.column},x.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},x.prototype.contains=function(v,h){return this.compare(v,h)==0},x.prototype.compareRange=function(v){var h,d=v.end,s=v.start;return h=this.compare(d.row,d.column),h==1?(h=this.compare(s.row,s.column),h==1?2:h==0?1:0):h==-1?-2:(h=this.compare(s.row,s.column),h==-1?-1:h==1?42:0)},x.prototype.comparePoint=function(v){return this.compare(v.row,v.column)},x.prototype.containsRange=function(v){return this.comparePoint(v.start)==0&&this.comparePoint(v.end)==0},x.prototype.intersects=function(v){var h=this.compareRange(v);return h==-1||h==0||h==1},x.prototype.isEnd=function(v,h){return this.end.row==v&&this.end.column==h},x.prototype.isStart=function(v,h){return this.start.row==v&&this.start.column==h},x.prototype.setStart=function(v,h){typeof v=="object"?(this.start.column=v.column,this.start.row=v.row):(this.start.row=v,this.start.column=h)},x.prototype.setEnd=function(v,h){typeof v=="object"?(this.end.column=v.column,this.end.row=v.row):(this.end.row=v,this.end.column=h)},x.prototype.inside=function(v,h){return this.compare(v,h)==0?!(this.isEnd(v,h)||this.isStart(v,h)):!1},x.prototype.insideStart=function(v,h){return this.compare(v,h)==0?!this.isEnd(v,h):!1},x.prototype.insideEnd=function(v,h){return this.compare(v,h)==0?!this.isStart(v,h):!1},x.prototype.compare=function(v,h){return!this.isMultiLine()&&v===this.start.row?h<this.start.column?-1:h>this.end.column?1:0:v<this.start.row?-1:v>this.end.row?1:this.start.row===v?h>=this.start.column?0:-1:this.end.row===v?h<=this.end.column?0:1:0},x.prototype.compareStart=function(v,h){return this.start.row==v&&this.start.column==h?-1:this.compare(v,h)},x.prototype.compareEnd=function(v,h){return this.end.row==v&&this.end.column==h?1:this.compare(v,h)},x.prototype.compareInside=function(v,h){return this.end.row==v&&this.end.column==h?1:this.start.row==v&&this.start.column==h?-1:this.compare(v,h)},x.prototype.clipRows=function(v,h){if(this.end.row>h)var d={row:h+1,column:0};else if(this.end.row<v)var d={row:v,column:0};if(this.start.row>h)var s={row:h+1,column:0};else if(this.start.row<v)var s={row:v,column:0};return x.fromPoints(s||this.start,d||this.end)},x.prototype.extend=function(v,h){var d=this.compare(v,h);if(d==0)return this;if(d==-1)var s={row:v,column:h};else var i={row:v,column:h};return x.fromPoints(s||this.start,i||this.end)},x.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},x.prototype.isMultiLine=function(){return this.start.row!==this.end.row},x.prototype.clone=function(){return x.fromPoints(this.start,this.end)},x.prototype.collapseRows=function(){return this.end.column==0?new x(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new x(this.start.row,0,this.end.row,0)},x.prototype.toScreenRange=function(v){var h=v.documentToScreenPosition(this.start),d=v.documentToScreenPosition(this.end);return new x(h.row,h.column,d.row,d.column)},x.prototype.moveBy=function(v,h){this.start.row+=v,this.start.column+=h,this.end.row+=v,this.end.column+=h},x}();D.fromPoints=function(x,v){return new D(x.row,x.column,v.row,v.column)},D.comparePoints=function(x,v){return x.row-v.row||x.column-v.column},M.Range=D}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(L,M,K){for(var D=L("./oop"),x={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},v={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},h=0;h<10;h++)v["Digit"+h]=48+h,v["Numpad"+h]=96+h,x.PRINTABLE_KEYS[48+h]=""+h,x.FUNCTION_KEYS[96+h]="Numpad"+h;for(var h=65;h<91;h++){var d=String.fromCharCode(h+32);v["Key"+d.toUpperCase()]=h,x.PRINTABLE_KEYS[h]=d}for(var h=1;h<13;h++)v["F"+h]=111+h,x.FUNCTION_KEYS[111+h]="F"+h;var s={Shift:16,Control:17,Alt:18,Meta:224};for(var i in s)v[i]=v[i+"Left"]=v[i+"Right"]=s[i];M.$codeToKeyCode=v,x.PRINTABLE_KEYS[173]="-";for(var r in x.FUNCTION_KEYS){var n=x.FUNCTION_KEYS[r].toLowerCase();x[n]=parseInt(r,10)}for(var r in x.PRINTABLE_KEYS){var n=x.PRINTABLE_KEYS[r].toLowerCase();x[n]=parseInt(r,10)}D.mixin(x,x.MODIFIER_KEYS),D.mixin(x,x.PRINTABLE_KEYS),D.mixin(x,x.FUNCTION_KEYS),x.enter=x.return,x.escape=x.esc,x.del=x.delete,function(){for(var o=["cmd","ctrl","alt","shift"],a=Math.pow(2,o.length);a--;)x.KEY_MODS[a]=o.filter(function(l){return a&x.KEY_MODS[l]}).join("-")+"-"}(),x.KEY_MODS[0]="",x.KEY_MODS[-1]="input-",D.mixin(M,x),M.default=M,M.keyCodeToString=function(o){var a=x[o];return typeof a!="string"&&(a=String.fromCharCode(o)),a.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(L,M,K){var D=L("./keys"),x=L("./useragent"),v=null,h=0,d;function s(){d=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return d={passive:!1},!0}})}catch{}}function i(){return d==null&&s(),d}function r(g,y,_){this.elem=g,this.type=y,this.callback=_}r.prototype.destroy=function(){o(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var n=M.addListener=function(g,y,_,p){g.addEventListener(y,_,i()),p&&p.$toDestroy.push(new r(g,y,_))},o=M.removeListener=function(g,y,_){g.removeEventListener(y,_,i())};M.stopEvent=function(g){return M.stopPropagation(g),M.preventDefault(g),!1},M.stopPropagation=function(g){g.stopPropagation&&g.stopPropagation()},M.preventDefault=function(g){g.preventDefault&&g.preventDefault()},M.getButton=function(g){return g.type=="dblclick"?0:g.type=="contextmenu"||x.isMac&&g.ctrlKey&&!g.altKey&&!g.shiftKey?2:g.button},M.capture=function(g,y,_){var p=g&&g.ownerDocument||document;function S(b){y&&y(b),_&&_(b),o(p,"mousemove",y),o(p,"mouseup",S),o(p,"dragstart",S)}return n(p,"mousemove",y),n(p,"mouseup",S),n(p,"dragstart",S),S},M.addMouseWheelListener=function(g,y,_){n(g,"wheel",function(p){var S=.15,b=p.deltaX||0,w=p.deltaY||0;switch(p.deltaMode){case p.DOM_DELTA_PIXEL:p.wheelX=b*S,p.wheelY=w*S;break;case p.DOM_DELTA_LINE:var R=15;p.wheelX=b*R,p.wheelY=w*R;break;case p.DOM_DELTA_PAGE:var H=150;p.wheelX=b*H,p.wheelY=w*H;break}y(p)},_)},M.addMultiMouseDownListener=function(g,y,_,p,S){var b=0,w,R,H,k={2:"dblclick",3:"tripleclick",4:"quadclick"};function E(A){if(M.getButton(A)!==0?b=0:A.detail>1?(b++,b>4&&(b=1)):b=1,x.isIE){var C=Math.abs(A.clientX-w)>5||Math.abs(A.clientY-R)>5;(!H||C)&&(b=1),H&&clearTimeout(H),H=setTimeout(function(){H=null},y[b-1]||600),b==1&&(w=A.clientX,R=A.clientY)}if(A._clicks=b,_[p]("mousedown",A),b>4)b=0;else if(b>1)return _[p](k[b],A)}Array.isArray(g)||(g=[g]),g.forEach(function(A){n(A,"mousedown",E,S)})};function a(g){return 0|(g.ctrlKey?1:0)|(g.altKey?2:0)|(g.shiftKey?4:0)|(g.metaKey?8:0)}M.getModifierString=function(g){return D.KEY_MODS[a(g)]};function l(g,y,_){var p=a(y);if(!_&&y.code&&(_=D.$codeToKeyCode[y.code]||_),!x.isMac&&v){if(y.getModifierState&&(y.getModifierState("OS")||y.getModifierState("Win"))&&(p|=8),v.altGr)if((3&p)!=3)v.altGr=0;else return;if(_===18||_===17){var S=y.location;if(_===17&&S===1)v[_]==1&&(h=y.timeStamp);else if(_===18&&p===3&&S===2){var b=y.timeStamp-h;b<50&&(v.altGr=!0)}}}if(_ in D.MODIFIER_KEYS&&(_=-1),!(!p&&_===13&&y.location===3&&(g(y,p,-_),y.defaultPrevented))){if(x.isChromeOS&&p&8){if(g(y,p,_),y.defaultPrevented)return;p&=-9}return!p&&!(_ in D.FUNCTION_KEYS)&&!(_ in D.PRINTABLE_KEYS)?!1:g(y,p,_)}}M.addCommandKeyListener=function(g,y,_){var p=null;n(g,"keydown",function(S){v[S.keyCode]=(v[S.keyCode]||0)+1;var b=l(y,S,S.keyCode);return p=S.defaultPrevented,b},_),n(g,"keypress",function(S){p&&(S.ctrlKey||S.altKey||S.shiftKey||S.metaKey)&&(M.stopEvent(S),p=null)},_),n(g,"keyup",function(S){v[S.keyCode]=null},_),v||(f(),n(window,"focus",f))};function f(){v=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!x.isOldIE){var u=1;M.nextTick=function(g,y){y=y||window;var _="zero-timeout-message-"+u++,p=function(S){S.data==_&&(M.stopPropagation(S),o(y,"message",p),g())};n(y,"message",p),y.postMessage(_,"*")}}M.$idleBlocked=!1,M.onIdle=function(g,y){return setTimeout(function _(){M.$idleBlocked?setTimeout(_,100):g()},y)},M.$idleBlockId=null,M.blockIdle=function(g){M.$idleBlockId&&clearTimeout(M.$idleBlockId),M.$idleBlocked=!0,M.$idleBlockId=setTimeout(function(){M.$idleBlocked=!1},g||100)},M.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),M.nextFrame?M.nextFrame=M.nextFrame.bind(window):M.nextFrame=function(g){setTimeout(g,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(L,M,K){var D;K.exports={lineMode:!1,pasteCancelled:function(){return D&&D>Date.now()-50?!0:D=!1},cancel:function(){D=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(L,M,K){var D=L("../lib/event"),x=L("../config").nls,v=L("../lib/useragent"),h=L("../lib/dom"),d=L("../lib/lang"),s=L("../clipboard"),i=v.isChrome<18,r=v.isIE,n=v.isChrome>63,o=400,a=L("../lib/keys"),l=a.KEY_MODS,f=v.isIOS,u=f?/\s/:/\n/,g=v.isMobile,y;y=function(_,p){var S=h.createElement("textarea");S.className="ace_text-input",S.setAttribute("wrap","off"),S.setAttribute("autocorrect","off"),S.setAttribute("autocapitalize","off"),S.setAttribute("spellcheck","false"),S.style.opacity="0",_.insertBefore(S,_.firstChild);var b=!1,w=!1,R=!1,H=!1,k="";g||(S.style.fontSize="1px");var E=!1,A=!1,C="",$=0,z=0,F=0,N=Number.MAX_SAFE_INTEGER,B=Number.MIN_SAFE_INTEGER,P=0;try{var V=document.activeElement===S}catch{}this.setNumberOfExtraLines=function(ue){if(N=Number.MAX_SAFE_INTEGER,B=Number.MIN_SAFE_INTEGER,ue<0){P=0;return}P=ue},this.setAriaLabel=function(){var ue="";if(p.$textInputAriaLabel&&(ue+="".concat(p.$textInputAriaLabel,", ")),p.session){var ye=p.session.selection.cursor.row;ue+=x("text-input.aria-label","Cursor at row $0",[ye+1])}S.setAttribute("aria-label",ue)},this.setAriaOptions=function(ue){ue.activeDescendant?(S.setAttribute("aria-haspopup","true"),S.setAttribute("aria-autocomplete",ue.inline?"both":"list"),S.setAttribute("aria-activedescendant",ue.activeDescendant)):(S.setAttribute("aria-haspopup","false"),S.setAttribute("aria-autocomplete","both"),S.removeAttribute("aria-activedescendant")),ue.role&&S.setAttribute("role",ue.role),ue.setLabel&&(S.setAttribute("aria-roledescription",x("text-input.aria-roledescription","editor")),this.setAriaLabel())},this.setAriaOptions({role:"textbox"}),D.addListener(S,"blur",function(ue){A||(p.onBlur(ue),V=!1)},p),D.addListener(S,"focus",function(ue){if(!A){if(V=!0,v.isEdge)try{if(!document.hasFocus())return}catch{}p.onFocus(ue),v.isEdge?setTimeout(Y):Y()}},p),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:p.renderer.enableKeyboardAccessibility}),k||n||this.$focusScroll=="browser")return S.focus({preventScroll:!0});var ue=S.style.top;S.style.position="fixed",S.style.top="0px";try{var ye=S.getBoundingClientRect().top!=0}catch{return}var Se=[];if(ye)for(var De=S.parentElement;De&&De.nodeType==1;)Se.push(De),De.setAttribute("ace_nocontext","true"),!De.parentElement&&De.getRootNode?De=De.getRootNode().host:De=De.parentElement;S.focus({preventScroll:!0}),ye&&Se.forEach(function(Re){Re.removeAttribute("ace_nocontext")}),setTimeout(function(){S.style.position="",S.style.top=="0px"&&(S.style.top=ue)},0)},this.blur=function(){S.blur()},this.isFocused=function(){return V},p.on("beforeEndOperation",function(){var ue=p.curOp,ye=ue&&ue.command&&ue.command.name;if(ye!="insertstring"){var Se=ye&&(ue.docChanged||ue.selectionChanged);R&&Se&&(C=S.value="",ut()),Y()}}),p.on("changeSelection",this.setAriaLabel);var G=function(ue,ye){for(var Se=ye,De=1;De<=ue-N&&De<2*P+1;De++)Se+=p.session.getLine(ue-De).length+1;return Se},Y=f?function(ue){if(!(!V||b&&!ue||H)){ue||(ue="");var ye=`
 ab`+ue+`cde fg
`;ye!=S.value&&(S.value=C=ye);var Se=4,De=4+(ue.length||(p.selection.isEmpty()?0:1));($!=Se||z!=De)&&S.setSelectionRange(Se,De),$=Se,z=De}}:function(){if(!(R||H)&&!(!V&&!U)){R=!0;var ue=0,ye=0,Se="";if(p.session){var De=p.selection,Re=De.getRange(),je=De.cursor.row;je===B+1?(N=B+1,B=N+2*P):je===N-1?(B=N-1,N=B-2*P):(je<N-1||je>B+1)&&(N=je>P?je-P:0,B=je>P?je+P:2*P);for(var ke=[],Ve=N;Ve<=B;Ve++)ke.push(p.session.getLine(Ve));if(Se=ke.join(`
`),ue=G(Re.start.row,Re.start.column),ye=G(Re.end.row,Re.end.column),Re.start.row<N){var Be=p.session.getLine(N-1);ue=Re.start.row<N-1?0:ue,ye+=Be.length+1,Se=Be+`
`+Se}else if(Re.end.row>B){var Pe=p.session.getLine(B+1);ye=Re.end.row>B+1?Pe.length:Re.end.column,ye+=Se.length+1,Se=Se+`
`+Pe}else g&&je>0&&(Se=`
`+Se,ye+=1,ue+=1);Se.length>o&&(ue<o&&ye<o?Se=Se.slice(0,o):(Se=`
`,ue==ye?ue=ye=0:(ue=0,ye=1)));var ae=Se+`

`;ae!=C&&(S.value=C=ae,$=z=ae.length)}if(U&&($=S.selectionStart,z=S.selectionEnd),z!=ye||$!=ue||S.selectionEnd!=z)try{S.setSelectionRange(ue,ye),$=ue,z=ye}catch{}R=!1}};this.resetSelection=Y,V&&p.onFocus();var q=function(ue){return ue.selectionStart===0&&ue.selectionEnd>=C.length&&ue.value===C&&C&&ue.selectionEnd!==z},Z=function(ue){R||(b?b=!1:q(S)?(p.selectAll(),Y()):g&&S.selectionStart!=$&&Y())},Q=null;this.setInputHandler=function(ue){Q=ue},this.getInputHandler=function(){return Q};var U=!1,ie=function(ue,ye){if(U&&(U=!1),w)return Y(),ue&&p.onPaste(ue),w=!1,"";for(var Se=S.selectionStart,De=S.selectionEnd,Re=$,je=C.length-z,ke=ue,Ve=ue.length-Se,Be=ue.length-De,Pe=0;Re>0&&C[Pe]==ue[Pe];)Pe++,Re--;for(ke=ke.slice(Pe),Pe=1;je>0&&C.length-Pe>$-1&&C[C.length-Pe]==ue[ue.length-Pe];)Pe++,je--;Ve-=Pe-1,Be-=Pe-1;var ae=ke.length-Pe+1;if(ae<0&&(Re=-ae,ae=0),ke=ke.slice(0,ae),!ye&&!ke&&!Ve&&!Re&&!je&&!Be)return"";H=!0;var ve=!1;return v.isAndroid&&ke==". "&&(ke="  ",ve=!0),ke&&!Re&&!je&&!Ve&&!Be||E?p.onTextInput(ke):p.onTextInput(ke,{extendLeft:Re,extendRight:je,restoreStart:Ve,restoreEnd:Be}),H=!1,C=ue,$=Se,z=De,F=Be,ve?`
`:ke},ee=function(ue){if(R)return Ee();if(ue&&ue.inputType){if(ue.inputType=="historyUndo")return p.execCommand("undo");if(ue.inputType=="historyRedo")return p.execCommand("redo")}var ye=S.value,Se=ie(ye,!0);(ye.length>o+100||u.test(Se)||g&&$<1&&$==z)&&Y()},he=function(ue,ye,Se){var De=ue.clipboardData||window.clipboardData;if(!(!De||i)){var Re=r||Se?"Text":"text/plain";try{return ye?De.setData(Re,ye)!==!1:De.getData(Re)}catch(je){if(!Se)return he(je,ye,!0)}}},pe=function(ue,ye){var Se=p.getCopyText();if(!Se)return D.preventDefault(ue);he(ue,Se)?(f&&(Y(Se),b=Se,setTimeout(function(){b=!1},10)),ye?p.onCut():p.onCopy(),D.preventDefault(ue)):(b=!0,S.value=Se,S.select(),setTimeout(function(){b=!1,Y(),ye?p.onCut():p.onCopy()}))},be=function(ue){pe(ue,!0)},Le=function(ue){pe(ue,!1)},Te=function(ue){var ye=he(ue);s.pasteCancelled()||(typeof ye=="string"?(ye&&p.onPaste(ye,ue),v.isIE&&setTimeout(Y),D.preventDefault(ue)):(S.value="",w=!0))};D.addCommandKeyListener(S,function(ue,ye,Se){if(!R)return p.onCommandKey(ue,ye,Se)},p),D.addListener(S,"select",Z,p),D.addListener(S,"input",ee,p),D.addListener(S,"cut",be,p),D.addListener(S,"copy",Le,p),D.addListener(S,"paste",Te,p),(!("oncut"in S)||!("oncopy"in S)||!("onpaste"in S))&&D.addListener(_,"keydown",function(ue){if(!(v.isMac&&!ue.metaKey||!ue.ctrlKey))switch(ue.keyCode){case 67:Le(ue);break;case 86:Te(ue);break;case 88:be(ue);break}},p);var ze=function(ue){if(!(R||!p.onCompositionStart||p.$readOnly)&&(R={},!E)){ue.data&&(R.useTextareaForIME=!1),setTimeout(Ee,0),p._signal("compositionStart"),p.on("mousedown",Et);var ye=p.getSelectionRange();ye.end.row=ye.start.row,ye.end.column=ye.start.column,R.markerRange=ye,R.selectionStart=$,p.onCompositionStart(R),R.useTextareaForIME?(C=S.value="",$=0,z=0):(S.msGetInputContext&&(R.context=S.msGetInputContext()),S.getInputContext&&(R.context=S.getInputContext()))}},Ee=function(){if(!(!R||!p.onCompositionUpdate||p.$readOnly)){if(E)return Et();if(R.useTextareaForIME)p.onCompositionUpdate(S.value);else{var ue=S.value;ie(ue),R.markerRange&&(R.context&&(R.markerRange.start.column=R.selectionStart=R.context.compositionStartOffset),R.markerRange.end.column=R.markerRange.start.column+z-R.selectionStart+F)}}},ut=function(ue){!p.onCompositionEnd||p.$readOnly||(R=!1,p.onCompositionEnd(),p.off("mousedown",Et),ue&&ee())};function Et(){A=!0,S.blur(),S.focus(),A=!1}var Pt=d.delayedCall(Ee,50).schedule.bind(null,null);function Xt(ue){ue.keyCode==27&&S.value.length<S.selectionStart&&(R||(C=S.value),$=z=-1,Y()),Pt()}D.addListener(S,"compositionstart",ze,p),D.addListener(S,"compositionupdate",Ee,p),D.addListener(S,"keyup",Xt,p),D.addListener(S,"keydown",Pt,p),D.addListener(S,"compositionend",ut,p),this.getElement=function(){return S},this.setCommandMode=function(ue){E=ue,S.readOnly=!1},this.setReadOnly=function(ue){E||(S.readOnly=ue)},this.setCopyWithEmptySelection=function(ue){},this.onContextMenu=function(ue){U=!0,Y(),p._emit("nativecontextmenu",{target:p,domEvent:ue}),this.moveToMouse(ue,!0)},this.moveToMouse=function(ue,ye){k||(k=S.style.cssText),S.style.cssText=(ye?"z-index:100000;":"")+(v.isIE?"opacity:0.1;":"")+"text-indent: -"+($+z)*p.renderer.characterWidth*.5+"px;";var Se=p.container.getBoundingClientRect(),De=h.computedStyle(p.container),Re=Se.top+(parseInt(De.borderTopWidth)||0),je=Se.left+(parseInt(De.borderLeftWidth)||0),ke=Se.bottom-Re-S.clientHeight-2,Ve=function(Be){h.translate(S,Be.clientX-je-2,Math.min(Be.clientY-Re-2,ke))};Ve(ue),ue.type=="mousedown"&&(p.renderer.$isMousePressed=!0,clearTimeout(jt),v.isWin&&D.capture(p.container,Ve,at))},this.onContextMenuClose=at;var jt;function at(){clearTimeout(jt),jt=setTimeout(function(){k&&(S.style.cssText=k,k=""),p.renderer.$isMousePressed=!1,p.renderer.$keepTextAreaAtCursor&&p.renderer.$moveTextAreaToCursor()},0)}var ot=function(ue){p.textInput.onContextMenu(ue),at()};D.addListener(S,"mouseup",ot,p),D.addListener(S,"mousedown",function(ue){ue.preventDefault(),at()},p),D.addListener(p.renderer.scroller,"contextmenu",ot,p),D.addListener(S,"contextmenu",ot,p),f&&At(_,p,S);function At(ue,ye,Se){var De=null,Re=!1;Se.addEventListener("keydown",function(ke){De&&clearTimeout(De),Re=!0},!0),Se.addEventListener("keyup",function(ke){De=setTimeout(function(){Re=!1},100)},!0);var je=function(ke){if(document.activeElement===Se&&!(Re||R||ye.$mouseHandler.isMousePressed)&&!b){var Ve=Se.selectionStart,Be=Se.selectionEnd,Pe=null,ae=0;if(Ve==0?Pe=a.up:Ve==1?Pe=a.home:Be>z&&C[Be]==`
`?Pe=a.end:Ve<$&&C[Ve-1]==" "?(Pe=a.left,ae=l.option):Ve<$||Ve==$&&z!=$&&Ve==Be?Pe=a.left:Be>z&&C.slice(0,Be).split(`
`).length>2?Pe=a.down:Be>z&&C[Be-1]==" "?(Pe=a.right,ae=l.option):(Be>z||Be==z&&z!=$&&Ve==Be)&&(Pe=a.right),Ve!==Be&&(ae|=l.shift),Pe){var ve=ye.onCommandKey({},ae,Pe);if(!ve&&ye.commands){Pe=a.keyCodeToString(Pe);var Me=ye.commands.findKeyCommand(ae,Pe);Me&&ye.execCommand(Me)}$=Ve,z=Be,Y("")}}};document.addEventListener("selectionchange",je),ye.on("destroy",function(){document.removeEventListener("selectionchange",je)})}this.destroy=function(){S.parentElement&&S.parentElement.removeChild(S)}},M.TextInput=y,M.$setUserAgentForTests=function(_,p){g=_,f=p}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(L,M,K){var D=L("../lib/useragent"),x=0,v=550,h=function(){function i(r){r.$clickSelection=null;var n=r.editor;n.setDefaultHandler("mousedown",this.onMouseDown.bind(r)),n.setDefaultHandler("dblclick",this.onDoubleClick.bind(r)),n.setDefaultHandler("tripleclick",this.onTripleClick.bind(r)),n.setDefaultHandler("quadclick",this.onQuadClick.bind(r)),n.setDefaultHandler("mousewheel",this.onMouseWheel.bind(r));var o=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];o.forEach(function(a){r[a]=this[a]},this),r.selectByLines=this.extendSelectionBy.bind(r,"getLineRange"),r.selectByWords=this.extendSelectionBy.bind(r,"getWordRange")}return i.prototype.onMouseDown=function(r){var n=r.inSelection(),o=r.getDocumentPosition();this.mousedownEvent=r;var a=this.editor,l=r.getButton();if(l!==0){var f=a.getSelectionRange(),u=f.isEmpty();(u||l==1)&&a.selection.moveToPosition(o),l==2&&(a.textInput.onContextMenu(r.domEvent),D.isMozilla||r.preventDefault());return}if(this.mousedownEvent.time=Date.now(),n&&!a.isFocused()&&(a.focus(),this.$focusTimeout&&!this.$clickSelection&&!a.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(r);return}return this.captureMouse(r),this.startSelect(o,r.domEvent._clicks>1),r.preventDefault()},i.prototype.startSelect=function(r,n){r=r||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var o=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?o.selection.selectToPosition(r):n||o.selection.moveToPosition(r),n||this.select(),o.setStyle("ace_selecting"),this.setState("select"))},i.prototype.select=function(){var r,n=this.editor,o=n.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var a=this.$clickSelection.comparePoint(o);if(a==-1)r=this.$clickSelection.end;else if(a==1)r=this.$clickSelection.start;else{var l=s(this.$clickSelection,o);o=l.cursor,r=l.anchor}n.selection.setSelectionAnchor(r.row,r.column)}n.selection.selectToPosition(o),n.renderer.scrollCursorIntoView()},i.prototype.extendSelectionBy=function(r){var n,o=this.editor,a=o.renderer.screenToTextCoordinates(this.x,this.y),l=o.selection[r](a.row,a.column);if(this.$clickSelection){var f=this.$clickSelection.comparePoint(l.start),u=this.$clickSelection.comparePoint(l.end);if(f==-1&&u<=0)n=this.$clickSelection.end,(l.end.row!=a.row||l.end.column!=a.column)&&(a=l.start);else if(u==1&&f>=0)n=this.$clickSelection.start,(l.start.row!=a.row||l.start.column!=a.column)&&(a=l.end);else if(f==-1&&u==1)a=l.end,n=l.start;else{var g=s(this.$clickSelection,a);a=g.cursor,n=g.anchor}o.selection.setSelectionAnchor(n.row,n.column)}o.selection.selectToPosition(a),o.renderer.scrollCursorIntoView()},i.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},i.prototype.focusWait=function(){var r=d(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),n=Date.now();(r>x||n-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},i.prototype.onDoubleClick=function(r){var n=r.getDocumentPosition(),o=this.editor,a=o.session,l=a.getBracketRange(n);l?(l.isEmpty()&&(l.start.column--,l.end.column++),this.setState("select")):(l=o.selection.getWordRange(n.row,n.column),this.setState("selectByWords")),this.$clickSelection=l,this.select()},i.prototype.onTripleClick=function(r){var n=r.getDocumentPosition(),o=this.editor;this.setState("selectByLines");var a=o.getSelectionRange();a.isMultiLine()&&a.contains(n.row,n.column)?(this.$clickSelection=o.selection.getLineRange(a.start.row),this.$clickSelection.end=o.selection.getLineRange(a.end.row).end):this.$clickSelection=o.selection.getLineRange(n.row),this.select()},i.prototype.onQuadClick=function(r){var n=this.editor;n.selectAll(),this.$clickSelection=n.getSelectionRange(),this.setState("selectAll")},i.prototype.onMouseWheel=function(r){if(!r.getAccelKey()){r.getShiftKey()&&r.wheelY&&!r.wheelX&&(r.wheelX=r.wheelY,r.wheelY=0);var n=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var o=this.$lastScroll,a=r.domEvent.timeStamp,l=a-o.t,f=l?r.wheelX/l:o.vx,u=l?r.wheelY/l:o.vy;l<v&&(f=(f+o.vx)/2,u=(u+o.vy)/2);var g=Math.abs(f/u),y=!1;if(g>=1&&n.renderer.isScrollableBy(r.wheelX*r.speed,0)&&(y=!0),g<=1&&n.renderer.isScrollableBy(0,r.wheelY*r.speed)&&(y=!0),y)o.allowed=a;else if(a-o.allowed<v){var _=Math.abs(f)<=1.5*Math.abs(o.vx)&&Math.abs(u)<=1.5*Math.abs(o.vy);_?(y=!0,o.allowed=a):o.allowed=0}if(o.t=a,o.vx=f,o.vy=u,y)return n.renderer.scrollBy(r.wheelX*r.speed,r.wheelY*r.speed),r.stop()}},i}();h.prototype.selectEnd=h.prototype.selectByLinesEnd,h.prototype.selectAllEnd=h.prototype.selectByLinesEnd,h.prototype.selectByWordsEnd=h.prototype.selectByLinesEnd,M.DefaultHandlers=h;function d(i,r,n,o){return Math.sqrt(Math.pow(n-i,2)+Math.pow(o-r,2))}function s(i,r){if(i.start.row==i.end.row)var n=2*r.column-i.start.column-i.end.column;else if(i.start.row==i.end.row-1&&!i.start.column&&!i.end.column)var n=r.column-4;else var n=2*r.row-i.start.row-i.end.row;return n<0?{cursor:i.start,anchor:i.end}:{cursor:i.end,anchor:i.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(L,M,K){M.preventParentScroll=function(x){x.stopPropagation();var v=x.currentTarget,h=v.scrollHeight>v.clientHeight;h||x.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(L,M,K){var D=this&&this.__extends||function(){var a=function(l,f){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(u[y]=g[y])},a(l,f)};return function(l,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");a(l,f);function u(){this.constructor=l}l.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}(),x=this&&this.__values||function(a){var l=typeof Symbol=="function"&&Symbol.iterator,f=l&&a[l],u=0;if(f)return f.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&u>=a.length&&(a=void 0),{value:a&&a[u++],done:!a}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},v=L("./lib/dom");L("./lib/event");var h=L("./range").Range,d=L("./lib/scroll").preventParentScroll,s="ace_tooltip",i=function(){function a(l){this.isOpen=!1,this.$element=null,this.$parentNode=l}return a.prototype.$init=function(){return this.$element=v.createElement("div"),this.$element.className=s,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},a.prototype.getElement=function(){return this.$element||this.$init()},a.prototype.setText=function(l){this.getElement().textContent=l},a.prototype.setHtml=function(l){this.getElement().innerHTML=l},a.prototype.setPosition=function(l,f){this.getElement().style.left=l+"px",this.getElement().style.top=f+"px"},a.prototype.setClassName=function(l){v.addCssClass(this.getElement(),l)},a.prototype.setTheme=function(l){this.$element.className=s+" "+(l.isDark?"ace_dark ":"")+(l.cssClass||"")},a.prototype.show=function(l,f,u){l!=null&&this.setText(l),f!=null&&u!=null&&this.setPosition(f,u),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},a.prototype.hide=function(l){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=s,this.isOpen=!1)},a.prototype.getHeight=function(){return this.getElement().offsetHeight},a.prototype.getWidth=function(){return this.getElement().offsetWidth},a.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},a}(),r=function(){function a(){this.popups=[]}return a.prototype.addPopup=function(l){this.popups.push(l),this.updatePopups()},a.prototype.removePopup=function(l){var f=this.popups.indexOf(l);f!==-1&&(this.popups.splice(f,1),this.updatePopups())},a.prototype.updatePopups=function(){var l,f,u,g;this.popups.sort(function(k,E){return E.priority-k.priority});var y=[];try{for(var _=x(this.popups),p=_.next();!p.done;p=_.next()){var S=p.value,b=!0;try{for(var w=(u=void 0,x(y)),R=w.next();!R.done;R=w.next()){var H=R.value;if(this.doPopupsOverlap(H,S)){b=!1;break}}}catch(k){u={error:k}}finally{try{R&&!R.done&&(g=w.return)&&g.call(w)}finally{if(u)throw u.error}}b?y.push(S):S.hide()}}catch(k){l={error:k}}finally{try{p&&!p.done&&(f=_.return)&&f.call(_)}finally{if(l)throw l.error}}},a.prototype.doPopupsOverlap=function(l,f){var u=l.getElement().getBoundingClientRect(),g=f.getElement().getBoundingClientRect();return u.left<g.right&&u.right>g.left&&u.top<g.bottom&&u.bottom>g.top},a}(),n=new r;M.popupManager=n,M.Tooltip=i;var o=function(a){D(l,a);function l(f){f===void 0&&(f=document.body);var u=a.call(this,f)||this;u.timeout=void 0,u.lastT=0,u.idleTime=350,u.lastEvent=void 0,u.onMouseOut=u.onMouseOut.bind(u),u.onMouseMove=u.onMouseMove.bind(u),u.waitForHover=u.waitForHover.bind(u),u.hide=u.hide.bind(u);var g=u.getElement();return g.style.whiteSpace="pre-wrap",g.style.pointerEvents="auto",g.addEventListener("mouseout",u.onMouseOut),g.tabIndex=-1,g.addEventListener("blur",(function(){g.contains(document.activeElement)||this.hide()}).bind(u)),g.addEventListener("wheel",d),u}return l.prototype.addToEditor=function(f){f.on("mousemove",this.onMouseMove),f.on("mousedown",this.hide),f.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},l.prototype.removeFromEditor=function(f){f.off("mousemove",this.onMouseMove),f.off("mousedown",this.hide),f.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},l.prototype.onMouseMove=function(f,u){this.lastEvent=f,this.lastT=Date.now();var g=u.$mouseHandler.isMousePressed;if(this.isOpen){var y=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(y.row,y.column)||g||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||g||(this.lastEvent=f,this.timeout=setTimeout(this.waitForHover,this.idleTime))},l.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var f=Date.now()-this.lastT;if(this.idleTime-f>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-f);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},l.prototype.isOutsideOfText=function(f){var u=f.editor,g=f.getDocumentPosition(),y=u.session.getLine(g.row);if(g.column==y.length){var _=u.renderer.pixelToScreenCoordinates(f.clientX,f.clientY),p=u.session.documentToScreenPosition(g.row,g.column);if(p.column!=_.column||p.row!=_.row)return!0}return!1},l.prototype.setDataProvider=function(f){this.$gatherData=f},l.prototype.showForRange=function(f,u,g,y){var _=10;if(!(y&&y!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var p=f.renderer;this.isOpen||(n.addPopup(this),this.$registerCloseEvents(),this.setTheme(p.theme)),this.isOpen=!0,this.addMarker(u,f.session),this.range=h.fromPoints(u.start,u.end);var S=p.textToScreenCoordinates(u.start.row,u.start.column),b=p.scroller.getBoundingClientRect();S.pageX<b.left&&(S.pageX=b.left);var w=this.getElement();w.innerHTML="",w.appendChild(g),w.style.maxHeight="",w.style.display="block";var R=w.clientHeight,H=w.clientWidth,k=window.innerHeight-S.pageY-p.lineHeight,E=!0;S.pageY-R<0&&S.pageY<k&&(E=!1),w.style.maxHeight=(E?S.pageY:k)-_+"px",w.style.top=E?"":S.pageY+p.lineHeight+"px",w.style.bottom=E?window.innerHeight-S.pageY+"px":"",w.style.left=Math.min(S.pageX,window.innerWidth-H-_)+"px"}},l.prototype.addMarker=function(f,u){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=u,this.marker=u&&u.addMarker(f,"ace_highlight-marker","text")},l.prototype.hide=function(f){!f&&document.activeElement==this.getElement()||f&&f.target&&(f.type!="keydown"||f.ctrlKey||f.metaKey)&&this.$element.contains(f.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,n.removePopup(this)))},l.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},l.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},l.prototype.onMouseOut=function(f){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!f.relatedTarget||this.getElement().contains(f.relatedTarget)||f&&f.currentTarget.contains(f.relatedTarget)||f.relatedTarget.classList.contains("ace_content")||this.hide())},l}(i);M.HoverTooltip=o}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(L,M,K){var D=this&&this.__extends||function(){var a=function(l,f){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(u[y]=g[y])},a(l,f)};return function(l,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");a(l,f);function u(){this.constructor=l}l.prototype=f===null?Object.create(f):(u.prototype=f.prototype,new u)}}(),x=this&&this.__values||function(a){var l=typeof Symbol=="function"&&Symbol.iterator,f=l&&a[l],u=0;if(f)return f.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&u>=a.length&&(a=void 0),{value:a&&a[u++],done:!a}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},v=L("../lib/dom"),h=L("../lib/event"),d=L("../tooltip").Tooltip,s=L("../config").nls,i=5,r=3;M.GUTTER_TOOLTIP_LEFT_OFFSET=i,M.GUTTER_TOOLTIP_TOP_OFFSET=r;function n(a){var l=a.editor,f=l.renderer.$gutterLayer,u=new o(l,!0);a.editor.setDefaultHandler("guttermousedown",function(b){if(!(!l.isFocused()||b.getButton()!=0)){var w=f.getRegion(b);if(w!="foldWidgets"){var R=b.getDocumentPosition().row,H=l.session.selection;if(b.getShiftKey())H.selectTo(R,0);else{if(b.domEvent.detail==2)return l.selectAll(),b.preventDefault();a.$clickSelection=l.selection.getLineRange(R)}return a.setState("selectByLines"),a.captureMouse(b),b.preventDefault()}}});var g,y;function _(){var b=y.getDocumentPosition().row,w=l.session.getLength();if(b==w){var R=l.renderer.pixelToScreenCoordinates(0,y.y).row,H=y.$pos;if(R>l.session.documentToScreenRow(H.row,H.column))return p()}if(u.showTooltip(b),!!u.isOpen)if(l.on("mousewheel",p),l.on("changeSession",p),window.addEventListener("keydown",p,!0),a.$tooltipFollowsMouse)S(y);else{var k=y.getGutterRow(),E=f.$lines.get(k);if(E){var A=E.element.querySelector(".ace_gutter_annotation"),C=A.getBoundingClientRect(),$=u.getElement().style;$.left=C.right-i+"px",$.top=C.bottom-r+"px"}else S(y)}}function p(b){b&&b.type==="keydown"&&(b.ctrlKey||b.metaKey)||b&&b.type==="mouseout"&&(!b.relatedTarget||u.getElement().contains(b.relatedTarget))||(g&&(g=clearTimeout(g)),u.isOpen&&(u.hideTooltip(),l.off("mousewheel",p),l.off("changeSession",p),window.removeEventListener("keydown",p,!0)))}function S(b){u.setPosition(b.x,b.y)}a.editor.setDefaultHandler("guttermousemove",function(b){var w=b.domEvent.target||b.domEvent.srcElement;if(v.hasCssClass(w,"ace_fold-widget"))return p();u.isOpen&&a.$tooltipFollowsMouse&&S(b),y=b,!g&&(g=setTimeout(function(){g=null,y&&!a.isMousePressed&&_()},50))}),h.addListener(l.renderer.$gutter,"mouseout",function(b){y=null,u.isOpen&&(g=setTimeout(function(){g=null,p(b)},50))},l)}M.GutterHandler=n;var o=function(a){D(l,a);function l(f,u){u===void 0&&(u=!1);var g=a.call(this,f.container)||this;g.editor=f,g.visibleTooltipRow;var y=g.getElement();return y.setAttribute("role","tooltip"),y.style.pointerEvents="auto",u&&(g.onMouseOut=g.onMouseOut.bind(g),y.addEventListener("mouseout",g.onMouseOut)),g}return l.prototype.onMouseOut=function(f){this.isOpen&&(!f.relatedTarget||this.getElement().contains(f.relatedTarget)||f&&f.currentTarget.contains(f.relatedTarget)||this.hideTooltip())},l.prototype.setPosition=function(f,u){var g=window.innerWidth||document.documentElement.clientWidth,y=window.innerHeight||document.documentElement.clientHeight,_=this.getWidth(),p=this.getHeight();f+=15,u+=15,f+_>g&&(f-=f+_-g),u+p>y&&(u-=20+p),d.prototype.setPosition.call(this,f,u)},Object.defineProperty(l,"annotationLabels",{get:function(){return{error:{singular:s("gutter-tooltip.aria-label.error.singular","error"),plural:s("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:s("gutter-tooltip.aria-label.security.singular","security finding"),plural:s("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:s("gutter-tooltip.aria-label.warning.singular","warning"),plural:s("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:s("gutter-tooltip.aria-label.info.singular","information message"),plural:s("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:s("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:s("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),l.prototype.showTooltip=function(f){var u,g=this.editor.renderer.$gutterLayer,y=g.$annotations[f],_;y?_={displayText:Array.from(y.displayText),type:Array.from(y.type)}:_={displayText:[],type:[]};var p=g.session.getFoldLine(f);if(p&&g.$showFoldedAnnotations){for(var S={error:[],security:[],warning:[],info:[],hint:[]},b={error:1,security:2,warning:3,info:4,hint:5},w,R=f+1;R<=p.end.row;R++)if(g.$annotations[R])for(var H=0;H<g.$annotations[R].text.length;H++){var k=g.$annotations[R].type[H];S[k].push(g.$annotations[R].text[H]),(!w||b[k]<b[w])&&(w=k)}if(["error","security","warning"].includes(w)){var E="".concat(l.annotationsToSummaryString(S)," in folded code.");_.displayText.push(E),_.type.push(w+"_fold")}}if(_.displayText.length===0)return this.hideTooltip();for(var A={error:[],security:[],warning:[],info:[],hint:[]},C=g.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",R=0;R<_.displayText.length;R++){var $=v.createElement("span"),z=v.createElement("span");(u=z.classList).add.apply(u,["ace_".concat(_.type[R]),C]),z.setAttribute("aria-label","".concat(l.annotationLabels[_.type[R].replace("_fold","")].singular)),z.setAttribute("role","img"),z.appendChild(v.createTextNode(" ")),$.appendChild(z),$.appendChild(v.createTextNode(_.displayText[R])),$.appendChild(v.createElement("br")),A[_.type[R].replace("_fold","")].push($)}var F=this.getElement();v.removeChildren(F),A.error.forEach(function(N){return F.appendChild(N)}),A.security.forEach(function(N){return F.appendChild(N)}),A.warning.forEach(function(N){return F.appendChild(N)}),A.info.forEach(function(N){return F.appendChild(N)}),A.hint.forEach(function(N){return F.appendChild(N)}),F.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.visibleTooltipRow=f,this.editor._signal("showGutterTooltip",this)},l.prototype.hideTooltip=function(){this.isOpen&&(this.$element.removeAttribute("aria-live"),this.hide(),this.visibleTooltipRow=void 0,this.editor._signal("hideGutterTooltip",this))},l.annotationsToSummaryString=function(f){var u,g,y=[],_=["error","security","warning","info","hint"];try{for(var p=x(_),S=p.next();!S.done;S=p.next()){var b=S.value;if(f[b].length){var w=f[b].length===1?l.annotationLabels[b].singular:l.annotationLabels[b].plural;y.push("".concat(f[b].length," ").concat(w))}}}catch(R){u={error:R}}finally{try{S&&!S.done&&(g=p.return)&&g.call(p)}finally{if(u)throw u.error}}return y.join(", ")},l}(d);M.GutterTooltip=o}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(L,M,K){var D=L("../lib/event"),x=L("../lib/useragent"),v=function(){function h(d,s){this.speed,this.wheelX,this.wheelY,this.domEvent=d,this.editor=s,this.x=this.clientX=d.clientX,this.y=this.clientY=d.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return h.prototype.stopPropagation=function(){D.stopPropagation(this.domEvent),this.propagationStopped=!0},h.prototype.preventDefault=function(){D.preventDefault(this.domEvent),this.defaultPrevented=!0},h.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},h.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},h.prototype.getGutterRow=function(){var d=this.getDocumentPosition().row,s=this.editor.session.documentToScreenRow(d,0),i=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return s-i},h.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var d=this.editor,s=d.getSelectionRange();if(s.isEmpty())this.$inSelection=!1;else{var i=this.getDocumentPosition();this.$inSelection=s.contains(i.row,i.column)}return this.$inSelection},h.prototype.getButton=function(){return D.getButton(this.domEvent)},h.prototype.getShiftKey=function(){return this.domEvent.shiftKey},h.prototype.getAccelKey=function(){return x.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},h}();M.MouseEvent=v}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(L,M,K){var D=L("../lib/dom"),x=L("../lib/event"),v=L("../lib/useragent"),h=200,d=200,s=5;function i(n){var o=n.editor,a=D.createElement("div");a.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",a.textContent=" ";var l=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];l.forEach(function(G){n[G]=this[G]},this),o.on("mousedown",this.onMouseDown.bind(n));var f=o.container,u,g,y,_,p,S,b=0,w,R,H,k,E;this.onDragStart=function(G){if(this.cancelDrag||!f.draggable){var Y=this;return setTimeout(function(){Y.startSelect(),Y.captureMouse(G)},0),G.preventDefault()}p=o.getSelectionRange();var q=G.dataTransfer;q.effectAllowed=o.getReadOnly()?"copy":"copyMove",o.container.appendChild(a),q.setDragImage&&q.setDragImage(a,0,0),setTimeout(function(){o.container.removeChild(a)}),q.clearData(),q.setData("Text",o.session.getTextRange()),R=!0,this.setState("drag")},this.onDragEnd=function(G){if(f.draggable=!1,R=!1,this.setState(null),!o.getReadOnly()){var Y=G.dataTransfer.dropEffect;!w&&Y=="move"&&o.session.remove(o.getSelectionRange()),o.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(G){if(!(o.getReadOnly()||!P(G.dataTransfer)))return g=G.clientX,y=G.clientY,u||z(),b++,G.dataTransfer.dropEffect=w=V(G),x.preventDefault(G)},this.onDragOver=function(G){if(!(o.getReadOnly()||!P(G.dataTransfer)))return g=G.clientX,y=G.clientY,u||(z(),b++),N!==null&&(N=null),G.dataTransfer.dropEffect=w=V(G),x.preventDefault(G)},this.onDragLeave=function(G){if(b--,b<=0&&u)return F(),w=null,x.preventDefault(G)},this.onDrop=function(G){if(S){var Y=G.dataTransfer;if(R)switch(w){case"move":p.contains(S.row,S.column)?p={start:S,end:S}:p=o.moveText(p,S);break;case"copy":p=o.moveText(p,S,!0);break}else{var q=Y.getData("Text");p={start:S,end:o.session.insert(S,q)},o.focus(),w=null}return F(),x.preventDefault(G)}},x.addListener(f,"dragstart",this.onDragStart.bind(n),o),x.addListener(f,"dragend",this.onDragEnd.bind(n),o),x.addListener(f,"dragenter",this.onDragEnter.bind(n),o),x.addListener(f,"dragover",this.onDragOver.bind(n),o),x.addListener(f,"dragleave",this.onDragLeave.bind(n),o),x.addListener(f,"drop",this.onDrop.bind(n),o);function A(G,Y){var q=Date.now(),Z=!Y||G.row!=Y.row,Q=!Y||G.column!=Y.column;if(!k||Z||Q)o.moveCursorToPosition(G),k=q,E={x:g,y};else{var U=r(E.x,E.y,g,y);U>s?k=null:q-k>=d&&(o.renderer.scrollCursorIntoView(),k=null)}}function C(G,Y){var q=Date.now(),Z=o.renderer.layerConfig.lineHeight,Q=o.renderer.layerConfig.characterWidth,U=o.renderer.scroller.getBoundingClientRect(),ie={x:{left:g-U.left,right:U.right-g},y:{top:y-U.top,bottom:U.bottom-y}},ee=Math.min(ie.x.left,ie.x.right),he=Math.min(ie.y.top,ie.y.bottom),pe={row:G.row,column:G.column};ee/Q<=2&&(pe.column+=ie.x.left<ie.x.right?-3:2),he/Z<=1&&(pe.row+=ie.y.top<ie.y.bottom?-1:1);var be=G.row!=pe.row,Le=G.column!=pe.column,Te=!Y||G.row!=Y.row;be||Le&&!Te?H?q-H>=h&&o.renderer.scrollCursorIntoView(pe):H=q:H=null}function $(){var G=S;S=o.renderer.screenToTextCoordinates(g,y),A(S,G),C(S,G)}function z(){p=o.selection.toOrientedRange(),u=o.session.addMarker(p,"ace_selection",o.getSelectionStyle()),o.clearSelection(),o.isFocused()&&o.renderer.$cursorLayer.setBlinking(!1),clearInterval(_),$(),_=setInterval($,20),b=0,x.addListener(document,"mousemove",B)}function F(){clearInterval(_),o.session.removeMarker(u),u=null,o.selection.fromOrientedRange(p),o.isFocused()&&!R&&o.$resetCursorStyle(),p=null,S=null,b=0,H=null,k=null,x.removeListener(document,"mousemove",B)}var N=null;function B(){N==null&&(N=setTimeout(function(){N!=null&&u&&F()},20))}function P(G){var Y=G.types;return!Y||Array.prototype.some.call(Y,function(q){return q=="text/plain"||q=="Text"})}function V(G){var Y=["copy","copymove","all","uninitialized"],q=["move","copymove","linkmove","all","uninitialized"],Z=v.isMac?G.altKey:G.ctrlKey,Q="uninitialized";try{Q=G.dataTransfer.effectAllowed.toLowerCase()}catch{}var U="none";return Z&&Y.indexOf(Q)>=0?U="copy":q.indexOf(Q)>=0?U="move":Y.indexOf(Q)>=0&&(U="copy"),U}}(function(){this.dragWait=function(){var n=Date.now()-this.mousedownEvent.time;n>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var n=this.editor.container;n.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(n){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var n=this.editor,o=n.container;o.draggable=!0,n.renderer.$cursorLayer.setBlinking(!1),n.setStyle("ace_dragging");var a=v.isWin?"default":"move";n.renderer.setCursorStyle(a),this.setState("dragReady")},this.onMouseDrag=function(n){var o=this.editor.container;if(v.isIE&&this.state=="dragReady"){var a=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);a>3&&o.dragDrop()}if(this.state==="dragWait"){var a=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);a>0&&(o.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(n){if(this.$dragEnabled){this.mousedownEvent=n;var o=this.editor,a=n.inSelection(),l=n.getButton(),f=n.domEvent.detail||1;if(f===1&&l===0&&a){if(n.editor.inMultiSelectMode&&(n.getAccelKey()||n.getShiftKey()))return;this.mousedownEvent.time=Date.now();var u=n.domEvent.target||n.domEvent.srcElement;if("unselectable"in u&&(u.unselectable="on"),o.getDragDelay()){if(v.isWebKit){this.cancelDrag=!0;var g=o.container;g.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(n,this.onMouseDrag.bind(this)),n.defaultPrevented=!0}}}}).call(i.prototype);function r(n,o,a,l){return Math.sqrt(Math.pow(a-n,2)+Math.pow(l-o,2))}M.DragdropHandler=i}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(L,M,K){var D=L("./mouse_event").MouseEvent,x=L("../lib/event"),v=L("../lib/dom");M.addTouchListeners=function(h,d){var s="scroll",i,r,n,o,a,l,f=0,u,g=0,y=0,_=0,p,S;function b(){var A=window.navigator&&window.navigator.clipboard,C=!1,$=function(){var N=d.getCopyText(),B=d.session.getUndoManager().hasUndo();S.replaceChild(v.buildDom(C?["span",!N&&z("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],N&&z("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],N&&z("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],A&&z("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],B&&z("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],z("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],z("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),S.firstChild)},z=function(N){return d.commands.canExecute(N,d)},F=function(N){var B=N.target.getAttribute("action");if(B=="more"||!C)return C=!C,$();B=="paste"?A.readText().then(function(P){d.execCommand(B,P)}):B&&((B=="cut"||B=="copy")&&(A?A.writeText(d.getCopyText()):document.execCommand("copy")),d.execCommand(B)),S.firstChild.style.display="none",C=!1,B!="openCommandPalette"&&d.focus()};S=v.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(N){s="menu",N.stopPropagation(),N.preventDefault(),d.textInput.focus()},ontouchend:function(N){N.stopPropagation(),N.preventDefault(),F(N)},onclick:F},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],d.container)}function w(){if(!d.getOption("enableMobileMenu")){S&&R();return}S||b();var A=d.selection.cursor,C=d.renderer.textToScreenCoordinates(A.row,A.column),$=d.renderer.textToScreenCoordinates(0,0).pageX,z=d.renderer.scrollLeft,F=d.container.getBoundingClientRect();S.style.top=C.pageY-F.top-3+"px",C.pageX-F.left<F.width-70?(S.style.left="",S.style.right="10px"):(S.style.right="",S.style.left=$+z-F.left+"px"),S.style.display="",S.firstChild.style.display="none",d.on("input",R)}function R(A){S&&(S.style.display="none"),d.off("input",R)}function H(){a=null,clearTimeout(a);var A=d.selection.getRange(),C=A.contains(u.row,u.column);(A.isEmpty()||!C)&&(d.selection.moveToPosition(u),d.selection.selectWord()),s="wait",w()}function k(){a=null,clearTimeout(a),d.selection.moveToPosition(u);var A=g>=2?d.selection.getLineRange(u.row):d.session.getBracketRange(u);A&&!A.isEmpty()?d.selection.setRange(A):d.selection.selectWord(),s="wait"}x.addListener(h,"contextmenu",function(A){if(p){var C=d.textInput.getElement();C.focus()}},d),x.addListener(h,"touchstart",function(A){var C=A.touches;if(a||C.length>1){clearTimeout(a),a=null,n=-1,s="zoom";return}p=d.$mouseHandler.isMousePressed=!0;var $=d.renderer.layerConfig.lineHeight,z=d.renderer.layerConfig.lineHeight,F=A.timeStamp;o=F;var N=C[0],B=N.clientX,P=N.clientY;Math.abs(i-B)+Math.abs(r-P)>$&&(n=-1),i=A.clientX=B,r=A.clientY=P,y=_=0;var V=new D(A,d);if(u=V.getDocumentPosition(),F-n<500&&C.length==1&&!f)g++,A.preventDefault(),A.button=0,k();else{g=0;var G=d.selection.cursor,Y=d.selection.isEmpty()?G:d.selection.anchor,q=d.renderer.$cursorLayer.getPixelPosition(G,!0),Z=d.renderer.$cursorLayer.getPixelPosition(Y,!0),Q=d.renderer.scroller.getBoundingClientRect(),U=d.renderer.layerConfig.offset,ie=d.renderer.scrollLeft,ee=function(be,Le){return be=be/z,Le=Le/$-.75,be*be+Le*Le};if(A.clientX<Q.left){s="zoom";return}var he=ee(A.clientX-Q.left-q.left+ie,A.clientY-Q.top-q.top+U),pe=ee(A.clientX-Q.left-Z.left+ie,A.clientY-Q.top-Z.top+U);he<3.5&&pe<3.5&&(s=he>pe?"cursor":"anchor"),pe<3.5?s="anchor":he<3.5?s="cursor":s="scroll",a=setTimeout(H,450)}n=F},d),x.addListener(h,"touchend",function(A){p=d.$mouseHandler.isMousePressed=!1,l&&clearInterval(l),s=="zoom"?(s="",f=0):a?(d.selection.moveToPosition(u),f=0,w()):s=="scroll"?(E(),R()):w(),clearTimeout(a),a=null},d),x.addListener(h,"touchmove",function(A){a&&(clearTimeout(a),a=null);var C=A.touches;if(!(C.length>1||s=="zoom")){var $=C[0],z=i-$.clientX,F=r-$.clientY;if(s=="wait")if(z*z+F*F>4)s="cursor";else return A.preventDefault();i=$.clientX,r=$.clientY,A.clientX=$.clientX,A.clientY=$.clientY;var N=A.timeStamp,B=N-o;if(o=N,s=="scroll"){var P=new D(A,d);P.speed=1,P.wheelX=z,P.wheelY=F,10*Math.abs(z)<Math.abs(F)&&(z=0),10*Math.abs(F)<Math.abs(z)&&(F=0),B!=0&&(y=z/B,_=F/B),d._emit("mousewheel",P),P.propagationStopped||(y=_=0)}else{var V=new D(A,d),G=V.getDocumentPosition();s=="cursor"?d.selection.moveCursorToPosition(G):s=="anchor"&&d.selection.setSelectionAnchor(G.row,G.column),d.renderer.scrollCursorIntoView(G),A.preventDefault()}}},d);function E(){f+=60,l=setInterval(function(){f--<=0&&(clearInterval(l),l=null),Math.abs(y)<.01&&(y=0),Math.abs(_)<.01&&(_=0),f<20&&(y=.9*y),f<20&&(_=.9*_);var A=d.session.getScrollTop();d.renderer.scrollBy(10*y,10*_),A==d.session.getScrollTop()&&(f=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(L,M,K){var D=L("../lib/event"),x=L("../lib/useragent"),v=L("./default_handlers").DefaultHandlers,h=L("./default_gutter_handler").GutterHandler,d=L("./mouse_event").MouseEvent,s=L("./dragdrop_handler").DragdropHandler,i=L("./touch_handler").addTouchListeners,r=L("../config"),n=function(){function o(a){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var l=this;this.editor=a,new v(this),new h(this),new s(this);var f=function(y){var _=!document.hasFocus||!document.hasFocus()||!a.isFocused()&&document.activeElement==(a.textInput&&a.textInput.getElement());_&&window.focus(),a.focus(),setTimeout(function(){a.isFocused()||a.focus()})},u=a.renderer.getMouseEventTarget();D.addListener(u,"click",this.onMouseEvent.bind(this,"click"),a),D.addListener(u,"mousemove",this.onMouseMove.bind(this,"mousemove"),a),D.addMultiMouseDownListener([u,a.renderer.scrollBarV&&a.renderer.scrollBarV.inner,a.renderer.scrollBarH&&a.renderer.scrollBarH.inner,a.textInput&&a.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",a),D.addMouseWheelListener(a.container,this.onMouseWheel.bind(this,"mousewheel"),a),i(a.container,a);var g=a.renderer.$gutter;D.addListener(g,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),a),D.addListener(g,"click",this.onMouseEvent.bind(this,"gutterclick"),a),D.addListener(g,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),a),D.addListener(g,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),a),D.addListener(u,"mousedown",f,a),D.addListener(g,"mousedown",f,a),x.isIE&&a.renderer.scrollBarV&&(D.addListener(a.renderer.scrollBarV.element,"mousedown",f,a),D.addListener(a.renderer.scrollBarH.element,"mousedown",f,a)),a.on("mousemove",function(y){if(!(l.state||l.$dragDelay||!l.$dragEnabled)){var _=a.renderer.screenToTextCoordinates(y.x,y.y),p=a.session.selection.getRange(),S=a.renderer;!p.isEmpty()&&p.insideStart(_.row,_.column)?S.setCursorStyle("default"):S.setCursorStyle("")}},a)}return o.prototype.onMouseEvent=function(a,l){this.editor.session&&this.editor._emit(a,new d(l,this.editor))},o.prototype.onMouseMove=function(a,l){var f=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!f||!f.length||this.editor._emit(a,new d(l,this.editor))},o.prototype.onMouseWheel=function(a,l){var f=new d(l,this.editor);f.speed=this.$scrollSpeed*2,f.wheelX=l.wheelX,f.wheelY=l.wheelY,this.editor._emit(a,f)},o.prototype.setState=function(a){this.state=a},o.prototype.captureMouse=function(a,l){this.x=a.x,this.y=a.y,this.isMousePressed=!0;var f=this.editor,u=this.editor.renderer;u.$isMousePressed=!0;var g=this,y=function(w){if(w){if(x.isWebKit&&!w.which&&g.releaseMouse)return g.releaseMouse();g.x=w.clientX,g.y=w.clientY,l&&l(w),g.mouseEvent=new d(w,g.editor),g.$mouseMoved=!0}},_=function(w){f.off("beforeEndOperation",S),clearInterval(b),f.session&&p(),g[g.state+"End"]&&g[g.state+"End"](w),g.state="",g.isMousePressed=u.$isMousePressed=!1,u.$keepTextAreaAtCursor&&u.$moveTextAreaToCursor(),g.$onCaptureMouseMove=g.releaseMouse=null,w&&g.onMouseEvent("mouseup",w),f.endOperation()},p=function(){g[g.state]&&g[g.state](),g.$mouseMoved=!1};if(x.isOldIE&&a.domEvent.type=="dblclick")return setTimeout(function(){_(a)});var S=function(w){g.releaseMouse&&f.curOp.command.name&&f.curOp.selectionChanged&&(g[g.state+"End"]&&g[g.state+"End"](),g.state="",g.releaseMouse())};f.on("beforeEndOperation",S),f.startOperation({command:{name:"mouse"}}),g.$onCaptureMouseMove=y,g.releaseMouse=D.capture(this.editor.container,y,_);var b=setInterval(p,20)},o.prototype.cancelContextMenu=function(){var a=(function(l){l&&l.domEvent&&l.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",a),l&&l.domEvent&&D.stopEvent(l.domEvent))}).bind(this);setTimeout(a,10),this.editor.on("nativecontextmenu",a)},o.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},o}();n.prototype.releaseMouse=null,r.defineOptions(n.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:x.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),M.MouseHandler=n}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(L,M,K){var D=L("../lib/dom"),x=function(){function v(h){h.on("click",function(d){var s=d.getDocumentPosition(),i=h.session,r=i.getFoldAt(s.row,s.column,1);r&&(d.getAccelKey()?i.removeFold(r):i.expandFold(r),d.stop());var n=d.domEvent&&d.domEvent.target;n&&D.hasCssClass(n,"ace_inline_button")&&D.hasCssClass(n,"ace_toggle_wrap")&&(i.setOption("wrap",!i.getUseWrapMode()),h.renderer.scrollCursorIntoView())}),h.on("gutterclick",function(d){var s=h.renderer.$gutterLayer.getRegion(d);if(s=="foldWidgets"){var i=d.getDocumentPosition().row,r=h.session;r.foldWidgets&&r.foldWidgets[i]&&h.session.onFoldWidgetClick(i,d),h.isFocused()||h.focus(),d.stop()}}),h.on("gutterdblclick",function(d){var s=h.renderer.$gutterLayer.getRegion(d);if(s=="foldWidgets"){var i=d.getDocumentPosition().row,r=h.session,n=r.getParentFoldRangeData(i,!0),o=n.range||n.firstRange;if(o){i=o.start.row;var a=r.getFoldAt(i,r.getLine(i).length,1);a?r.removeFold(a):(r.addFold("...",o),h.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}d.stop()}})}return v}();M.FoldHandler=x}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(L,M,K){var D=L("../lib/keys"),x=L("../lib/event"),v=function(){function h(d){this.$editor=d,this.$data={editor:d},this.$handlers=[],this.setDefaultHandler(d.commands)}return h.prototype.setDefaultHandler=function(d){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=d,this.addKeyboardHandler(d,0)},h.prototype.setKeyboardHandler=function(d){var s=this.$handlers;if(s[s.length-1]!=d){for(;s[s.length-1]&&s[s.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(s[s.length-1]);this.addKeyboardHandler(d,1)}},h.prototype.addKeyboardHandler=function(d,s){if(d){typeof d=="function"&&!d.handleKeyboard&&(d.handleKeyboard=d);var i=this.$handlers.indexOf(d);i!=-1&&this.$handlers.splice(i,1),s==null?this.$handlers.push(d):this.$handlers.splice(s,0,d),i==-1&&d.attach&&d.attach(this.$editor)}},h.prototype.removeKeyboardHandler=function(d){var s=this.$handlers.indexOf(d);return s==-1?!1:(this.$handlers.splice(s,1),d.detach&&d.detach(this.$editor),!0)},h.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},h.prototype.getStatusText=function(){var d=this.$data,s=d.editor;return this.$handlers.map(function(i){return i.getStatusText&&i.getStatusText(s,d)||""}).filter(Boolean).join(" ")},h.prototype.$callKeyboardHandlers=function(d,s,i,r){for(var n,o=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&(n=this.$handlers[l].handleKeyboard(this.$data,d,s,i,r),!(!(!n||!n.command)&&(n.command=="null"?o=!0:o=a.exec(n.command,this.$editor,n.args,r),o&&r&&d!=-1&&n.passEvent!=!0&&n.command.passEvent!=!0&&x.stopEvent(r),o))););return!o&&d==-1&&(n={command:"insertstring"},o=a.exec("insertstring",this.$editor,s)),o&&this.$editor._signal&&this.$editor._signal("keyboardActivity",n),o},h.prototype.onCommandKey=function(d,s,i){var r=D.keyCodeToString(i);return this.$callKeyboardHandlers(s,r,i,d)},h.prototype.onTextInput=function(d){return this.$callKeyboardHandlers(-1,d)},h}();M.KeyBinding=v}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(L,M,K){var D=0,x=0,v=!1,h=!1,d=!1,s=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],i=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],r=0,n=1,o=0,a=1,l=2,f=3,u=4,g=5,y=6,_=7,p=8,S=9,b=10,w=11,R=12,H=13,k=14,E=15,A=16,C=17,$=18,z=[$,$,$,$,$,$,$,$,$,y,g,y,p,g,$,$,$,$,$,$,$,$,$,$,$,$,$,$,g,g,g,y,p,u,u,w,w,w,u,u,u,u,u,b,S,b,S,S,l,l,l,l,l,l,l,l,l,l,S,u,u,u,u,u,u,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,u,u,u,u,u,u,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,o,u,u,u,u,$,$,$,$,$,$,g,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,S,u,w,w,w,w,u,u,u,u,o,u,u,$,u,u,w,w,l,l,u,o,u,u,u,l,o,u,u,u,u,u],F=[p,p,p,p,p,p,p,p,p,p,p,$,$,$,o,a,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,p,g,H,k,E,A,C,S,w,w,w,w,w,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,S,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,p];function N(G,Y,q,Z){var Q=D?i:s,U=null,ie=null,ee=null,he=0,pe=null,be=null,Le=-1,Te=null,ze=null,Ee=[];if(!Z)for(Te=0,Z=[];Te<q;Te++)Z[Te]=V(G[Te]);for(x=D,v=!1,h=!1,d=!1,ze=0;ze<q;ze++){if(U=he,Ee[ze]=ie=P(G,Z,Ee,ze),he=Q[U][ie],pe=he&240,he&=15,Y[ze]=ee=Q[he][5],pe>0)if(pe==16){for(Te=Le;Te<ze;Te++)Y[Te]=1;Le=-1}else Le=-1;if(be=Q[he][6],be)Le==-1&&(Le=ze);else if(Le>-1){for(Te=Le;Te<ze;Te++)Y[Te]=ee;Le=-1}Z[ze]==g&&(Y[ze]=0),x|=ee}if(d){for(Te=0;Te<q;Te++)if(Z[Te]==y){Y[Te]=D;for(var ut=Te-1;ut>=0&&Z[ut]==p;ut--)Y[ut]=D}}}function B(G,Y,q){if(!(x<G)){if(G==1&&D==n&&!h){q.reverse();return}for(var Z=q.length,Q=0,U,ie,ee,he;Q<Z;){if(Y[Q]>=G){for(U=Q+1;U<Z&&Y[U]>=G;)U++;for(ie=Q,ee=U-1;ie<ee;ie++,ee--)he=q[ie],q[ie]=q[ee],q[ee]=he;Q=U}Q++}}}function P(G,Y,q,Z){var Q=Y[Z],U,ie,ee,he;switch(Q){case o:case a:v=!1;case u:case f:return Q;case l:return v?f:l;case _:return v=!0,a;case p:return u;case S:return Z<1||Z+1>=Y.length||(U=q[Z-1])!=l&&U!=f||(ie=Y[Z+1])!=l&&ie!=f?u:(v&&(ie=f),ie==U?ie:u);case b:return U=Z>0?q[Z-1]:g,U==l&&Z+1<Y.length&&Y[Z+1]==l?l:u;case w:if(Z>0&&q[Z-1]==l)return l;if(v)return u;for(he=Z+1,ee=Y.length;he<ee&&Y[he]==w;)he++;return he<ee&&Y[he]==l?l:u;case R:for(ee=Y.length,he=Z+1;he<ee&&Y[he]==R;)he++;if(he<ee){var pe=G[Z],be=pe>=1425&&pe<=2303||pe==64286;if(U=Y[he],be&&(U==a||U==_))return a}return Z<1||(U=Y[Z-1])==g?u:q[Z-1];case g:return v=!1,h=!0,D;case y:return d=!0,u;case H:case k:case A:case C:case E:v=!1;case $:return u}}function V(G){var Y=G.charCodeAt(0),q=Y>>8;return q==0?Y>191?o:z[Y]:q==5?/[\u0591-\u05f4]/.test(G)?a:o:q==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(G)?R:/[\u0660-\u0669\u066b-\u066c]/.test(G)?f:Y==1642?w:/[\u06f0-\u06f9]/.test(G)?l:_:q==32&&Y<=8287?F[Y&255]:q==254&&Y>=65136?_:u}M.L=o,M.R=a,M.EN=l,M.ON_R=3,M.AN=4,M.R_H=5,M.B=6,M.RLE=7,M.DOT="·",M.doBidiReorder=function(G,Y,q){if(G.length<2)return{};var Z=G.split(""),Q=new Array(Z.length),U=new Array(Z.length),ie=[];D=q?n:r,N(Z,ie,Z.length,Y);for(var ee=0;ee<Q.length;Q[ee]=ee,ee++);B(2,ie,Q),B(1,ie,Q);for(var ee=0;ee<Q.length-1;ee++)Y[ee]===f?ie[ee]=M.AN:ie[ee]===a&&(Y[ee]>_&&Y[ee]<H||Y[ee]===u||Y[ee]===$)?ie[ee]=M.ON_R:ee>0&&Z[ee-1]==="ل"&&/\u0622|\u0623|\u0625|\u0627/.test(Z[ee])&&(ie[ee-1]=ie[ee]=M.R_H,ee++);Z[Z.length-1]===M.DOT&&(ie[Z.length-1]=M.B),Z[0]==="‫"&&(ie[0]=M.RLE);for(var ee=0;ee<Q.length;ee++)U[ee]=ie[Q[ee]];return{logicalFromVisual:Q,bidiLevels:U}},M.hasBidiCharacters=function(G,Y){for(var q=!1,Z=0;Z<G.length;Z++)Y[Z]=V(G.charAt(Z)),!q&&(Y[Z]==a||Y[Z]==_||Y[Z]==f)&&(q=!0);return q},M.getVisualFromLogicalIdx=function(G,Y){for(var q=0;q<Y.logicalFromVisual.length;q++)if(Y.logicalFromVisual[q]==G)return q;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(L,M,K){var D=L("./lib/bidiutil"),x=L("./lib/lang"),v=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,h=function(){function d(s){this.session=s,this.bidiMap={},this.currentRow=null,this.bidiUtil=D,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=v.test(s.getValue())}return d.prototype.isBidiRow=function(s,i,r){return this.seenBidi?(s!==this.currentRow&&(this.currentRow=s,this.updateRowLine(i,r),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},d.prototype.onChange=function(s){this.seenBidi?this.currentRow=null:s.action=="insert"&&v.test(s.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},d.prototype.getDocumentRow=function(){var s=0,i=this.session.$screenRowCache;if(i.length){var r=this.session.$getRowCacheIndex(i,this.currentRow);r>=0&&(s=this.session.$docRowCache[r])}return s},d.prototype.getSplitIndex=function(){var s=0,i=this.session.$screenRowCache;if(i.length)for(var r,n=this.session.$getRowCacheIndex(i,this.currentRow);this.currentRow-s>0&&(r=this.session.$getRowCacheIndex(i,this.currentRow-s-1),r===n);)n=r,s++;else s=this.currentRow;return s},d.prototype.updateRowLine=function(s,i){s===void 0&&(s=this.getDocumentRow());var r=s===this.session.getLength()-1,n=r?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(s),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var o=this.session.$wrapData[s];o&&(i===void 0&&(i=this.getSplitIndex()),i>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[D.L],this.line=i<o.length?this.line.substring(o[i-1],o[i]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[i]),i==o.length&&(this.line+=this.showInvisibles?n:D.DOT))}else this.line+=this.showInvisibles?n:D.DOT;var a=this.session,l=0,f;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(u,g){return u==="	"||a.isFullWidth(u.charCodeAt(0))?(f=u==="	"?a.getScreenTabSize(g+l):2,l+=f-1,x.stringRepeat(D.DOT,f)):u}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==D.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},d.prototype.updateBidiMap=function(){var s=[];D.hasBidiCharacters(this.line,s)||this.isRtlDir?this.bidiMap=D.doBidiReorder(this.line,s,this.isRtlDir):this.bidiMap={}},d.prototype.markAsDirty=function(){this.currentRow=null},d.prototype.updateCharacterWidths=function(s){if(this.characterWidth!==s.$characterSize.width){this.fontMetrics=s;var i=this.characterWidth=s.$characterSize.width,r=s.$measureCharWidth("ה");this.charWidths[D.L]=this.charWidths[D.EN]=this.charWidths[D.ON_R]=i,this.charWidths[D.R]=this.charWidths[D.AN]=r,this.charWidths[D.R_H]=r*.45,this.charWidths[D.B]=this.charWidths[D.RLE]=0,this.currentRow=null}},d.prototype.setShowInvisibles=function(s){this.showInvisibles=s,this.currentRow=null},d.prototype.setEolChar=function(s){this.EOL=s},d.prototype.setContentWidth=function(s){this.contentWidth=s},d.prototype.isRtlLine=function(s){return this.$isRtl?!0:s!=null?this.session.getLine(s).charAt(0)==this.RLE:this.isRtlDir},d.prototype.setRtlDirection=function(s,i){for(var r=s.getCursorPosition(),n=s.selection.getSelectionAnchor().row;n<=r.row;n++)!i&&s.session.getLine(n).charAt(0)===s.session.$bidiHandler.RLE?s.session.doc.removeInLine(n,0,1):i&&s.session.getLine(n).charAt(0)!==s.session.$bidiHandler.RLE&&s.session.doc.insert({column:0,row:n},s.session.$bidiHandler.RLE)},d.prototype.getPosLeft=function(s){s-=this.wrapIndent;var i=this.line.charAt(0)===this.RLE?1:0,r=s>i?this.session.getOverwrite()?s:s-1:i,n=D.getVisualFromLogicalIdx(r,this.bidiMap),o=this.bidiMap.bidiLevels,a=0;!this.session.getOverwrite()&&s<=i&&o[n]%2!==0&&n++;for(var l=0;l<n;l++)a+=this.charWidths[o[l]];return!this.session.getOverwrite()&&s>i&&o[n]%2===0&&(a+=this.charWidths[o[n]]),this.wrapIndent&&(a+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(a+=this.rtlLineOffset),a},d.prototype.getSelections=function(s,i){var r=this.bidiMap,n=r.bidiLevels,o,a=[],l=0,f=Math.min(s,i)-this.wrapIndent,u=Math.max(s,i)-this.wrapIndent,g=!1,y=!1,_=0;this.wrapIndent&&(l+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var p,S=0;S<n.length;S++)p=r.logicalFromVisual[S],o=n[S],g=p>=f&&p<u,g&&!y?_=l:!g&&y&&a.push({left:_,width:l-_}),l+=this.charWidths[o],y=g;if(g&&S===n.length&&a.push({left:_,width:l-_}),this.isRtlDir)for(var b=0;b<a.length;b++)a[b].left+=this.rtlLineOffset;return a},d.prototype.offsetToCol=function(r){this.isRtlDir&&(r-=this.rtlLineOffset);var i=0,r=Math.max(r,0),n=0,o=0,a=this.bidiMap.bidiLevels,l=this.charWidths[a[o]];for(this.wrapIndent&&(r-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);r>n+l/2;){if(n+=l,o===a.length-1){l=0;break}l=this.charWidths[a[++o]]}return o>0&&a[o-1]%2!==0&&a[o]%2===0?(r<n&&o--,i=this.bidiMap.logicalFromVisual[o]):o>0&&a[o-1]%2===0&&a[o]%2!==0?i=1+(r>n?this.bidiMap.logicalFromVisual[o]:this.bidiMap.logicalFromVisual[o-1]):this.isRtlDir&&o===a.length-1&&l===0&&a[o-1]%2===0||!this.isRtlDir&&o===0&&a[o]%2!==0?i=1+this.bidiMap.logicalFromVisual[o]:(o>0&&a[o-1]%2!==0&&l!==0&&o--,i=this.bidiMap.logicalFromVisual[o]),i===0&&this.isRtlDir&&i++,i+this.wrapIndent},d}();M.BidiHandler=h}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(L,M,K){var D=L("./lib/oop"),x=L("./lib/lang"),v=L("./lib/event_emitter").EventEmitter,h=L("./range").Range,d=function(){function s(i){this.session=i,this.doc=i.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var r=this;this.cursor.on("change",function(n){r.$cursorChanged=!0,r.$silent||r._emit("changeCursor"),!r.$isEmpty&&!r.$silent&&r._emit("changeSelection"),!r.$keepDesiredColumnOnChange&&n.old.column!=n.value.column&&(r.$desiredColumn=null)}),this.anchor.on("change",function(){r.$anchorChanged=!0,!r.$isEmpty&&!r.$silent&&r._emit("changeSelection")})}return s.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},s.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},s.prototype.getCursor=function(){return this.lead.getPosition()},s.prototype.setAnchor=function(i,r){this.$isEmpty=!1,this.anchor.setPosition(i,r)},s.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},s.prototype.getSelectionLead=function(){return this.lead.getPosition()},s.prototype.isBackwards=function(){var i=this.anchor,r=this.lead;return i.row>r.row||i.row==r.row&&i.column>r.column},s.prototype.getRange=function(){var i=this.anchor,r=this.lead;return this.$isEmpty?h.fromPoints(r,r):this.isBackwards()?h.fromPoints(r,i):h.fromPoints(i,r)},s.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},s.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},s.prototype.setRange=function(i,r){var n=r?i.end:i.start,o=r?i.start:i.end;this.$setSelection(n.row,n.column,o.row,o.column)},s.prototype.$setSelection=function(i,r,n,o){if(!this.$silent){var a=this.$isEmpty,l=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(i,r),this.cursor.setPosition(n,o),this.$isEmpty=!h.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||a!=this.$isEmpty||l)&&this._emit("changeSelection")}},s.prototype.$moveSelection=function(i){var r=this.lead;this.$isEmpty&&this.setSelectionAnchor(r.row,r.column),i.call(this)},s.prototype.selectTo=function(i,r){this.$moveSelection(function(){this.moveCursorTo(i,r)})},s.prototype.selectToPosition=function(i){this.$moveSelection(function(){this.moveCursorToPosition(i)})},s.prototype.moveTo=function(i,r){this.clearSelection(),this.moveCursorTo(i,r)},s.prototype.moveToPosition=function(i){this.clearSelection(),this.moveCursorToPosition(i)},s.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},s.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},s.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},s.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},s.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},s.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},s.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},s.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},s.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},s.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},s.prototype.getWordRange=function(i,r){if(typeof r>"u"){var n=i||this.lead;i=n.row,r=n.column}return this.session.getWordRange(i,r)},s.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},s.prototype.selectAWord=function(){var i=this.getCursor(),r=this.session.getAWordRange(i.row,i.column);this.setSelectionRange(r)},s.prototype.getLineRange=function(i,r){var n=typeof i=="number"?i:this.lead.row,o,a=this.session.getFoldLine(n);return a?(n=a.start.row,o=a.end.row):o=n,r===!0?new h(n,0,o,this.session.getLine(o).length):new h(n,0,o+1,0)},s.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},s.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},s.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},s.prototype.wouldMoveIntoSoftTab=function(i,r,n){var o=i.column,a=i.column+r;return n<0&&(o=i.column-r,a=i.column),this.session.isTabStop(i)&&this.doc.getLine(i.row).slice(o,a).split(" ").length-1==r},s.prototype.moveCursorLeft=function(){var i=this.lead.getPosition(),r;if(r=this.session.getFoldAt(i.row,i.column,-1))this.moveCursorTo(r.start.row,r.start.column);else if(i.column===0)i.row>0&&this.moveCursorTo(i.row-1,this.doc.getLine(i.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(i,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},s.prototype.moveCursorRight=function(){var i=this.lead.getPosition(),r;if(r=this.session.getFoldAt(i.row,i.column,1))this.moveCursorTo(r.end.row,r.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),i=this.lead;this.wouldMoveIntoSoftTab(i,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},s.prototype.moveCursorLineStart=function(){var i=this.lead.row,r=this.lead.column,n=this.session.documentToScreenRow(i,r),o=this.session.screenToDocumentPosition(n,0),a=this.session.getDisplayLine(i,null,o.row,o.column),l=a.match(/^\s*/);l[0].length!=r&&!this.session.$useEmacsStyleLineStart&&(o.column+=l[0].length),this.moveCursorToPosition(o)},s.prototype.moveCursorLineEnd=function(){var i=this.lead,r=this.session.getDocumentLastRowColumnPosition(i.row,i.column);if(this.lead.column==r.column){var n=this.session.getLine(r.row);if(r.column==n.length){var o=n.search(/\s+$/);o>0&&(r.column=o)}}this.moveCursorTo(r.row,r.column)},s.prototype.moveCursorFileEnd=function(){var i=this.doc.getLength()-1,r=this.doc.getLine(i).length;this.moveCursorTo(i,r)},s.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},s.prototype.moveCursorLongWordRight=function(){var i=this.lead.row,r=this.lead.column,n=this.doc.getLine(i),o=n.substring(r);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var a=this.session.getFoldAt(i,r,1);if(a){this.moveCursorTo(a.end.row,a.end.column);return}if(this.session.nonTokenRe.exec(o)&&(r+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,o=n.substring(r)),r>=n.length){this.moveCursorTo(i,n.length),this.moveCursorRight(),i<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(o)&&(r+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(i,r)},s.prototype.moveCursorLongWordLeft=function(){var i=this.lead.row,r=this.lead.column,n;if(n=this.session.getFoldAt(i,r,-1)){this.moveCursorTo(n.start.row,n.start.column);return}var o=this.session.getFoldStringAt(i,r,-1);o==null&&(o=this.doc.getLine(i).substring(0,r));var a=x.stringReverse(o);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(a)&&(r-=this.session.nonTokenRe.lastIndex,a=a.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),r<=0){this.moveCursorTo(i,0),this.moveCursorLeft(),i>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(a)&&(r-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(i,r)},s.prototype.$shortWordEndIndex=function(i){var r=0,n,o=/\s/,a=this.session.tokenRe;if(a.lastIndex=0,this.session.tokenRe.exec(i))r=this.session.tokenRe.lastIndex;else{for(;(n=i[r])&&o.test(n);)r++;if(r<1){for(a.lastIndex=0;(n=i[r])&&!a.test(n);)if(a.lastIndex=0,r++,o.test(n))if(r>2){r--;break}else{for(;(n=i[r])&&o.test(n);)r++;if(r>2)break}}}return a.lastIndex=0,r},s.prototype.moveCursorShortWordRight=function(){var i=this.lead.row,r=this.lead.column,n=this.doc.getLine(i),o=n.substring(r),a=this.session.getFoldAt(i,r,1);if(a)return this.moveCursorTo(a.end.row,a.end.column);if(r==n.length){var l=this.doc.getLength();do i++,o=this.doc.getLine(i);while(i<l&&/^\s*$/.test(o));/^\s+/.test(o)||(o=""),r=0}var f=this.$shortWordEndIndex(o);this.moveCursorTo(i,r+f)},s.prototype.moveCursorShortWordLeft=function(){var i=this.lead.row,r=this.lead.column,n;if(n=this.session.getFoldAt(i,r,-1))return this.moveCursorTo(n.start.row,n.start.column);var o=this.session.getLine(i).substring(0,r);if(r===0){do i--,o=this.doc.getLine(i);while(i>0&&/^\s*$/.test(o));r=o.length,/\s+$/.test(o)||(o="")}var a=x.stringReverse(o),l=this.$shortWordEndIndex(a);return this.moveCursorTo(i,r-l)},s.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},s.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},s.prototype.moveCursorBy=function(i,r){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column),o;if(r===0&&(i!==0&&(this.session.$bidiHandler.isBidiRow(n.row,this.lead.row)?(o=this.session.$bidiHandler.getPosLeft(n.column),n.column=Math.round(o/this.session.$bidiHandler.charWidths[0])):o=n.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column),i!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var a=this.session.lineWidgets[this.lead.row];i<0?i-=a.rowsAbove||0:i>0&&(i+=a.rowCount-(a.rowsAbove||0))}var l=this.session.screenToDocumentPosition(n.row+i,n.column,o);i!==0&&r===0&&l.row===this.lead.row&&(l.column,this.lead.column),this.moveCursorTo(l.row,l.column+r,r===0)},s.prototype.moveCursorToPosition=function(i){this.moveCursorTo(i.row,i.column)},s.prototype.moveCursorTo=function(i,r,n){var o=this.session.getFoldAt(i,r,1);o&&(i=o.start.row,r=o.start.column),this.$keepDesiredColumnOnChange=!0;var a=this.session.getLine(i);/[\uDC00-\uDFFF]/.test(a.charAt(r))&&a.charAt(r-1)&&(this.lead.row==i&&this.lead.column==r+1?r=r-1:r=r+1),this.lead.setPosition(i,r),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},s.prototype.moveCursorToScreen=function(i,r,n){var o=this.session.screenToDocumentPosition(i,r);this.moveCursorTo(o.row,o.column,n)},s.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},s.prototype.fromOrientedRange=function(i){this.setSelectionRange(i,i.cursor==i.start),this.$desiredColumn=i.desiredColumn||this.$desiredColumn},s.prototype.toOrientedRange=function(i){var r=this.getRange();return i?(i.start.column=r.start.column,i.start.row=r.start.row,i.end.column=r.end.column,i.end.row=r.end.row):i=r,i.cursor=this.isBackwards()?i.start:i.end,i.desiredColumn=this.$desiredColumn,i},s.prototype.getRangeOfMovements=function(i){var r=this.getCursor();try{i(this);var n=this.getCursor();return h.fromPoints(r,n)}catch{return h.fromPoints(r,r)}finally{this.moveCursorToPosition(r)}},s.prototype.toJSON=function(){if(this.rangeCount)var i=this.ranges.map(function(r){var n=r.clone();return n.isBackwards=r.cursor==r.start,n});else{var i=this.getRange();i.isBackwards=this.isBackwards()}return i},s.prototype.fromJSON=function(i){if(i.start==null)if(this.rangeList&&i.length>1){this.toSingleRange(i[0]);for(var r=i.length;r--;){var n=h.fromPoints(i[r].start,i[r].end);i[r].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}else i=i[0];this.rangeList&&this.toSingleRange(i),this.setSelectionRange(i,i.isBackwards)},s.prototype.isEqual=function(i){if((i.length||this.rangeCount)&&i.length!=this.rangeCount)return!1;if(!i.length||!this.ranges)return this.getRange().isEqual(i);for(var r=this.ranges.length;r--;)if(!this.ranges[r].isEqual(i[r]))return!1;return!0},s}();d.prototype.setSelectionAnchor=d.prototype.setAnchor,d.prototype.getSelectionAnchor=d.prototype.getAnchor,d.prototype.setSelectionRange=d.prototype.setRange,D.implement(d.prototype,v),M.Selection=d}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(L,M,K){var D=L("./lib/report_error").reportError,x=2e3,v=function(){function h(d){this.splitRegex,this.states=d,this.regExps={},this.matchMappings={};for(var s in this.states){for(var i=this.states[s],r=[],n=0,o=this.matchMappings[s]={defaultToken:"text"},a="g",l=[],f=0;f<i.length;f++){var u=i[f];if(u.defaultToken&&(o.defaultToken=u.defaultToken),u.caseInsensitive&&a.indexOf("i")===-1&&(a+="i"),u.unicode&&a.indexOf("u")===-1&&(a+="u"),u.regex!=null){u.regex instanceof RegExp&&(u.regex=u.regex.toString().slice(1,-1));var g=u.regex,y=new RegExp("(?:("+g+")|(.))").exec("a").length-2;Array.isArray(u.token)?u.token.length==1||y==1?u.token=u.token[0]:y-1!=u.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:u,groupCount:y-1}),u.token=u.token[0]):(u.tokenArray=u.token,u.token=null,u.onMatch=this.$arrayTokens):typeof u.token=="function"&&!u.onMatch&&(y>1?u.onMatch=this.$applyToken:u.onMatch=u.token),y>1&&(/\\\d/.test(u.regex)?g=u.regex.replace(/\\([0-9]+)/g,function(_,p){return"\\"+(parseInt(p,10)+n+1)}):(y=1,g=this.removeCapturingGroups(u.regex)),!u.splitRegex&&typeof u.token!="string"&&l.push(u)),o[n]=f,n+=y,r.push(g),u.onMatch||(u.onMatch=null)}}r.length||(o[0]=0,r.push("$")),l.forEach(function(_){_.splitRegex=this.createSplitterRegexp(_.regex,a)},this),this.regExps[s]=new RegExp("("+r.join(")|(")+")|($)",a)}}return h.prototype.$setMaxTokenCount=function(d){x=d|0},h.prototype.$applyToken=function(d){var s=this.splitRegex.exec(d).slice(1),i=this.token.apply(this,s);if(typeof i=="string")return[{type:i,value:d}];for(var r=[],n=0,o=i.length;n<o;n++)s[n]&&(r[r.length]={type:i[n],value:s[n]});return r},h.prototype.$arrayTokens=function(d){if(!d)return[];var s=this.splitRegex.exec(d);if(!s)return"text";for(var i=[],r=this.tokenArray,n=0,o=r.length;n<o;n++)s[n+1]&&(i[i.length]={type:r[n],value:s[n+1]});return i},h.prototype.removeCapturingGroups=function(d){var s=d.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(i,r){return r?"(?:":i});return s},h.prototype.createSplitterRegexp=function(d,s){if(d.indexOf("(?=")!=-1){var i=0,r=!1,n={};d.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(o,a,l,f,u,g){return r?r=u!="]":u?r=!0:f?(i==n.stack&&(n.end=g+1,n.stack=-1),i--):l&&(i++,l.length!=1&&(n.stack=i,n.start=g)),o}),n.end!=null&&/^\)*$/.test(d.substr(n.end))&&(d=d.substring(0,n.start)+d.substr(n.end))}return d.charAt(0)!="^"&&(d="^"+d),d.charAt(d.length-1)!="$"&&(d+="$"),new RegExp(d,(s||"").replace("g",""))},h.prototype.getLineTokens=function(d,s){if(s&&typeof s!="string"){var i=s.slice(0);s=i[0],s==="#tmp"&&(i.shift(),s=i.shift())}else var i=[];var r=s||"start",n=this.states[r];n||(r="start",n=this.states[r]);var o=this.matchMappings[r],a=this.regExps[r];a.lastIndex=0;for(var l,f=[],u=0,g=0,y={type:null,value:""};l=a.exec(d);){var _=o.defaultToken,p=null,S=l[0],b=a.lastIndex;if(b-S.length>u){var w=d.substring(u,b-S.length);y.type==_?y.value+=w:(y.type&&f.push(y),y={type:_,value:w})}for(var R=0;R<l.length-2;R++)if(l[R+1]!==void 0){p=n[o[R]],p.onMatch?_=p.onMatch(S,r,i,d):_=p.token,p.next&&(typeof p.next=="string"?r=p.next:r=p.next(r,i),n=this.states[r],n||(this.reportError("state doesn't exist",r),r="start",n=this.states[r]),o=this.matchMappings[r],u=b,a=this.regExps[r],a.lastIndex=b),p.consumeLineEnd&&(u=b);break}if(S){if(typeof _=="string")(!p||p.merge!==!1)&&y.type===_?y.value+=S:(y.type&&f.push(y),y={type:_,value:S});else if(_){y.type&&f.push(y),y={type:null,value:""};for(var R=0;R<_.length;R++)f.push(_[R])}}if(u==d.length)break;if(u=b,g++>x){for(g>2*d.length&&this.reportError("infinite loop with in ace tokenizer",{startState:s,line:d});u<d.length;)y.type&&f.push(y),y={value:d.substring(u,u+=500),type:"overflow"};r="start",i=[];break}}return y.type&&f.push(y),i.length>1&&i[0]!==r&&i.unshift("#tmp",r),{tokens:f,state:i.length?i:r}},h}();v.prototype.reportError=D,M.Tokenizer=v}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(L,M,K){var D=L("../lib/deep_copy").deepCopy,x;x=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(d,s){if(!s){for(var i in d)this.$rules[i]=d[i];return}for(var i in d){for(var r=d[i],n=0;n<r.length;n++){var o=r[n];(o.next||o.onMatch)&&(typeof o.next=="string"&&o.next.indexOf(s)!==0&&(o.next=s+o.next),o.nextState&&o.nextState.indexOf(s)!==0&&(o.nextState=s+o.nextState))}this.$rules[s+i]=r}},this.getRules=function(){return this.$rules},this.embedRules=function(d,s,i,r,n){var o=typeof d=="function"?new d().getRules():d;if(r)for(var a=0;a<r.length;a++)r[a]=s+r[a];else{r=[];for(var l in o)r.push(s+l)}if(this.addRules(o,s),i)for(var f=Array.prototype[n?"push":"unshift"],a=0;a<r.length;a++)f.apply(this.$rules[r[a]],D(i));this.$embeds||(this.$embeds=[]),this.$embeds.push(s)},this.getEmbeds=function(){return this.$embeds};var v=function(d,s){return(d!="start"||s.length)&&s.unshift(this.nextState,d),this.nextState},h=function(d,s){return s.shift(),s.shift()||"start"};this.normalizeRules=function(){var d=0,s=this.$rules;function i(r){var n=s[r];n.processed=!0;for(var o=0;o<n.length;o++){var a=n[o],l=null;Array.isArray(a)&&(l=a,a={}),!a.regex&&a.start&&(a.regex=a.start,a.next||(a.next=[]),a.next.push({defaultToken:a.token},{token:a.token+".end",regex:a.end||a.start,next:"pop"}),a.token=a.token+".start",a.push=!0);var f=a.next||a.push;if(f&&Array.isArray(f)){var u=a.stateName;u||(u=a.token,typeof u!="string"&&(u=u[0]||""),s[u]&&(u+=d++)),s[u]=f,a.next=u,i(u)}else f=="pop"&&(a.next=h);if(a.push&&(a.nextState=a.next||a.push,a.next=v,delete a.push),a.rules)for(var g in a.rules)s[g]?s[g].push&&s[g].push.apply(s[g],a.rules[g]):s[g]=a.rules[g];var y=typeof a=="string"?a:a.include;if(y&&(y==="$self"&&(y="start"),Array.isArray(y)?l=y.map(function(p){return s[p]}):l=s[y]),l){var _=[o,1].concat(l);a.noEscape&&(_=_.filter(function(p){return!p.next})),n.splice.apply(n,_),o--}a.keywordMap&&(a.token=this.createKeywordMapper(a.keywordMap,a.defaultToken||"text",a.caseInsensitive),delete a.defaultToken)}}Object.keys(s).forEach(i,this)},this.createKeywordMapper=function(d,s,i,r){var n=Object.create(null);return this.$keywordList=[],Object.keys(d).forEach(function(o){for(var a=d[o],l=a.split(r||"|"),f=l.length;f--;){var u=l[f];this.$keywordList.push(u),i&&(u=u.toLowerCase()),n[u]=o}},this),d=null,i?function(o){return n[o.toLowerCase()]||s}:function(o){return n[o]||s}},this.getKeywords=function(){return this.$keywords}}).call(x.prototype),M.TextHighlightRules=x}),ace.define("ace/mode/behaviour",["require","exports","module"],function(L,M,K){var D;D=function(){this.$behaviours={}},(function(){this.add=function(x,v,h){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[x]:this.$behaviours[x]={}}this.$behaviours[x][v]=h},this.addBehaviours=function(x){for(var v in x)for(var h in x[v])this.add(v,h,x[v][h])},this.remove=function(x){this.$behaviours&&this.$behaviours[x]&&delete this.$behaviours[x]},this.inherit=function(x,v){if(typeof x=="function")var h=new x().getBehaviours(v);else var h=x.getBehaviours(v);this.addBehaviours(h)},this.getBehaviours=function(x){if(x){for(var v={},h=0;h<x.length;h++)this.$behaviours[x[h]]&&(v[x[h]]=this.$behaviours[x[h]]);return v}else return this.$behaviours}}).call(D.prototype),M.Behaviour=D}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(L,M,K){var D=L("./range").Range,x=function(){function v(h,d,s){this.$session=h,this.$row=d,this.$rowTokens=h.getTokens(d);var i=h.getTokenAt(d,s);this.$tokenIndex=i?i.index:-1}return v.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},v.prototype.stepForward=function(){this.$tokenIndex+=1;for(var h;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,h||(h=this.$session.getLength()),this.$row>=h)return this.$row=h-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},v.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},v.prototype.getCurrentTokenRow=function(){return this.$row},v.prototype.getCurrentTokenColumn=function(){var h=this.$rowTokens,d=this.$tokenIndex,s=h[d].start;if(s!==void 0)return s;for(s=0;d>0;)d-=1,s+=h[d].value.length;return s},v.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},v.prototype.getCurrentTokenRange=function(){var h=this.$rowTokens[this.$tokenIndex],d=this.getCurrentTokenColumn();return new D(this.$row,d,this.$row,d+h.value.length)},v}();M.TokenIterator=x}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(L,M,K){var D=L("../../lib/oop"),x=L("../behaviour").Behaviour,v=L("../../token_iterator").TokenIterator,h=L("../../lib/lang"),d=["text","paren.rparen","rparen","paren","punctuation.operator"],s=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],i,r={},n={'"':'"',"'":"'"},o=function(f){var u=-1;if(f.multiSelect&&(u=f.selection.index,r.rangeCount!=f.multiSelect.rangeCount&&(r={rangeCount:f.multiSelect.rangeCount})),r[u])return i=r[u];i=r[u]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},a=function(f,u,g,y){var _=f.end.row-f.start.row;return{text:g+u+y,selection:[0,f.start.column+1,_,f.end.column+(_?0:1)]}},l;l=function(f){f=f||{},this.add("braces","insertion",function(u,g,y,_,p){var S=y.getCursorPosition(),b=_.doc.getLine(S.row);if(p=="{"){o(y);var w=y.getSelectionRange(),R=_.doc.getTextRange(w),H=_.getTokenAt(S.row,S.column);if(R!==""&&R!=="{"&&y.getWrapBehavioursEnabled())return a(w,R,"{","}");if(H&&/(?:string)\.quasi|\.xml/.test(H.type)){var k=[/tag\-(?:open|name)/,/attribute\-name/];return k.some(function(N){return N.test(H.type)})||/(string)\.quasi/.test(H.type)&&H.value[S.column-H.start-1]!=="$"?void 0:(l.recordAutoInsert(y,_,"}"),{text:"{}",selection:[1,1]})}else if(l.isSaneInsertion(y,_))return/[\]\}\)]/.test(b[S.column])||y.inMultiSelectMode||f.braces?(l.recordAutoInsert(y,_,"}"),{text:"{}",selection:[1,1]}):(l.recordMaybeInsert(y,_,"{"),{text:"{",selection:[1,1]})}else if(p=="}"){o(y);var E=b.substring(S.column,S.column+1);if(E=="}"){var A=_.$findOpeningBracket("}",{column:S.column+1,row:S.row});if(A!==null&&l.isAutoInsertedClosing(S,b,p))return l.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(p==`
`||p==`\r
`){o(y);var C="";l.isMaybeInsertedClosing(S,b)&&(C=h.stringRepeat("}",i.maybeInsertedBrackets),l.clearMaybeInsertedClosing());var E=b.substring(S.column,S.column+1);if(E==="}"){var $=_.findMatchingBracket({row:S.row,column:S.column+1},"}");if(!$)return null;var z=this.$getIndent(_.getLine($.row))}else if(C)var z=this.$getIndent(b);else{l.clearMaybeInsertedClosing();return}var F=z+_.getTabString();return{text:`
`+F+`
`+z+C,selection:[1,F.length,1,F.length]}}else l.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(u,g,y,_,p){var S=_.doc.getTextRange(p);if(!p.isMultiLine()&&S=="{"){o(y);var b=_.doc.getLine(p.start.row),w=b.substring(p.end.column,p.end.column+1);if(w=="}")return p.end.column++,p;i.maybeInsertedBrackets--}}),this.add("parens","insertion",function(u,g,y,_,p){if(p=="("){o(y);var S=y.getSelectionRange(),b=_.doc.getTextRange(S);if(b!==""&&y.getWrapBehavioursEnabled())return a(S,b,"(",")");if(l.isSaneInsertion(y,_))return l.recordAutoInsert(y,_,")"),{text:"()",selection:[1,1]}}else if(p==")"){o(y);var w=y.getCursorPosition(),R=_.doc.getLine(w.row),H=R.substring(w.column,w.column+1);if(H==")"){var k=_.$findOpeningBracket(")",{column:w.column+1,row:w.row});if(k!==null&&l.isAutoInsertedClosing(w,R,p))return l.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(u,g,y,_,p){var S=_.doc.getTextRange(p);if(!p.isMultiLine()&&S=="("){o(y);var b=_.doc.getLine(p.start.row),w=b.substring(p.start.column+1,p.start.column+2);if(w==")")return p.end.column++,p}}),this.add("brackets","insertion",function(u,g,y,_,p){if(p=="["){o(y);var S=y.getSelectionRange(),b=_.doc.getTextRange(S);if(b!==""&&y.getWrapBehavioursEnabled())return a(S,b,"[","]");if(l.isSaneInsertion(y,_))return l.recordAutoInsert(y,_,"]"),{text:"[]",selection:[1,1]}}else if(p=="]"){o(y);var w=y.getCursorPosition(),R=_.doc.getLine(w.row),H=R.substring(w.column,w.column+1);if(H=="]"){var k=_.$findOpeningBracket("]",{column:w.column+1,row:w.row});if(k!==null&&l.isAutoInsertedClosing(w,R,p))return l.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(u,g,y,_,p){var S=_.doc.getTextRange(p);if(!p.isMultiLine()&&S=="["){o(y);var b=_.doc.getLine(p.start.row),w=b.substring(p.start.column+1,p.start.column+2);if(w=="]")return p.end.column++,p}}),this.add("string_dquotes","insertion",function(u,g,y,_,p){var S=_.$mode.$quotes||n;if(p.length==1&&S[p]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(p)!=-1)return;o(y);var b=p,w=y.getSelectionRange(),R=_.doc.getTextRange(w);if(R!==""&&(R.length!=1||!S[R])&&y.getWrapBehavioursEnabled())return a(w,R,b,b);if(!R){var H=y.getCursorPosition(),k=_.doc.getLine(H.row),E=k.substring(H.column-1,H.column),A=k.substring(H.column,H.column+1),C=_.getTokenAt(H.row,H.column),$=_.getTokenAt(H.row,H.column+1);if(E=="\\"&&C&&/escape/.test(C.type))return null;var z=C&&/string|escape/.test(C.type),F=!$||/string|escape/.test($.type),N;if(A==b)N=z!==F,N&&/string\.end/.test($.type)&&(N=!1);else{if(z&&!F||z&&F)return null;var B=_.$mode.tokenRe;B.lastIndex=0;var P=B.test(E);B.lastIndex=0;var V=B.test(A),G=_.$mode.$pairQuotesAfter,Y=G&&G[b]&&G[b].test(E);if(!Y&&P||V||A&&!/[\s;,.})\]\\]/.test(A))return null;var q=k[H.column-2];if(E==b&&(q==b||B.test(q)))return null;N=!0}return{text:N?b+b:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(u,g,y,_,p){var S=_.$mode.$quotes||n,b=_.doc.getTextRange(p);if(!p.isMultiLine()&&S.hasOwnProperty(b)){o(y);var w=_.doc.getLine(p.start.row),R=w.substring(p.start.column+1,p.start.column+2);if(R==b)return p.end.column++,p}}),f.closeDocComment!==!1&&this.add("doc comment end","insertion",function(u,g,y,_,p){if(u==="doc-start"&&(p===`
`||p===`\r
`)&&y.selection.isEmpty()){var S=y.getCursorPosition();if(S.column===0)return;for(var b=_.doc.getLine(S.row),w=_.doc.getLine(S.row+1),R=_.getTokens(S.row),H=0,k=0;k<R.length;k++){H+=R[k].value.length;var E=R[k];if(H>=S.column){if(H===S.column){if(!/\.doc/.test(E.type))return;if(/\*\//.test(E.value)){var A=R[k+1];if(!A||!/\.doc/.test(A.type))return}}var C=S.column-(H-E.value.length),$=E.value.indexOf("*/"),z=E.value.indexOf("/**",$>-1?$+2:0);if(z!==-1&&C>z&&C<z+3||$!==-1&&z!==-1&&C>=$&&C<=z||!/\.doc/.test(E.type))return;break}}var F=this.$getIndent(b);if(/\s*\*/.test(w))return/^\s*\*/.test(b)?{text:p+F+"* ",selection:[1,2+F.length,1,2+F.length]}:{text:p+F+" * ",selection:[1,3+F.length,1,3+F.length]};if(/\/\*\*/.test(b.substring(0,S.column)))return{text:p+F+" * "+p+" "+F+"*/",selection:[1,4+F.length,1,4+F.length]}}})},l.isSaneInsertion=function(f,u){var g=f.getCursorPosition(),y=new v(u,g.row,g.column);if(!this.$matchTokenType(y.getCurrentToken()||"text",d)){if(/[)}\]]/.test(f.session.getLine(g.row)[g.column]))return!0;var _=new v(u,g.row,g.column+1);if(!this.$matchTokenType(_.getCurrentToken()||"text",d))return!1}return y.stepForward(),y.getCurrentTokenRow()!==g.row||this.$matchTokenType(y.getCurrentToken()||"text",s)},l.$matchTokenType=function(f,u){return u.indexOf(f.type||f)>-1},l.recordAutoInsert=function(f,u,g){var y=f.getCursorPosition(),_=u.doc.getLine(y.row);this.isAutoInsertedClosing(y,_,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=y.row,i.autoInsertedLineEnd=g+_.substr(y.column),i.autoInsertedBrackets++},l.recordMaybeInsert=function(f,u,g){var y=f.getCursorPosition(),_=u.doc.getLine(y.row);this.isMaybeInsertedClosing(y,_)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=y.row,i.maybeInsertedLineStart=_.substr(0,y.column)+g,i.maybeInsertedLineEnd=_.substr(y.column),i.maybeInsertedBrackets++},l.isAutoInsertedClosing=function(f,u,g){return i.autoInsertedBrackets>0&&f.row===i.autoInsertedRow&&g===i.autoInsertedLineEnd[0]&&u.substr(f.column)===i.autoInsertedLineEnd},l.isMaybeInsertedClosing=function(f,u){return i.maybeInsertedBrackets>0&&f.row===i.maybeInsertedRow&&u.substr(f.column)===i.maybeInsertedLineEnd&&u.substr(0,f.column)==i.maybeInsertedLineStart},l.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},l.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},D.inherits(l,x),M.CstyleBehaviour=l}),ace.define("ace/unicode",["require","exports","module"],function(L,M,K){for(var D=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],x=0,v=[],h=0;h<D.length;h+=2)v.push(x+=D[h]),D[h+1]&&v.push(45,x+=D[h+1]);M.wordChars=String.fromCharCode.apply(null,v)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(L,M,K){var D=L("../config"),x=L("../tokenizer").Tokenizer,v=L("./text_highlight_rules").TextHighlightRules,h=L("./behaviour/cstyle").CstyleBehaviour,d=L("../unicode"),s=L("../lib/lang"),i=L("../token_iterator").TokenIterator,r=L("../range").Range,n;n=function(){this.HighlightRules=v},(function(){this.$defaultBehaviour=new h,this.tokenRe=new RegExp("^["+d.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+d.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new x(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(o,a,l,f){var u=a.doc,g=!0,y=!0,_=1/0,p=a.getTabSize(),S=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var R=this.lineCommentStart.map(s.escapeRegExp).join("|"),b=this.lineCommentStart[0];else var R=s.escapeRegExp(this.lineCommentStart),b=this.lineCommentStart;R=new RegExp("^(\\s*)(?:"+R+") ?"),S=a.getUseSoftTabs();var E=function(V,G){var Y=V.match(R);if(Y){var q=Y[1].length,Z=Y[0].length;!$(V,q,Z)&&Y[0][Z-1]==" "&&Z--,u.removeInLine(G,q,Z)}},C=b+" ",k=function(V,G){(!g||/\S/.test(V))&&($(V,_,_)?u.insertInLine({row:G,column:_},C):u.insertInLine({row:G,column:_},b))},A=function(V,G){return R.test(V)},$=function(V,G,Y){for(var q=0;G--&&V.charAt(G)==" ";)q++;if(q%p!=0)return!1;for(var q=0;V.charAt(Y++)==" ";)q++;return p>2?q%p!=p-1:q%p==0}}else{if(!this.blockComment)return!1;var b=this.blockComment.start,w=this.blockComment.end,R=new RegExp("^(\\s*)(?:"+s.escapeRegExp(b)+")"),H=new RegExp("(?:"+s.escapeRegExp(w)+")\\s*$"),k=function(N,B){A(N,B)||(!g||/\S/.test(N))&&(u.insertInLine({row:B,column:N.length},w),u.insertInLine({row:B,column:_},b))},E=function(N,B){var P;(P=N.match(H))&&u.removeInLine(B,N.length-P[0].length,N.length),(P=N.match(R))&&u.removeInLine(B,P[1].length,P[0].length)},A=function(N,B){if(R.test(N))return!0;for(var P=a.getTokens(B),V=0;V<P.length;V++)if(P[V].type==="comment")return!0}}function z(N){for(var B=l;B<=f;B++)N(u.getLine(B),B)}var F=1/0;z(function(N,B){var P=N.search(/\S/);P!==-1?(P<_&&(_=P),y&&!A(N,B)&&(y=!1)):F>N.length&&(F=N.length)}),_==1/0&&(_=F,g=!1,y=!1),S&&_%p!=0&&(_=Math.floor(_/p)*p),z(y?E:k)},this.toggleBlockComment=function(o,a,l,f){var u=this.blockComment;if(u){!u.start&&u[0]&&(u=u[0]);var g=new i(a,f.row,f.column),y=g.getCurrentToken();a.selection;var _=a.selection.toOrientedRange(),p,S;if(y&&/comment/.test(y.type)){for(var b,w;y&&/comment/.test(y.type);){var R=y.value.indexOf(u.start);if(R!=-1){var H=g.getCurrentTokenRow(),k=g.getCurrentTokenColumn()+R;b=new r(H,k,H,k+u.start.length);break}y=g.stepBackward()}for(var g=new i(a,f.row,f.column),y=g.getCurrentToken();y&&/comment/.test(y.type);){var R=y.value.indexOf(u.end);if(R!=-1){var H=g.getCurrentTokenRow(),k=g.getCurrentTokenColumn()+R;w=new r(H,k,H,k+u.end.length);break}y=g.stepForward()}w&&a.remove(w),b&&(a.remove(b),p=b.start.row,S=-u.start.length)}else S=u.start.length,p=l.start.row,a.insert(l.end,u.end),a.insert(l.start,u.start);_.start.row==p&&(_.start.column+=S),_.end.row==p&&(_.end.column+=S),a.selection.fromOrientedRange(_)}},this.getNextLineIndent=function(o,a,l){return this.$getIndent(a)},this.checkOutdent=function(o,a,l){return!1},this.autoOutdent=function(o,a,l){},this.$getIndent=function(o){return o.match(/^\s*/)[0]},this.createWorker=function(o){return null},this.createModeDelegates=function(o){this.$embeds=[],this.$modes={};for(var a in o)if(o[a]){var l=o[a],f=l.prototype.$id,u=D.$modes[f];u||(D.$modes[f]=u=new l),D.$modes[a]||(D.$modes[a]=u),this.$embeds.push(a),this.$modes[a]=u}for(var g=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],y=function(p){(function(S){var b=g[p],w=S[b];S[g[p]]=function(){return this.$delegator(b,arguments,w)}})(_)},_=this,a=0;a<g.length;a++)y(a)},this.$delegator=function(o,a,l){var f=a[0]||"start";if(typeof f!="string"){if(Array.isArray(f[2])){var u=f[2][f[2].length-1],g=this.$modes[u];if(g)return g[o].apply(g,[f[1]].concat([].slice.call(a,1)))}f=f[0]||"start"}for(var y=0;y<this.$embeds.length;y++)if(this.$modes[this.$embeds[y]]){var _=f.split(this.$embeds[y]);if(!_[0]&&_[1]){a[0]=_[1];var g=this.$modes[this.$embeds[y]];return g[o].apply(g,a)}}var p=l.apply(this,a);return l?p:void 0},this.transformAction=function(o,a,l,f,u){if(this.$behaviour){var g=this.$behaviour.getBehaviours();for(var y in g)if(g[y][a]){var _=g[y][a].apply(this,arguments);if(_)return _}}},this.getKeywords=function(o){if(!this.completionKeywords){var a=this.$tokenizer.rules,l=[];for(var f in a)for(var u=a[f],g=0,y=u.length;g<y;g++)if(typeof u[g].token=="string")/keyword|support|storage/.test(u[g].token)&&l.push(u[g].regex);else if(typeof u[g].token=="object"){for(var _=0,p=u[g].token.length;_<p;_++)if(/keyword|support|storage/.test(u[g].token[_])){var f=u[g].regex.match(/\(.+?\)/g)[_];l.push(f.substr(1,f.length-2))}}this.completionKeywords=l}return o?l.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(o,a,l,f){var u=this.$keywordList||this.$createKeywordList();return u.map(function(g){return{name:g,value:g,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(n.prototype),M.Mode=n}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(L,M,K){var D=L("./lib/dom"),x=function(){function v(h){this.session=h,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return v.prototype.getRowLength=function(h){var d;return this.lineWidgets?d=this.lineWidgets[h]&&this.lineWidgets[h].rowCount||0:d=0,!this.$useWrapMode||!this.$wrapData[h]?1+d:this.$wrapData[h].length+1+d},v.prototype.$getWidgetScreenLength=function(){var h=0;return this.lineWidgets.forEach(function(d){d&&d.rowCount&&!d.hidden&&(h+=d.rowCount)}),h},v.prototype.$onChangeEditor=function(h){this.attach(h.editor)},v.prototype.attach=function(h){h&&h.widgetManager&&h.widgetManager!=this&&h.widgetManager.detach(),this.editor!=h&&(this.detach(),this.editor=h,h&&(h.widgetManager=this,h.renderer.on("beforeRender",this.measureWidgets),h.renderer.on("afterRender",this.renderWidgets)))},v.prototype.detach=function(h){var d=this.editor;if(d){this.editor=null,d.widgetManager=null,d.renderer.off("beforeRender",this.measureWidgets),d.renderer.off("afterRender",this.renderWidgets);var s=this.session.lineWidgets;s&&s.forEach(function(i){i&&i.el&&i.el.parentNode&&(i._inDocument=!1,i.el.parentNode.removeChild(i.el))})}},v.prototype.updateOnFold=function(h,d){var s=d.lineWidgets;if(!(!s||!h.action)){for(var i=h.data,r=i.start.row,n=i.end.row,o=h.action=="add",a=r+1;a<n;a++)s[a]&&(s[a].hidden=o);s[n]&&(o?s[r]?s[n].hidden=o:s[r]=s[n]:(s[r]==s[n]&&(s[r]=void 0),s[n].hidden=o))}},v.prototype.updateOnChange=function(h){var d=this.session.lineWidgets;if(d){var s=h.start.row,i=h.end.row-s;if(i!==0)if(h.action=="remove"){var r=d.splice(s+1,i);!d[s]&&r[r.length-1]&&(d[s]=r.pop()),r.forEach(function(o){o&&this.removeLineWidget(o)},this),this.$updateRows()}else{var n=new Array(i);d[s]&&d[s].column!=null&&h.start.column>d[s].column&&s++,n.unshift(s,0),d.splice.apply(d,n),this.$updateRows()}}},v.prototype.$updateRows=function(){var h=this.session.lineWidgets;if(h){var d=!0;h.forEach(function(s,i){if(s)for(d=!1,s.row=i;s.$oldWidget;)s.$oldWidget.row=i,s=s.$oldWidget}),d&&(this.session.lineWidgets=null)}},v.prototype.$registerLineWidget=function(h){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var d=this.session.lineWidgets[h.row];return d&&(h.$oldWidget=d,d.el&&d.el.parentNode&&(d.el.parentNode.removeChild(d.el),d._inDocument=!1)),this.session.lineWidgets[h.row]=h,h},v.prototype.addLineWidget=function(h){if(this.$registerLineWidget(h),h.session=this.session,!this.editor)return h;var d=this.editor.renderer;h.html&&!h.el&&(h.el=D.createElement("div"),h.el.innerHTML=h.html),h.text&&!h.el&&(h.el=D.createElement("div"),h.el.textContent=h.text),h.el&&(D.addCssClass(h.el,"ace_lineWidgetContainer"),h.className&&D.addCssClass(h.el,h.className),h.el.style.position="absolute",h.el.style.zIndex="5",d.container.appendChild(h.el),h._inDocument=!0,h.coverGutter||(h.el.style.zIndex="3"),h.pixelHeight==null&&(h.pixelHeight=h.el.offsetHeight)),h.rowCount==null&&(h.rowCount=h.pixelHeight/d.layerConfig.lineHeight);var s=this.session.getFoldAt(h.row,0);if(h.$fold=s,s){var i=this.session.lineWidgets;h.row==s.end.row&&!i[s.start.row]?i[s.start.row]=h:h.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:h.row}}}),this.$updateRows(),this.renderWidgets(null,d),this.onWidgetChanged(h),h},v.prototype.removeLineWidget=function(h){if(h._inDocument=!1,h.session=null,h.el&&h.el.parentNode&&h.el.parentNode.removeChild(h.el),h.editor&&h.editor.destroy)try{h.editor.destroy()}catch{}if(this.session.lineWidgets){var d=this.session.lineWidgets[h.row];if(d==h)this.session.lineWidgets[h.row]=h.$oldWidget,h.$oldWidget&&this.onWidgetChanged(h.$oldWidget);else for(;d;){if(d.$oldWidget==h){d.$oldWidget=h.$oldWidget;break}d=d.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:h.row}}}),this.$updateRows()},v.prototype.getWidgetsAtRow=function(h){for(var d=this.session.lineWidgets,s=d&&d[h],i=[];s;)i.push(s),s=s.$oldWidget;return i},v.prototype.onWidgetChanged=function(h){this.session._changedWidgets.push(h),this.editor&&this.editor.renderer.updateFull()},v.prototype.measureWidgets=function(h,d){var s=this.session._changedWidgets,i=d.layerConfig;if(!(!s||!s.length)){for(var r=1/0,n=0;n<s.length;n++){var o=s[n];if(!(!o||!o.el)&&o.session==this.session){if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=!0,d.container.appendChild(o.el)}o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/i.characterWidth));var a=o.h/i.lineHeight;o.coverLine&&(a-=this.session.getRowLineCount(o.row),a<0&&(a=0)),o.rowCount!=a&&(o.rowCount=a,o.row<r&&(r=o.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},v.prototype.renderWidgets=function(h,d){var s=d.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,s.firstRow),n=Math.max(this.lastRow,s.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=s.firstRow,this.lastRow=s.lastRow,d.$cursorLayer.config=s;for(var o=r;o<=n;o++){var a=i[o];if(!(!a||!a.el)){if(a.hidden){a.el.style.top=-100-(a.pixelHeight||0)+"px";continue}a._inDocument||(a._inDocument=!0,d.container.appendChild(a.el));var l=d.$cursorLayer.getPixelPosition({row:o,column:0},!0).top;a.coverLine||(l+=s.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-s.offset+"px";var f=a.coverGutter?0:d.gutterWidth;a.fixedWidth||(f-=d.scrollLeft),a.el.style.left=f+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=s.width+2*s.padding+"px"),a.fixedWidth?a.el.style.right=d.scrollBar.getWidth()+"px":a.el.style.right=""}}}},v}();M.LineWidgets=x}),ace.define("ace/apply_delta",["require","exports","module"],function(L,M,K){M.applyDelta=function(D,x,v){var h=x.start.row,d=x.start.column,s=D[h]||"";switch(x.action){case"insert":var i=x.lines;if(i.length===1)D[h]=s.substring(0,d)+x.lines[0]+s.substring(d);else{var r=[h,1].concat(x.lines);D.splice.apply(D,r),D[h]=s.substring(0,d)+D[h],D[h+x.lines.length-1]+=s.substring(d)}break;case"remove":var n=x.end.column,o=x.end.row;h===o?D[h]=s.substring(0,d)+s.substring(n):D.splice(h,o-h+1,s.substring(0,d)+D[o].substring(n));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(L,M,K){var D=L("./lib/oop"),x=L("./lib/event_emitter").EventEmitter,v=function(){function s(i,r,n){this.$onChange=this.onChange.bind(this),this.attach(i),typeof r!="number"?this.setPosition(r.row,r.column):this.setPosition(r,n)}return s.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},s.prototype.getDocument=function(){return this.document},s.prototype.onChange=function(i){if(!(i.start.row==i.end.row&&i.start.row!=this.row)&&!(i.start.row>this.row)){var r=d(i,{row:this.row,column:this.column},this.$insertRight);this.setPosition(r.row,r.column,!0)}},s.prototype.setPosition=function(i,r,n){var o;if(n?o={row:i,column:r}:o=this.$clipPositionToDocument(i,r),!(this.row==o.row&&this.column==o.column)){var a={row:this.row,column:this.column};this.row=o.row,this.column=o.column,this._signal("change",{old:a,value:o})}},s.prototype.detach=function(){this.document.off("change",this.$onChange)},s.prototype.attach=function(i){this.document=i||this.document,this.document.on("change",this.$onChange)},s.prototype.$clipPositionToDocument=function(i,r){var n={};return i>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):i<0?(n.row=0,n.column=0):(n.row=i,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,r))),r<0&&(n.column=0),n},s}();v.prototype.$insertRight=!1,D.implement(v.prototype,x);function h(s,i,r){var n=r?s.column<=i.column:s.column<i.column;return s.row<i.row||s.row==i.row&&n}function d(s,i,r){var n=s.action=="insert",o=(n?1:-1)*(s.end.row-s.start.row),a=(n?1:-1)*(s.end.column-s.start.column),l=s.start,f=n?l:s.end;return h(i,l,r)?{row:i.row,column:i.column}:h(f,i,!r)?{row:i.row+o,column:i.column+(i.row==f.row?a:0)}:{row:l.row,column:l.column}}M.Anchor=v}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(L,M,K){var D=L("./lib/oop"),x=L("./apply_delta").applyDelta,v=L("./lib/event_emitter").EventEmitter,h=L("./range").Range,d=L("./anchor").Anchor,s=function(){function i(r){this.$lines=[""],r.length===0?this.$lines=[""]:Array.isArray(r)?this.insertMergedLines({row:0,column:0},r):this.insert({row:0,column:0},r)}return i.prototype.setValue=function(r){var n=this.getLength()-1;this.remove(new h(0,0,n,this.getLine(n).length)),this.insert({row:0,column:0},r||"")},i.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},i.prototype.createAnchor=function(r,n){return new d(this,r,n)},i.prototype.$detectNewLine=function(r){var n=r.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=n?n[1]:`
`,this._signal("changeNewLineMode")},i.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},i.prototype.setNewLineMode=function(r){this.$newLineMode!==r&&(this.$newLineMode=r,this._signal("changeNewLineMode"))},i.prototype.getNewLineMode=function(){return this.$newLineMode},i.prototype.isNewLine=function(r){return r==`\r
`||r=="\r"||r==`
`},i.prototype.getLine=function(r){return this.$lines[r]||""},i.prototype.getLines=function(r,n){return this.$lines.slice(r,n+1)},i.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},i.prototype.getLength=function(){return this.$lines.length},i.prototype.getTextRange=function(r){return this.getLinesForRange(r).join(this.getNewLineCharacter())},i.prototype.getLinesForRange=function(r){var n;if(r.start.row===r.end.row)n=[this.getLine(r.start.row).substring(r.start.column,r.end.column)];else{n=this.getLines(r.start.row,r.end.row),n[0]=(n[0]||"").substring(r.start.column);var o=n.length-1;r.end.row-r.start.row==o&&(n[o]=n[o].substring(0,r.end.column))}return n},i.prototype.insertLines=function(r,n){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(r,n)},i.prototype.removeLines=function(r,n){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(r,n)},i.prototype.insertNewLine=function(r){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(r,["",""])},i.prototype.insert=function(r,n){return this.getLength()<=1&&this.$detectNewLine(n),this.insertMergedLines(r,this.$split(n))},i.prototype.insertInLine=function(r,n){var o=this.clippedPos(r.row,r.column),a=this.pos(r.row,r.column+n.length);return this.applyDelta({start:o,end:a,action:"insert",lines:[n]},!0),this.clonePos(a)},i.prototype.clippedPos=function(r,n){var o=this.getLength();r===void 0?r=o:r<0?r=0:r>=o&&(r=o-1,n=void 0);var a=this.getLine(r);return n==null&&(n=a.length),n=Math.min(Math.max(n,0),a.length),{row:r,column:n}},i.prototype.clonePos=function(r){return{row:r.row,column:r.column}},i.prototype.pos=function(r,n){return{row:r,column:n}},i.prototype.$clipPosition=function(r){var n=this.getLength();return r.row>=n?(r.row=Math.max(0,n-1),r.column=this.getLine(n-1).length):(r.row=Math.max(0,r.row),r.column=Math.min(Math.max(r.column,0),this.getLine(r.row).length)),r},i.prototype.insertFullLines=function(r,n){r=Math.min(Math.max(r,0),this.getLength());var o=0;r<this.getLength()?(n=n.concat([""]),o=0):(n=[""].concat(n),r--,o=this.$lines[r].length),this.insertMergedLines({row:r,column:o},n)},i.prototype.insertMergedLines=function(r,n){var o=this.clippedPos(r.row,r.column),a={row:o.row+n.length-1,column:(n.length==1?o.column:0)+n[n.length-1].length};return this.applyDelta({start:o,end:a,action:"insert",lines:n}),this.clonePos(a)},i.prototype.remove=function(r){var n=this.clippedPos(r.start.row,r.start.column),o=this.clippedPos(r.end.row,r.end.column);return this.applyDelta({start:n,end:o,action:"remove",lines:this.getLinesForRange({start:n,end:o})}),this.clonePos(n)},i.prototype.removeInLine=function(r,n,o){var a=this.clippedPos(r,n),l=this.clippedPos(r,o);return this.applyDelta({start:a,end:l,action:"remove",lines:this.getLinesForRange({start:a,end:l})},!0),this.clonePos(a)},i.prototype.removeFullLines=function(r,n){r=Math.min(Math.max(0,r),this.getLength()-1),n=Math.min(Math.max(0,n),this.getLength()-1);var o=n==this.getLength()-1&&r>0,a=n<this.getLength()-1,l=o?r-1:r,f=o?this.getLine(l).length:0,u=a?n+1:n,g=a?0:this.getLine(u).length,y=new h(l,f,u,g),_=this.$lines.slice(r,n+1);return this.applyDelta({start:y.start,end:y.end,action:"remove",lines:this.getLinesForRange(y)}),_},i.prototype.removeNewLine=function(r){r<this.getLength()-1&&r>=0&&this.applyDelta({start:this.pos(r,this.getLine(r).length),end:this.pos(r+1,0),action:"remove",lines:["",""]})},i.prototype.replace=function(r,n){if(r instanceof h||(r=h.fromPoints(r.start,r.end)),n.length===0&&r.isEmpty())return r.start;if(n==this.getTextRange(r))return r.end;this.remove(r);var o;return n?o=this.insert(r.start,n):o=r.start,o},i.prototype.applyDeltas=function(r){for(var n=0;n<r.length;n++)this.applyDelta(r[n])},i.prototype.revertDeltas=function(r){for(var n=r.length-1;n>=0;n--)this.revertDelta(r[n])},i.prototype.applyDelta=function(r,n){var o=r.action=="insert";(o?r.lines.length<=1&&!r.lines[0]:!h.comparePoints(r.start,r.end))||(o&&r.lines.length>2e4?this.$splitAndapplyLargeDelta(r,2e4):(x(this.$lines,r,n),this._signal("change",r)))},i.prototype.$safeApplyDelta=function(r){var n=this.$lines.length;(r.action=="remove"&&r.start.row<n&&r.end.row<n||r.action=="insert"&&r.start.row<=n)&&this.applyDelta(r)},i.prototype.$splitAndapplyLargeDelta=function(r,n){for(var o=r.lines,a=o.length-n+1,l=r.start.row,f=r.start.column,u=0,g=0;u<a;u=g){g+=n-1;var y=o.slice(u,g);y.push(""),this.applyDelta({start:this.pos(l+u,f),end:this.pos(l+g,f=0),action:r.action,lines:y},!0)}r.lines=o.slice(u),r.start.row=l+u,r.start.column=f,this.applyDelta(r,!0)},i.prototype.revertDelta=function(r){this.$safeApplyDelta({start:this.clonePos(r.start),end:this.clonePos(r.end),action:r.action=="insert"?"remove":"insert",lines:r.lines.slice()})},i.prototype.indexToPosition=function(r,n){for(var o=this.$lines||this.getAllLines(),a=this.getNewLineCharacter().length,l=n||0,f=o.length;l<f;l++)if(r-=o[l].length+a,r<0)return{row:l,column:r+o[l].length+a};return{row:f-1,column:r+o[f-1].length+a}},i.prototype.positionToIndex=function(r,n){for(var o=this.$lines||this.getAllLines(),a=this.getNewLineCharacter().length,l=0,f=Math.min(r.row,o.length),u=n||0;u<f;++u)l+=o[u].length+a;return l+r.column},i.prototype.$split=function(r){return r.split(/\r\n|\r|\n/)},i}();s.prototype.$autoNewLine="",s.prototype.$newLineMode="auto",D.implement(s.prototype,v),M.Document=s}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(L,M,K){var D=L("./lib/oop"),x=L("./lib/event_emitter").EventEmitter,v=function(){function h(d,s){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=d;var i=this;this.$worker=function(){if(i.running){for(var r=new Date,n=i.currentLine,o=-1,a=i.doc,l=n;i.lines[n];)n++;var f=a.getLength(),u=0;for(i.running=!1;n<f;){i.$tokenizeRow(n),o=n;do n++;while(i.lines[n]);if(u++,u%5===0&&new Date-r>20){i.running=setTimeout(i.$worker,20);break}}i.currentLine=n,o==-1&&(o=n),l<=o&&i.fireUpdateEvent(l,o)}}}return h.prototype.setTokenizer=function(d){this.tokenizer=d,this.lines=[],this.states=[],this.start(0)},h.prototype.setDocument=function(d){this.doc=d,this.lines=[],this.states=[],this.stop()},h.prototype.fireUpdateEvent=function(d,s){var i={first:d,last:s};this._signal("update",{data:i})},h.prototype.start=function(d){this.currentLine=Math.min(d||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},h.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},h.prototype.$updateOnChange=function(d){var s=d.start.row,i=d.end.row-s;if(i===0)this.lines[s]=null;else if(d.action=="remove")this.lines.splice(s,i+1,null),this.states.splice(s,i+1,null);else{var r=Array(i+1);r.unshift(s,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(s,this.currentLine,this.doc.getLength()),this.stop()},h.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},h.prototype.getTokens=function(d){return this.lines[d]||this.$tokenizeRow(d)},h.prototype.getState=function(d){return this.currentLine==d&&this.$tokenizeRow(d),this.states[d]||"start"},h.prototype.$tokenizeRow=function(d){var s=this.doc.getLine(d),i=this.states[d-1],r=this.tokenizer.getLineTokens(s,i,d);return this.states[d]+""!=r.state+""?(this.states[d]=r.state,this.lines[d+1]=null,this.currentLine>d+1&&(this.currentLine=d+1)):this.currentLine==d&&(this.currentLine=d+1),this.lines[d]=r.tokens},h.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},h}();D.implement(v.prototype,x),M.BackgroundTokenizer=v}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(L,M,K){var D=L("./lib/lang"),x=L("./range").Range,v=function(){function h(d,s,i){i===void 0&&(i="text"),this.setRegexp(d),this.clazz=s,this.type=i,this.docLen=0}return h.prototype.setRegexp=function(d){this.regExp+""!=d+""&&(this.regExp=d,this.cache=[])},h.prototype.update=function(d,s,i,r){if(this.regExp){for(var n=r.firstRow,o=r.lastRow,a={},l=i.$editor.$search,f=l.$isMultilineSearch(i.$editor.getLastSearchOptions()),u=n;u<=o;u++){var g=this.cache[u];if(g==null||i.getValue().length!=this.docLen){if(f){g=[];var y=l.$multiLineForward(i,this.regExp,u,o);if(y){var _=y.endRow<=o?y.endRow-1:o;_>u&&(u=_),g.push(new x(y.startRow,y.startCol,y.endRow,y.endCol))}g.length>this.MAX_RANGES&&(g=g.slice(0,this.MAX_RANGES))}else g=D.getMatchOffsets(i.getLine(u),this.regExp),g.length>this.MAX_RANGES&&(g=g.slice(0,this.MAX_RANGES)),g=g.map(function(w){return new x(u,w.offset,u,w.offset+w.length)});this.cache[u]=g.length?g:""}if(g.length!==0)for(var p=g.length;p--;){var S=g[p].toScreenRange(i),b=S.toString();a[b]||(a[b]=!0,s.drawSingleLineMarker(d,S,this.clazz,r))}}this.docLen=i.getValue().length}},h}();v.prototype.MAX_RANGES=500,M.SearchHighlight=v}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(L,M,K){var D=function(){function _(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return _.prototype.addSession=function(p){this.$session=p},_.prototype.add=function(p,S,b){if(!this.$fromUndo&&p!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),S===!1||!this.lastDeltas){this.lastDeltas=[];var w=this.$undoStack.length;w>this.$undoDepth-1&&this.$undoStack.splice(0,w-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),p.id=this.$rev=++this.$maxRev}(p.action=="remove"||p.action=="insert")&&(this.$lastDelta=p),this.lastDeltas.push(p)}},_.prototype.addSelection=function(p,S){this.selections.push({value:p,rev:S||this.$rev})},_.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},_.prototype.markIgnored=function(p,S){S==null&&(S=this.$rev+1);for(var b=this.$undoStack,w=b.length;w--;){var R=b[w][0];if(R.id<=p)break;R.id<S&&(R.ignore=!0)}this.lastDeltas=null},_.prototype.getSelection=function(p,S){for(var b=this.selections,w=b.length;w--;){var R=b[w];if(R.rev<p)return S&&(R=b[w+1]),R}},_.prototype.getRevision=function(){return this.$rev},_.prototype.getDeltas=function(p,S){S==null&&(S=this.$rev+1);for(var b=this.$undoStack,w=null,R=0,H=b.length;H--;){var k=b[H][0];if(k.id<S&&!w&&(w=H+1),k.id<=p){R=H+1;break}}return b.slice(R,w)},_.prototype.getChangedRanges=function(p,S){S==null&&(S=this.$rev+1)},_.prototype.getChangedLines=function(p,S){S==null&&(S=this.$rev+1)},_.prototype.undo=function(p,S){this.lastDeltas=null;var b=this.$undoStack;if(x(b,b.length)){p||(p=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var w=b.pop(),R=null;return w&&(R=p.undoChanges(w,S),this.$redoStack.push(w),this.$syncRev()),this.$fromUndo=!1,R}},_.prototype.redo=function(p,S){if(this.lastDeltas=null,p||(p=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var b=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);y(this.$redoStack,b),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(H){H[0].id=++this.$maxRev},this)}var w=this.$redoStack.pop(),R=null;return w&&(R=p.redoChanges(w,S),this.$undoStack.push(w),this.$syncRev()),this.$fromUndo=!1,R},_.prototype.$syncRev=function(){var p=this.$undoStack,S=p[p.length-1],b=S&&S[0].id||0;this.$redoStackBaseRev=b,this.$rev=b},_.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},_.prototype.canUndo=function(){return this.$undoStack.length>0},_.prototype.canRedo=function(){return this.$redoStack.length>0},_.prototype.bookmark=function(p){p==null&&(p=this.$rev),this.mark=p},_.prototype.isAtBookmark=function(){return this.$rev===this.mark},_.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},_.prototype.fromJSON=function(p){this.reset(),this.$undoStack=p.$undoStack,this.$redoStack=p.$redoStack},_.prototype.$prettyPrint=function(p){return p?i(p):i(this.$undoStack)+`
---
`+i(this.$redoStack)},_}();D.prototype.hasUndo=D.prototype.canUndo,D.prototype.hasRedo=D.prototype.canRedo,D.prototype.isClean=D.prototype.isAtBookmark,D.prototype.markClean=D.prototype.bookmark;function x(_,p){for(var S=p;S--;){var b=_[S];if(b&&!b[0].ignore){for(;S<p-1;){var w=o(_[S],_[S+1]);_[S]=w[0],_[S+1]=w[1],S++}return!0}}}var v=L("./range").Range,h=v.comparePoints;v.comparePoints;function d(_){return{row:_.row,column:_.column}}function s(_){return{start:d(_.start),end:d(_.end),action:_.action,lines:_.lines.slice()}}function i(_){if(_=_||this,Array.isArray(_))return _.map(i).join(`
`);var p="";return _.action?(p=_.action=="insert"?"+":"-",p+="["+_.lines+"]"):_.value&&(Array.isArray(_.value)?p=_.value.map(r).join(`
`):p=r(_.value)),_.start&&(p+=r(_)),(_.id||_.rev)&&(p+="	("+(_.id||_.rev)+")"),p}function r(_){return _.start.row+":"+_.start.column+"=>"+_.end.row+":"+_.end.column}function n(_,p){var S=_.action=="insert",b=p.action=="insert";if(S&&b)if(h(p.start,_.end)>=0)l(p,_,-1);else if(h(p.start,_.start)<=0)l(_,p,1);else return null;else if(S&&!b)if(h(p.start,_.end)>=0)l(p,_,-1);else if(h(p.end,_.start)<=0)l(_,p,-1);else return null;else if(!S&&b)if(h(p.start,_.start)>=0)l(p,_,1);else if(h(p.start,_.start)<=0)l(_,p,1);else return null;else if(!S&&!b)if(h(p.start,_.start)>=0)l(p,_,1);else if(h(p.end,_.start)<=0)l(_,p,-1);else return null;return[p,_]}function o(_,p){for(var S=_.length;S--;)for(var b=0;b<p.length;b++)if(!n(_[S],p[b])){for(;S<_.length;){for(;b--;)n(p[b],_[S]);b=p.length,S++}return[_,p]}return _.selectionBefore=p.selectionBefore=_.selectionAfter=p.selectionAfter=null,[p,_]}function a(_,p){var S=_.action=="insert",b=p.action=="insert";if(S&&b)h(_.start,p.start)<0?l(p,_,1):l(_,p,1);else if(S&&!b)h(_.start,p.end)>=0?l(_,p,-1):(h(_.start,p.start)<=0||l(_,v.fromPoints(p.start,_.start),-1),l(p,_,1));else if(!S&&b)h(p.start,_.end)>=0?l(p,_,-1):(h(p.start,_.start)<=0||l(p,v.fromPoints(_.start,p.start),-1),l(_,p,1));else if(!S&&!b)if(h(p.start,_.end)>=0)l(p,_,-1);else if(h(p.end,_.start)<=0)l(_,p,-1);else{var w,R;return h(_.start,p.start)<0&&(w=_,_=u(_,p.start)),h(_.end,p.end)>0&&(R=u(_,p.end)),f(p.end,_.start,_.end,-1),R&&!w&&(_.lines=R.lines,_.start=R.start,_.end=R.end,R=_),[p,w,R].filter(Boolean)}return[p,_]}function l(_,p,S){f(_.start,p.start,p.end,S),f(_.end,p.start,p.end,S)}function f(_,p,S,b){_.row==(b==1?p:S).row&&(_.column+=b*(S.column-p.column)),_.row+=b*(S.row-p.row)}function u(_,p){var S=_.lines,b=_.end;_.end=d(p);var w=_.end.row-_.start.row,R=S.splice(w,S.length),H=w?p.column:p.column-_.start.column;S.push(R[0].substring(0,H)),R[0]=R[0].substr(H);var k={start:d(p),end:b,lines:R,action:_.action};return k}function g(_,p){p=s(p);for(var S=_.length;S--;){for(var b=_[S],w=0;w<b.length;w++){var R=b[w],H=a(R,p);p=H[0],H.length!=2&&(H[2]?(b.splice(w+1,1,H[1],H[2]),w++):H[1]||(b.splice(w,1),w--))}b.length||_.splice(S,1)}return _}function y(_,p){for(var S=0;S<p.length;S++)for(var b=p[S],w=0;w<b.length;w++)g(_,b[w])}M.UndoManager=D}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(L,M,K){var D=L("../range").Range,x=function(){function v(h,d){this.foldData=h,Array.isArray(d)?this.folds=d:d=this.folds=[d];var s=d[d.length-1];this.range=new D(d[0].start.row,d[0].start.column,s.end.row,s.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(i){i.setFoldLine(this)},this)}return v.prototype.shiftRow=function(h){this.start.row+=h,this.end.row+=h,this.folds.forEach(function(d){d.start.row+=h,d.end.row+=h})},v.prototype.addFold=function(h){if(h.sameRow){if(h.start.row<this.startRow||h.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(h),this.folds.sort(function(d,s){return-d.range.compareEnd(s.start.row,s.start.column)}),this.range.compareEnd(h.start.row,h.start.column)>0?(this.end.row=h.end.row,this.end.column=h.end.column):this.range.compareStart(h.end.row,h.end.column)<0&&(this.start.row=h.start.row,this.start.column=h.start.column)}else if(h.start.row==this.end.row)this.folds.push(h),this.end.row=h.end.row,this.end.column=h.end.column;else if(h.end.row==this.start.row)this.folds.unshift(h),this.start.row=h.start.row,this.start.column=h.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");h.foldLine=this},v.prototype.containsRow=function(h){return h>=this.start.row&&h<=this.end.row},v.prototype.walk=function(h,d,s){var i=0,r=this.folds,n,o,a,l=!0;d==null&&(d=this.end.row,s=this.end.column);for(var f=0;f<r.length;f++){if(n=r[f],o=n.range.compareStart(d,s),o==-1){h(null,d,s,i,l);return}if(a=h(null,n.start.row,n.start.column,i,l),a=!a&&h(n.placeholder,n.start.row,n.start.column,i),a||o===0)return;l=!n.sameRow,i=n.end.column}h(null,d,s,i,l)},v.prototype.getNextFoldTo=function(h,d){for(var s,i,r=0;r<this.folds.length;r++){if(s=this.folds[r],i=s.range.compareEnd(h,d),i==-1)return{fold:s,kind:"after"};if(i===0)return{fold:s,kind:"inside"}}return null},v.prototype.addRemoveChars=function(h,d,s){var i=this.getNextFoldTo(h,d),r,n;if(i){if(r=i.fold,i.kind=="inside"&&r.start.column!=d&&r.start.row!=h)window.console&&window.console.log(h,d,r);else if(r.start.row==h){n=this.folds;var o=n.indexOf(r);for(o===0&&(this.start.column+=s),o;o<n.length;o++){if(r=n[o],r.start.column+=s,!r.sameRow)return;r.end.column+=s}this.end.column+=s}}},v.prototype.split=function(h,d){var s=this.getNextFoldTo(h,d);if(!s||s.kind=="inside")return null;var i=s.fold,r=this.folds,n=this.foldData,o=r.indexOf(i),a=r[o-1];this.end.row=a.end.row,this.end.column=a.end.column,r=r.splice(o,r.length-o);var l=new v(n,r);return n.splice(n.indexOf(this)+1,0,l),l},v.prototype.merge=function(h){for(var d=h.folds,s=0;s<d.length;s++)this.addFold(d[s]);var i=this.foldData;i.splice(i.indexOf(h),1)},v.prototype.toString=function(){var h=[this.range.toString()+": ["];return this.folds.forEach(function(d){h.push("  "+d.toString())}),h.push("]"),h.join(`
`)},v.prototype.idxToPosition=function(h){for(var d=0,s=0;s<this.folds.length;s++){var i=this.folds[s];if(h-=i.start.column-d,h<0)return{row:i.start.row,column:i.start.column+h};if(h-=i.placeholder.length,h<0)return i.start;d=i.end.column}return{row:this.end.row,column:this.end.column+h}},v}();M.FoldLine=x}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(L,M,K){var D=L("./range").Range,x=D.comparePoints,v=function(){function h(){this.ranges=[],this.$bias=1}return h.prototype.pointIndex=function(d,s,i){for(var r=this.ranges,n=i||0;n<r.length;n++){var o=r[n],a=x(d,o.end);if(!(a>0)){var l=x(d,o.start);return a===0?s&&l!==0?-n-2:n:l>0||l===0&&!s?n:-n-1}}return-n-1},h.prototype.add=function(d){var s=!d.isEmpty(),i=this.pointIndex(d.start,s);i<0&&(i=-i-1);var r=this.pointIndex(d.end,s,i);return r<0?r=-r-1:r++,this.ranges.splice(i,r-i,d)},h.prototype.addList=function(d){for(var s=[],i=d.length;i--;)s.push.apply(s,this.add(d[i]));return s},h.prototype.substractPoint=function(d){var s=this.pointIndex(d);if(s>=0)return this.ranges.splice(s,1)},h.prototype.merge=function(){var d=[],s=this.ranges;s=s.sort(function(a,l){return x(a.start,l.start)});for(var i=s[0],r,n=1;n<s.length;n++){r=i,i=s[n];var o=x(r.end,i.start);o<0||o==0&&!r.isEmpty()&&!i.isEmpty()||(x(r.end,i.end)<0&&(r.end.row=i.end.row,r.end.column=i.end.column),s.splice(n,1),d.push(i),i=r,n--)}return this.ranges=s,d},h.prototype.contains=function(d,s){return this.pointIndex({row:d,column:s})>=0},h.prototype.containsPoint=function(d){return this.pointIndex(d)>=0},h.prototype.rangeAtPoint=function(d){var s=this.pointIndex(d);if(s>=0)return this.ranges[s]},h.prototype.clipRows=function(d,s){var i=this.ranges;if(i[0].start.row>s||i[i.length-1].start.row<d)return[];var r=this.pointIndex({row:d,column:0});r<0&&(r=-r-1);var n=this.pointIndex({row:s,column:0},r);n<0&&(n=-n-1);for(var o=[],a=r;a<n;a++)o.push(i[a]);return o},h.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},h.prototype.attach=function(d){this.session&&this.detach(),this.session=d,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},h.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},h.prototype.$onChange=function(d){for(var s=d.start,i=d.end,r=s.row,n=i.row,o=this.ranges,a=0,l=o.length;a<l;a++){var f=o[a];if(f.end.row>=r)break}if(d.action=="insert")for(var u=n-r,g=-s.column+i.column;a<l;a++){var f=o[a];if(f.start.row>r)break;if(f.start.row==r&&f.start.column>=s.column&&(f.start.column==s.column&&this.$bias<=0||(f.start.column+=g,f.start.row+=u)),f.end.row==r&&f.end.column>=s.column){if(f.end.column==s.column&&this.$bias<0)continue;f.end.column==s.column&&g>0&&a<l-1&&f.end.column>f.start.column&&f.end.column==o[a+1].start.column&&(f.end.column-=g),f.end.column+=g,f.end.row+=u}}else for(var u=r-n,g=s.column-i.column;a<l;a++){var f=o[a];if(f.start.row>n)break;f.end.row<n&&(r<f.end.row||r==f.end.row&&s.column<f.end.column)?(f.end.row=r,f.end.column=s.column):f.end.row==n?f.end.column<=i.column?(u||f.end.column>s.column)&&(f.end.column=s.column,f.end.row=s.row):(f.end.column+=g,f.end.row+=u):f.end.row>n&&(f.end.row+=u),f.start.row<n&&(r<f.start.row||r==f.start.row&&s.column<f.start.column)?(f.start.row=r,f.start.column=s.column):f.start.row==n?f.start.column<=i.column?(u||f.start.column>s.column)&&(f.start.column=s.column,f.start.row=s.row):(f.start.column+=g,f.start.row+=u):f.start.row>n&&(f.start.row+=u)}if(u!=0&&a<l)for(;a<l;a++){var f=o[a];f.start.row+=u,f.end.row+=u}},h}();v.prototype.comparePoints=x,M.RangeList=v}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(L,M,K){var D=this&&this.__extends||function(){var r=function(n,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(a[f]=l[f])},r(n,o)};return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");r(n,o);function a(){this.constructor=n}n.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),x=L("../range_list").RangeList,v=function(r){D(n,r);function n(o,a){var l=r.call(this)||this;return l.foldLine=null,l.placeholder=a,l.range=o,l.start=o.start,l.end=o.end,l.sameRow=o.start.row==o.end.row,l.subFolds=l.ranges=[],l}return n.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},n.prototype.setFoldLine=function(o){this.foldLine=o,this.subFolds.forEach(function(a){a.setFoldLine(o)})},n.prototype.clone=function(){var o=this.range.clone(),a=new n(o,this.placeholder);return this.subFolds.forEach(function(l){a.subFolds.push(l.clone())}),a.collapseChildren=this.collapseChildren,a},n.prototype.addSubFold=function(o){if(!this.range.isEqual(o)){d(o,this.start);for(var g=o.start.row,y=o.start.column,a=0,l=-1;a<this.subFolds.length&&(l=this.subFolds[a].range.compare(g,y),l==1);a++);var f=this.subFolds[a],u=0;if(l==0){if(f.range.containsRange(o))return f.addSubFold(o);u=1}for(var g=o.range.end.row,y=o.range.end.column,_=a,l=-1;_<this.subFolds.length&&(l=this.subFolds[_].range.compare(g,y),l==1);_++);l==0&&_++;for(var p=this.subFolds.splice(a,_-a,o),S=l==0?p.length-1:p.length,b=u;b<S;b++)o.addSubFold(p[b]);return o.setFoldLine(this.foldLine),o}},n.prototype.restoreRange=function(o){return i(o,this.start)},n}(x);function h(r,n){r.row-=n.row,r.row==0&&(r.column-=n.column)}function d(r,n){h(r.start,n),h(r.end,n)}function s(r,n){r.row==0&&(r.column+=n.column),r.row+=n.row}function i(r,n){s(r.start,n),s(r.end,n)}M.Fold=v}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(L,M,K){var D=L("../range").Range,x=L("./fold_line").FoldLine,v=L("./fold").Fold,h=L("../token_iterator").TokenIterator,d=L("../mouse/mouse_event").MouseEvent;function s(){this.getFoldAt=function(i,r,n){var o=this.getFoldLine(i);if(!o)return null;for(var a=o.folds,l=0;l<a.length;l++){var f=a[l].range;if(f.contains(i,r)){if(n==1&&f.isEnd(i,r)&&!f.isEmpty())continue;if(n==-1&&f.isStart(i,r)&&!f.isEmpty())continue;return a[l]}}},this.getFoldsInRange=function(i){var r=i.start,n=i.end,o=this.$foldData,a=[];r.column+=1,n.column-=1;for(var l=0;l<o.length;l++){var f=o[l].range.compareRange(i);if(f!=2){if(f==-2)break;for(var u=o[l].folds,g=0;g<u.length;g++){var y=u[g];if(f=y.range.compareRange(i),f==-2)break;if(f==2)continue;if(f==42)break;a.push(y)}}}return r.column-=1,n.column+=1,a},this.getFoldsInRangeList=function(i){if(Array.isArray(i)){var r=[];i.forEach(function(n){r=r.concat(this.getFoldsInRange(n))},this)}else var r=this.getFoldsInRange(i);return r},this.getAllFolds=function(){for(var i=[],r=this.$foldData,n=0;n<r.length;n++)for(var o=0;o<r[n].folds.length;o++)i.push(r[n].folds[o]);return i},this.getFoldStringAt=function(i,r,n,o){if(o=o||this.getFoldLine(i),!o)return null;for(var a={end:{column:0}},l,f,u=0;u<o.folds.length;u++){f=o.folds[u];var g=f.range.compareEnd(i,r);if(g==-1){l=this.getLine(f.start.row).substring(a.end.column,f.start.column);break}else if(g===0)return null;a=f}return l||(l=this.getLine(f.start.row).substring(a.end.column)),n==-1?l.substring(0,r-a.end.column):n==1?l.substring(r-a.end.column):l},this.getFoldLine=function(i,r){var n=this.$foldData,o=0;for(r&&(o=n.indexOf(r)),o==-1&&(o=0),o;o<n.length;o++){var a=n[o];if(a.start.row<=i&&a.end.row>=i)return a;if(a.end.row>i)return null}return null},this.getNextFoldLine=function(i,r){var n=this.$foldData,o=0;for(r&&(o=n.indexOf(r)),o==-1&&(o=0),o;o<n.length;o++){var a=n[o];if(a.end.row>=i)return a}return null},this.getFoldedRowCount=function(i,r){for(var n=this.$foldData,o=r-i+1,a=0;a<n.length;a++){var l=n[a],f=l.end.row,u=l.start.row;if(f>=r){u<r&&(u>=i?o-=r-u:o=0);break}else f>=i&&(u>=i?o-=f-u:o-=f-i+1)}return o},this.$addFoldLine=function(i){return this.$foldData.push(i),this.$foldData.sort(function(r,n){return r.start.row-n.start.row}),i},this.addFold=function(i,r){var n=this.$foldData,o=!1,a;i instanceof v?a=i:(a=new v(r,i),a.collapseChildren=r.collapseChildren),this.$clipRangeToDocument(a.range);var l=a.start.row,f=a.start.column,u=a.end.row,g=a.end.column,y=this.getFoldAt(l,f,1),_=this.getFoldAt(u,g,-1);if(y&&_==y)return y.addSubFold(a);y&&!y.range.isStart(l,f)&&this.removeFold(y),_&&!_.range.isEnd(u,g)&&this.removeFold(_);var p=this.getFoldsInRange(a.range);p.length>0&&(this.removeFolds(p),a.collapseChildren||p.forEach(function(R){a.addSubFold(R)}));for(var S=0;S<n.length;S++){var b=n[S];if(u==b.start.row){b.addFold(a),o=!0;break}else if(l==b.end.row){if(b.addFold(a),o=!0,!a.sameRow){var w=n[S+1];if(w&&w.start.row==u){b.merge(w);break}}break}else if(u<=b.start.row)break}return o||(b=this.$addFoldLine(new x(this.$foldData,a))),this.$useWrapMode?this.$updateWrapData(b.start.row,b.start.row):this.$updateRowLengthCache(b.start.row,b.start.row),this.$modified=!0,this._signal("changeFold",{data:a,action:"add"}),a},this.addFolds=function(i){i.forEach(function(r){this.addFold(r)},this)},this.removeFold=function(i){var r=i.foldLine,n=r.start.row,o=r.end.row,a=this.$foldData,l=r.folds;if(l.length==1)a.splice(a.indexOf(r),1);else if(r.range.isEnd(i.end.row,i.end.column))l.pop(),r.end.row=l[l.length-1].end.row,r.end.column=l[l.length-1].end.column;else if(r.range.isStart(i.start.row,i.start.column))l.shift(),r.start.row=l[0].start.row,r.start.column=l[0].start.column;else if(i.sameRow)l.splice(l.indexOf(i),1);else{var f=r.split(i.start.row,i.start.column);l=f.folds,l.shift(),f.start.row=l[0].start.row,f.start.column=l[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,o):this.$updateRowLengthCache(n,o)),this.$modified=!0,this._signal("changeFold",{data:i,action:"remove"})},this.removeFolds=function(i){for(var r=[],n=0;n<i.length;n++)r.push(i[n]);r.forEach(function(o){this.removeFold(o)},this),this.$modified=!0},this.expandFold=function(i){this.removeFold(i),i.subFolds.forEach(function(r){i.restoreRange(r),this.addFold(r)},this),i.collapseChildren>0&&this.foldAll(i.start.row+1,i.end.row,i.collapseChildren-1),i.subFolds=[]},this.expandFolds=function(i){i.forEach(function(r){this.expandFold(r)},this)},this.unfold=function(i,r){var n,o;if(i==null)n=new D(0,0,this.getLength(),0),r==null&&(r=!0);else if(typeof i=="number")n=new D(i,0,i,this.getLine(i).length);else if("row"in i)n=D.fromPoints(i,i);else{if(Array.isArray(i))return o=[],i.forEach(function(l){o=o.concat(this.unfold(l))},this),o;n=i}o=this.getFoldsInRangeList(n);for(var a=o;o.length==1&&D.comparePoints(o[0].start,n.start)<0&&D.comparePoints(o[0].end,n.end)>0;)this.expandFolds(o),o=this.getFoldsInRangeList(n);if(r!=!1?this.removeFolds(o):this.expandFolds(o),a.length)return a},this.isRowFolded=function(i,r){return!!this.getFoldLine(i,r)},this.getRowFoldEnd=function(i,r){var n=this.getFoldLine(i,r);return n?n.end.row:i},this.getRowFoldStart=function(i,r){var n=this.getFoldLine(i,r);return n?n.start.row:i},this.getFoldDisplayLine=function(i,r,n,o,a){o==null&&(o=i.start.row),a==null&&(a=0),r==null&&(r=i.end.row),n==null&&(n=this.getLine(r).length);var l=this.doc,f="";return i.walk(function(u,g,y,_){if(!(g<o)){if(g==o){if(y<a)return;_=Math.max(a,_)}u!=null?f+=u:f+=l.getLine(g).substring(_,y)}},r,n),f},this.getDisplayLine=function(i,r,n,o){var a=this.getFoldLine(i);if(a)return this.getFoldDisplayLine(a,i,r,n,o);var l;return l=this.doc.getLine(i),l.substring(o||0,r||l.length)},this.$cloneFoldData=function(){var i=[];return i=this.$foldData.map(function(r){var n=r.folds.map(function(o){return o.clone()});return new x(i,n)}),i},this.toggleFold=function(i){var r=this.selection,n=r.getRange(),o,a;if(n.isEmpty()){var l=n.start;if(o=this.getFoldAt(l.row,l.column),o){this.expandFold(o);return}else(a=this.findMatchingBracket(l))?n.comparePoint(a)==1?n.end=a:(n.start=a,n.start.column++,n.end.column--):(a=this.findMatchingBracket({row:l.row,column:l.column+1}))?(n.comparePoint(a)==1?n.end=a:n.start=a,n.start.column++):n=this.getCommentFoldRange(l.row,l.column)||n}else{var f=this.getFoldsInRange(n);if(i&&f.length){this.expandFolds(f);return}else f.length==1&&(o=f[0])}if(o||(o=this.getFoldAt(n.start.row,n.start.column)),o&&o.range.toString()==n.toString()){this.expandFold(o);return}var u="...";if(!n.isMultiLine()){if(u=this.getTextRange(n),u.length<4)return;u=u.trim().substring(0,2)+".."}this.addFold(u,n)},this.getCommentFoldRange=function(i,r,n){var o=new h(this,i,r),a=o.getCurrentToken(),l=a&&a.type;if(a&&/^comment|string/.test(l)){l=l.match(/comment|string/)[0],l=="comment"&&(l+="|doc-start|\\.doc");var f=new RegExp(l),u=new D;if(n!=1){do a=o.stepBackward();while(a&&f.test(a.type));a=o.stepForward()}u.start.row=o.getCurrentTokenRow(),u.start.column=o.getCurrentTokenColumn()+a.value.length,o=new h(this,i,r);var g=this.getState(o.$row);if(n!=-1){var y=-1;do if(a=o.stepForward(),y==-1){var _=this.getState(o.$row);g.toString()!==_.toString()&&(y=o.$row)}else if(o.$row>y)break;while(a&&f.test(a.type));a=o.stepBackward()}else a=o.getCurrentToken();return u.end.row=o.getCurrentTokenRow(),u.end.column=o.getCurrentTokenColumn(),u}},this.foldAll=function(i,r,n,o){n==null&&(n=1e5);var a=this.foldWidgets;if(a){r=r||this.getLength(),i=i||0;for(var l=i;l<r;l++)if(a[l]==null&&(a[l]=this.getFoldWidget(l)),a[l]=="start"&&!(o&&!o(l))){var f=this.getFoldWidgetRange(l);f&&f.isMultiLine()&&f.end.row<=r&&f.start.row>=i&&(l=f.end.row,f.collapseChildren=n,this.addFold("...",f))}}},this.foldToLevel=function(i){for(this.foldAll();i-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var i=this;this.foldAll(null,null,null,function(r){for(var n=i.getTokens(r),o=0;o<n.length;o++){var a=n[o];if(!(a.type=="text"&&/^\s+$/.test(a.value)))return!!/comment/.test(a.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(i){if(!this.$foldStyles[i])throw new Error("invalid fold style: "+i+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=i){this.$foldStyle=i,i=="manual"&&this.unfold();var r=this.$foldMode;this.$setFolding(null),this.$setFolding(r)}},this.$setFolding=function(i){if(this.$foldMode!=i){if(this.$foldMode=i,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!i||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=i.getFoldWidget.bind(i,this,this.$foldStyle),this.getFoldWidgetRange=i.getFoldWidgetRange.bind(i,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(i,r){var n=this.foldWidgets;if(!n||r&&n[i])return{};for(var o=i-1,a;o>=0;){var l=n[o];if(l==null&&(l=n[o]=this.getFoldWidget(o)),l=="start"){var f=this.getFoldWidgetRange(o);if(a||(a=f),f&&f.end.row>=i)break}o--}return{range:o!==-1&&f,firstRange:a}},this.onFoldWidgetClick=function(i,r){r instanceof d&&(r=r.domEvent);var n={children:r.shiftKey,all:r.ctrlKey||r.metaKey,siblings:r.altKey},o=this.$toggleFoldWidget(i,n);if(!o){var a=r.target||r.srcElement;a&&/ace_fold-widget/.test(a.className)&&(a.className+=" ace_invalid")}},this.$toggleFoldWidget=function(i,r){if(this.getFoldWidget){var n=this.getFoldWidget(i),o=this.getLine(i),a=n==="end"?-1:1,l=this.getFoldAt(i,a===-1?0:o.length,a);if(l)return r.children||r.all?this.removeFold(l):this.expandFold(l),l;var f=this.getFoldWidgetRange(i,!0);if(f&&!f.isMultiLine()&&(l=this.getFoldAt(f.start.row,f.start.column,1),l&&f.isEqual(l.range)))return this.removeFold(l),l;if(r.siblings){var u=this.getParentFoldRangeData(i);if(u.range)var g=u.range.start.row+1,y=u.range.end.row;this.foldAll(g,y,r.all?1e4:0)}else r.children?(y=f?f.end.row:this.getLength(),this.foldAll(i+1,y,r.all?1e4:0)):f&&(r.all&&(f.collapseChildren=1e4),this.addFold("...",f));return f}},this.toggleFoldWidget=function(i){var r=this.selection.getCursor().row;r=this.getRowFoldStart(r);var n=this.$toggleFoldWidget(r,{});if(!n){var o=this.getParentFoldRangeData(r,!0);if(n=o.range||o.firstRange,n){r=n.start.row;var a=this.getFoldAt(r,this.getLine(r).length,1);a?this.removeFold(a):this.addFold("...",n)}}},this.updateFoldWidgets=function(i){var r=i.start.row,n=i.end.row-r;if(n===0)this.foldWidgets[r]=null;else if(i.action=="remove")this.foldWidgets.splice(r,n+1,null);else{var o=Array(n+1);o.unshift(r,1),this.foldWidgets.splice.apply(this.foldWidgets,o)}},this.tokenizerUpdateFoldWidgets=function(i){var r=i.data;r.first!=r.last&&this.foldWidgets.length>r.first&&this.foldWidgets.splice(r.first,this.foldWidgets.length)}}M.Folding=s}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(L,M,K){var D=L("../token_iterator").TokenIterator,x=L("../range").Range;function v(){this.findMatchingBracket=function(h,d){if(h.column==0)return null;var s=d||this.getLine(h.row).charAt(h.column-1);if(s=="")return null;var i=s.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],h):this.$findOpeningBracket(i[2],h):null},this.getBracketRange=function(h){var d=this.getLine(h.row),s=!0,i,r=d.charAt(h.column-1),n=r&&r.match(/([\(\[\{])|([\)\]\}])/);if(n||(r=d.charAt(h.column),h={row:h.row,column:h.column+1},n=r&&r.match(/([\(\[\{])|([\)\]\}])/),s=!1),!n)return null;if(n[1]){var o=this.$findClosingBracket(n[1],h);if(!o)return null;i=x.fromPoints(h,o),s||(i.end.column++,i.start.column--),i.cursor=i.end}else{var o=this.$findOpeningBracket(n[2],h);if(!o)return null;i=x.fromPoints(o,h),s||(i.start.column++,i.end.column--),i.cursor=i.start}return i},this.getMatchingBracketRanges=function(h,d){var s=this.getLine(h.row),i=/([\(\[\{])|([\)\]\}])/,r=!d&&s.charAt(h.column-1),n=r&&r.match(i);if(n||(r=(d===void 0||d)&&s.charAt(h.column),h={row:h.row,column:h.column+1},n=r&&r.match(i)),!n)return null;var o=new x(h.row,h.column-1,h.row,h.column),a=n[1]?this.$findClosingBracket(n[1],h):this.$findOpeningBracket(n[2],h);if(!a)return[o];var l=new x(a.row,a.column,a.row,a.column+1);return[o,l]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(h,d,s){var i=this.$brackets[h],r=1,n=new D(this,d.row,d.column),o=n.getCurrentToken();if(o||(o=n.stepForward()),!!o){s||(s=new RegExp("(\\.?"+o.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var a=d.column-n.getCurrentTokenColumn()-2,l=o.value;;){for(;a>=0;){var f=l.charAt(a);if(f==i){if(r-=1,r==0)return{row:n.getCurrentTokenRow(),column:a+n.getCurrentTokenColumn()}}else f==h&&(r+=1);a-=1}do o=n.stepBackward();while(o&&!s.test(o.type));if(o==null)break;l=o.value,a=l.length-1}return null}},this.$findClosingBracket=function(h,d,s){var i=this.$brackets[h],r=1,n=new D(this,d.row,d.column),o=n.getCurrentToken();if(o||(o=n.stepForward()),!!o){s||(s=new RegExp("(\\.?"+o.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var a=d.column-n.getCurrentTokenColumn();;){for(var l=o.value,f=l.length;a<f;){var u=l.charAt(a);if(u==i){if(r-=1,r==0)return{row:n.getCurrentTokenRow(),column:a+n.getCurrentTokenColumn()}}else u==h&&(r+=1);a+=1}do o=n.stepForward();while(o&&!s.test(o.type));if(o==null)break;a=0}return null}},this.getMatchingTags=function(h){var d=new D(this,h.row,h.column),s=this.$findTagName(d);if(s){var i=d.stepBackward();return i.value==="<"?this.$findClosingTag(d,s):this.$findOpeningTag(d,s)}},this.$findTagName=function(h){var d=h.getCurrentToken(),s=!1,i=!1;if(d&&d.type.indexOf("tag-name")===-1)do i?d=h.stepBackward():d=h.stepForward(),d&&(d.value==="/>"?i=!0:d.type.indexOf("tag-name")!==-1&&(s=!0));while(d&&!s);return d},this.$findClosingTag=function(h,d){var s,i=d.value,r=d.value,n=0,o=new x(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);d=h.stepForward();var a=new x(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+d.value.length),l=!1;do{if(s=d,s.type.indexOf("tag-close")!==-1&&!l){var f=new x(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);l=!0}if(d=h.stepForward(),d){if(d.value===">"&&!l){var f=new x(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);l=!0}if(d.type.indexOf("tag-name")!==-1){if(i=d.value,r===i){if(s.value==="<")n++;else if(s.value==="</"&&(n--,n<0)){h.stepBackward();var u=new x(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+2);d=h.stepForward();var g=new x(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+d.value.length);if(d.type.indexOf("tag-close")===-1&&(d=h.stepForward()),d&&d.value===">")var y=new x(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);else return}}}else if(r===i&&d.value==="/>"&&(n--,n<0))var u=new x(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+2),g=u,y=g,f=new x(a.end.row,a.end.column,a.end.row,a.end.column+1)}}while(d&&n>=0);if(o&&f&&u&&y&&a&&g)return{openTag:new x(o.start.row,o.start.column,f.end.row,f.end.column),closeTag:new x(u.start.row,u.start.column,y.end.row,y.end.column),openTagName:a,closeTagName:g}},this.$findOpeningTag=function(h,d){var s=h.getCurrentToken(),i=d.value,r=0,n=h.getCurrentTokenRow(),o=h.getCurrentTokenColumn(),a=o+2,l=new x(n,o,n,a);h.stepForward();var f=new x(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+d.value.length);if(d.type.indexOf("tag-close")===-1&&(d=h.stepForward()),!(!d||d.value!==">")){var u=new x(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);h.stepBackward(),h.stepBackward();do if(d=s,n=h.getCurrentTokenRow(),o=h.getCurrentTokenColumn(),a=o+d.value.length,s=h.stepBackward(),d){if(d.type.indexOf("tag-name")!==-1){if(i===d.value)if(s.value==="<"){if(r++,r>0){var g=new x(n,o,n,a),y=new x(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1);do d=h.stepForward();while(d&&d.value!==">");var _=new x(h.getCurrentTokenRow(),h.getCurrentTokenColumn(),h.getCurrentTokenRow(),h.getCurrentTokenColumn()+1)}}else s.value==="</"&&r--}else if(d.value==="/>"){for(var p=0,S=s;S;){if(S.type.indexOf("tag-name")!==-1&&S.value===i){r--;break}else if(S.value==="<")break;S=h.stepBackward(),p++}for(var b=0;b<p;b++)h.stepForward()}}while(s&&r<=0);if(y&&_&&l&&u&&g&&f)return{openTag:new x(y.start.row,y.start.column,_.end.row,_.end.column),closeTag:new x(l.start.row,l.start.column,u.end.row,u.end.column),openTagName:g,closeTagName:f}}}}M.BracketMatch=v}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(L,M,K){var D=L("./lib/oop"),x=L("./lib/lang"),v=L("./bidihandler").BidiHandler,h=L("./config"),d=L("./lib/event_emitter").EventEmitter,s=L("./selection").Selection,i=L("./mode/text").Mode,r=L("./range").Range,n=L("./line_widgets").LineWidgets,o=L("./document").Document,a=L("./background_tokenizer").BackgroundTokenizer,l=L("./search_highlight").SearchHighlight,f=L("./undomanager").UndoManager,u=function(){function k(E,A){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++k.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new a(new i().getTokenizer(),this);var C=this;this.bgTokenizer.on("update",function($){C._signal("tokenizerUpdate",$)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof E!="object"||!E.getLine)&&(E=new o(E)),this.setDocument(E),this.selection=new s(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new v(this),h.resetOptions(this),this.setMode(A),h._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return k.prototype.$initOperationListeners=function(){var E=this;this.curOp=null,this.on("change",function(){E.curOp||(E.startOperation(),E.curOp.selectionBefore=E.$lastSel),E.curOp.docChanged=!0},!0),this.on("changeSelection",function(){E.curOp||(E.startOperation(),E.curOp.selectionBefore=E.$lastSel),E.curOp.selectionChanged=!0},!0),this.$operationResetTimer=x.delayedCall(this.endOperation.bind(this,!0))},k.prototype.startOperation=function(E){if(this.curOp){if(!E||this.curOp.command)return;this.prevOp=this.curOp}E||(E={}),this.$operationResetTimer.schedule(),this.curOp={command:E.command||{},args:E.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",E)},k.prototype.endOperation=function(E){if(this.curOp){if(E&&E.returnValue===!1){this.curOp=null,this._signal("endOperation",E);return}if(E==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var A=this.selection.toJSON();this.curOp.selectionAfter=A,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(A),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",E)}},k.prototype.setDocument=function(E){this.doc&&this.doc.off("change",this.$onChange),this.doc=E,E.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},k.prototype.getDocument=function(){return this.doc},Object.defineProperty(k.prototype,"widgetManager",{get:function(){var E=new n(this);return this.widgetManager=E,this.$editor&&E.attach(this.$editor),E},set:function(E){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:E})},enumerable:!1,configurable:!0}),k.prototype.$resetRowCache=function(E){if(!E){this.$docRowCache=[],this.$screenRowCache=[];return}var A=this.$docRowCache.length,C=this.$getRowCacheIndex(this.$docRowCache,E)+1;A>C&&(this.$docRowCache.splice(C,A),this.$screenRowCache.splice(C,A))},k.prototype.$getRowCacheIndex=function(E,A){for(var C=0,$=E.length-1;C<=$;){var z=C+$>>1,F=E[z];if(A>F)C=z+1;else if(A<F)$=z-1;else return z}return C-1},k.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},k.prototype.onChangeFold=function(E){var A=E.data;this.$resetRowCache(A.start.row)},k.prototype.onChange=function(E){this.$modified=!0,this.$bidiHandler.onChange(E),this.$resetRowCache(E.start.row);var A=this.$updateInternalDataOnChange(E);!this.$fromUndo&&this.$undoManager&&(A&&A.length&&(this.$undoManager.add({action:"removeFolds",folds:A},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(E,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(E),this._signal("change",E)},k.prototype.onSelectionChange=function(){this._signal("changeSelection")},k.prototype.setValue=function(E){this.doc.setValue(E),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},k.fromJSON=function(E){typeof E=="string"&&(E=JSON.parse(E));var A=new f;A.$undoStack=E.history.undo,A.$redoStack=E.history.redo,A.mark=E.history.mark,A.$rev=E.history.rev;var C=new k(E.value);return E.folds.forEach(function($){C.addFold("...",r.fromPoints($.start,$.end))}),C.setAnnotations(E.annotations),C.setBreakpoints(E.breakpoints),C.setMode(E.mode),C.setScrollLeft(E.scrollLeft),C.setScrollTop(E.scrollTop),C.setUndoManager(A),C.selection.fromJSON(E.selection),C},k.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(E){return E.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},k.prototype.toString=function(){return this.doc.getValue()},k.prototype.getSelection=function(){return this.selection},k.prototype.getState=function(E){return this.bgTokenizer.getState(E)},k.prototype.getTokens=function(E){return this.bgTokenizer.getTokens(E)},k.prototype.getTokenAt=function(E,A){var C=this.bgTokenizer.getTokens(E),$,z=0;if(A==null){var F=C.length-1;z=this.getLine(E).length}else for(var F=0;F<C.length&&(z+=C[F].value.length,!(z>=A));F++);return $=C[F],$?($.index=F,$.start=z-$.value.length,$):null},k.prototype.setUndoManager=function(E){if(this.$undoManager=E,this.$informUndoManager&&this.$informUndoManager.cancel(),E){var A=this;E.addSession(this),this.$syncInformUndoManager=function(){A.$informUndoManager.cancel(),A.mergeUndoDeltas=!1},this.$informUndoManager=x.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},k.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},k.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},k.prototype.getTabString=function(){return this.getUseSoftTabs()?x.stringRepeat(" ",this.getTabSize()):"	"},k.prototype.setUseSoftTabs=function(E){this.setOption("useSoftTabs",E)},k.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},k.prototype.setTabSize=function(E){this.setOption("tabSize",E)},k.prototype.getTabSize=function(){return this.$tabSize},k.prototype.isTabStop=function(E){return this.$useSoftTabs&&E.column%this.$tabSize===0},k.prototype.setNavigateWithinSoftTabs=function(E){this.setOption("navigateWithinSoftTabs",E)},k.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},k.prototype.setOverwrite=function(E){this.setOption("overwrite",E)},k.prototype.getOverwrite=function(){return this.$overwrite},k.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},k.prototype.addGutterDecoration=function(E,A){this.$decorations[E]||(this.$decorations[E]=""),this.$decorations[E]+=" "+A,this._signal("changeBreakpoint",{})},k.prototype.removeGutterDecoration=function(E,A){this.$decorations[E]=(this.$decorations[E]||"").replace(" "+A,""),this._signal("changeBreakpoint",{})},k.prototype.getBreakpoints=function(){return this.$breakpoints},k.prototype.setBreakpoints=function(E){this.$breakpoints=[];for(var A=0;A<E.length;A++)this.$breakpoints[E[A]]="ace_breakpoint";this._signal("changeBreakpoint",{})},k.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},k.prototype.setBreakpoint=function(E,A){A===void 0&&(A="ace_breakpoint"),A?this.$breakpoints[E]=A:delete this.$breakpoints[E],this._signal("changeBreakpoint",{})},k.prototype.clearBreakpoint=function(E){delete this.$breakpoints[E],this._signal("changeBreakpoint",{})},k.prototype.addMarker=function(E,A,C,$){var z=this.$markerId++,F={range:E,type:C||"line",renderer:typeof C=="function"?C:null,clazz:A,inFront:!!$,id:z};return $?(this.$frontMarkers[z]=F,this._signal("changeFrontMarker")):(this.$backMarkers[z]=F,this._signal("changeBackMarker")),z},k.prototype.addDynamicMarker=function(E,A){if(E.update){var C=this.$markerId++;return E.id=C,E.inFront=!!A,A?(this.$frontMarkers[C]=E,this._signal("changeFrontMarker")):(this.$backMarkers[C]=E,this._signal("changeBackMarker")),E}},k.prototype.removeMarker=function(E){var A=this.$frontMarkers[E]||this.$backMarkers[E];if(A){var C=A.inFront?this.$frontMarkers:this.$backMarkers;delete C[E],this._signal(A.inFront?"changeFrontMarker":"changeBackMarker")}},k.prototype.getMarkers=function(E){return E?this.$frontMarkers:this.$backMarkers},k.prototype.highlight=function(E){if(!this.$searchHighlight){var A=new l(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(A)}this.$searchHighlight.setRegexp(E)},k.prototype.highlightLines=function(E,A,C,$){typeof A!="number"&&(C=A,A=E),C||(C="ace_step");var z=new r(E,0,A,1/0);return z.id=this.addMarker(z,C,"fullLine",$),z},k.prototype.setAnnotations=function(E){this.$annotations=E,this._signal("changeAnnotation",{})},k.prototype.getAnnotations=function(){return this.$annotations||[]},k.prototype.clearAnnotations=function(){this.setAnnotations([])},k.prototype.$detectNewLine=function(E){var A=E.match(/^.*?(\r?\n)/m);A?this.$autoNewLine=A[1]:this.$autoNewLine=`
`},k.prototype.getWordRange=function(E,A){var C=this.getLine(E),$=!1;if(A>0&&($=!!C.charAt(A-1).match(this.tokenRe)),$||($=!!C.charAt(A).match(this.tokenRe)),$)var z=this.tokenRe;else if(/^\s+$/.test(C.slice(A-1,A+1)))var z=/\s/;else var z=this.nonTokenRe;var F=A;if(F>0){do F--;while(F>=0&&C.charAt(F).match(z));F++}for(var N=A;N<C.length&&C.charAt(N).match(z);)N++;return new r(E,F,E,N)},k.prototype.getAWordRange=function(E,A){for(var C=this.getWordRange(E,A),$=this.getLine(C.end.row);$.charAt(C.end.column).match(/[ \t]/);)C.end.column+=1;return C},k.prototype.setNewLineMode=function(E){this.doc.setNewLineMode(E)},k.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},k.prototype.setUseWorker=function(E){this.setOption("useWorker",E)},k.prototype.getUseWorker=function(){return this.$useWorker},k.prototype.onReloadTokenizer=function(E){var A=E.data;this.bgTokenizer.start(A.first),this._signal("tokenizerUpdate",E)},k.prototype.setMode=function(E,A){if(E&&typeof E=="object"){if(E.getTokenizer)return this.$onChangeMode(E);var C=E,$=C.path}else $=E||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new i),this.$modes[$]&&!C){this.$onChangeMode(this.$modes[$]),A&&A();return}this.$modeId=$,h.loadModule(["mode",$],(function(z){if(!this.destroyed){if(this.$modeId!==$)return A&&A();this.$modes[$]&&!C?this.$onChangeMode(this.$modes[$]):z&&z.Mode&&(z=new z.Mode(C),C||(this.$modes[$]=z,z.$id=$),this.$onChangeMode(z)),A&&A()}}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},k.prototype.$onChangeMode=function(E,A){if(A||(this.$modeId=E.$id),this.$mode!==E){var C=this.$mode;this.$mode=E,this.$stopWorker(),this.$useWorker&&this.$startWorker();var $=E.getTokenizer();if($.on!==void 0){var z=this.onReloadTokenizer.bind(this);$.on("update",z)}this.bgTokenizer.setTokenizer($),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=E.tokenRe,this.nonTokenRe=E.nonTokenRe,A||(E.attachToSession&&E.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(E.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:C,mode:E}))}},k.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},k.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(E){h.warn("Could not load worker",E),this.$worker=null}},k.prototype.getMode=function(){return this.$mode},k.prototype.setScrollTop=function(E){this.$scrollTop===E||isNaN(E)||(this.$scrollTop=E,this._signal("changeScrollTop",E))},k.prototype.getScrollTop=function(){return this.$scrollTop},k.prototype.setScrollLeft=function(E){this.$scrollLeft===E||isNaN(E)||(this.$scrollLeft=E,this._signal("changeScrollLeft",E))},k.prototype.getScrollLeft=function(){return this.$scrollLeft},k.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},k.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var E=0;return this.lineWidgets.forEach(function(A){A&&A.screenWidth>E&&(E=A.screenWidth)}),this.lineWidgetWidth=E},k.prototype.$computeWidth=function(E){if(this.$modified||E){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var A=this.doc.getAllLines(),C=this.$rowLengthCache,$=0,z=0,F=this.$foldData[z],N=F?F.start.row:1/0,B=A.length,P=0;P<B;P++){if(P>N){if(P=F.end.row+1,P>=B)break;F=this.$foldData[z++],N=F?F.start.row:1/0}C[P]==null&&(C[P]=this.$getStringScreenWidth(A[P])[0]),C[P]>$&&($=C[P])}this.screenWidth=$}},k.prototype.getLine=function(E){return this.doc.getLine(E)},k.prototype.getLines=function(E,A){return this.doc.getLines(E,A)},k.prototype.getLength=function(){return this.doc.getLength()},k.prototype.getTextRange=function(E){return this.doc.getTextRange(E||this.selection.getRange())},k.prototype.insert=function(E,A){return this.doc.insert(E,A)},k.prototype.remove=function(E){return this.doc.remove(E)},k.prototype.removeFullLines=function(E,A){return this.doc.removeFullLines(E,A)},k.prototype.undoChanges=function(E,A){if(E.length){this.$fromUndo=!0;for(var C=E.length-1;C!=-1;C--){var $=E[C];$.action=="insert"||$.action=="remove"?this.doc.revertDelta($):$.folds&&this.addFolds($.folds)}!A&&this.$undoSelect&&(E.selectionBefore?this.selection.fromJSON(E.selectionBefore):this.selection.setRange(this.$getUndoSelection(E,!0))),this.$fromUndo=!1}},k.prototype.redoChanges=function(E,A){if(E.length){this.$fromUndo=!0;for(var C=0;C<E.length;C++){var $=E[C];($.action=="insert"||$.action=="remove")&&this.doc.$safeApplyDelta($)}!A&&this.$undoSelect&&(E.selectionAfter?this.selection.fromJSON(E.selectionAfter):this.selection.setRange(this.$getUndoSelection(E,!1))),this.$fromUndo=!1}},k.prototype.setUndoSelect=function(E){this.$undoSelect=E},k.prototype.$getUndoSelection=function(E,A){function C(B){return A?B.action!=="insert":B.action==="insert"}for(var $,z,F=0;F<E.length;F++){var N=E[F];if(N.start){if(!$){C(N)?$=r.fromPoints(N.start,N.end):$=r.fromPoints(N.start,N.start);continue}C(N)?(z=N.start,$.compare(z.row,z.column)==-1&&$.setStart(z),z=N.end,$.compare(z.row,z.column)==1&&$.setEnd(z)):(z=N.start,$.compare(z.row,z.column)==-1&&($=r.fromPoints(N.start,N.start)))}}return $},k.prototype.replace=function(E,A){return this.doc.replace(E,A)},k.prototype.moveText=function(E,A,C){var $=this.getTextRange(E),z=this.getFoldsInRange(E),F=r.fromPoints(A,A);if(!C){this.remove(E);var N=E.start.row-E.end.row,B=N?-E.end.column:E.start.column-E.end.column;B&&(F.start.row==E.end.row&&F.start.column>E.end.column&&(F.start.column+=B),F.end.row==E.end.row&&F.end.column>E.end.column&&(F.end.column+=B)),N&&F.start.row>=E.end.row&&(F.start.row+=N,F.end.row+=N)}if(F.end=this.insert(F.start,$),z.length){var P=E.start,V=F.start,N=V.row-P.row,B=V.column-P.column;this.addFolds(z.map(function(q){return q=q.clone(),q.start.row==P.row&&(q.start.column+=B),q.end.row==P.row&&(q.end.column+=B),q.start.row+=N,q.end.row+=N,q}))}return F},k.prototype.indentRows=function(E,A,C){C=C.replace(/\t/g,this.getTabString());for(var $=E;$<=A;$++)this.doc.insertInLine({row:$,column:0},C)},k.prototype.outdentRows=function(E){for(var A=E.collapseRows(),C=new r(0,0,0,0),$=this.getTabSize(),z=A.start.row;z<=A.end.row;++z){var F=this.getLine(z);C.start.row=z,C.end.row=z;for(var N=0;N<$&&F.charAt(N)==" ";++N);N<$&&F.charAt(N)=="	"?(C.start.column=N,C.end.column=N+1):(C.start.column=0,C.end.column=N),this.remove(C)}},k.prototype.$moveLines=function(E,A,C){if(E=this.getRowFoldStart(E),A=this.getRowFoldEnd(A),C<0){var $=this.getRowFoldStart(E+C);if($<0)return 0;var z=$-E}else if(C>0){var $=this.getRowFoldEnd(A+C);if($>this.doc.getLength()-1)return 0;var z=$-A}else{E=this.$clipRowToDocument(E),A=this.$clipRowToDocument(A);var z=A-E+1}var F=new r(E,0,A,Number.MAX_VALUE),N=this.getFoldsInRange(F).map(function(P){return P=P.clone(),P.start.row+=z,P.end.row+=z,P}),B=C==0?this.doc.getLines(E,A):this.doc.removeFullLines(E,A);return this.doc.insertFullLines(E+z,B),N.length&&this.addFolds(N),z},k.prototype.moveLinesUp=function(E,A){return this.$moveLines(E,A,-1)},k.prototype.moveLinesDown=function(E,A){return this.$moveLines(E,A,1)},k.prototype.duplicateLines=function(E,A){return this.$moveLines(E,A,0)},k.prototype.$clipRowToDocument=function(E){return Math.max(0,Math.min(E,this.doc.getLength()-1))},k.prototype.$clipColumnToRow=function(E,A){return A<0?0:Math.min(this.doc.getLine(E).length,A)},k.prototype.$clipPositionToDocument=function(E,A){if(A=Math.max(0,A),E<0)E=0,A=0;else{var C=this.doc.getLength();E>=C?(E=C-1,A=this.doc.getLine(C-1).length):A=Math.min(this.doc.getLine(E).length,A)}return{row:E,column:A}},k.prototype.$clipRangeToDocument=function(E){E.start.row<0?(E.start.row=0,E.start.column=0):E.start.column=this.$clipColumnToRow(E.start.row,E.start.column);var A=this.doc.getLength()-1;return E.end.row>A?(E.end.row=A,E.end.column=this.doc.getLine(A).length):E.end.column=this.$clipColumnToRow(E.end.row,E.end.column),E},k.prototype.setUseWrapMode=function(E){if(E!=this.$useWrapMode){if(this.$useWrapMode=E,this.$modified=!0,this.$resetRowCache(0),E){var A=this.getLength();this.$wrapData=Array(A),this.$updateWrapData(0,A-1)}this._signal("changeWrapMode")}},k.prototype.getUseWrapMode=function(){return this.$useWrapMode},k.prototype.setWrapLimitRange=function(E,A){(this.$wrapLimitRange.min!==E||this.$wrapLimitRange.max!==A)&&(this.$wrapLimitRange={min:E,max:A},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},k.prototype.adjustWrapLimit=function(E,A){var C=this.$wrapLimitRange;C.max<0&&(C={min:A,max:A});var $=this.$constrainWrapLimit(E,C.min,C.max);return $!=this.$wrapLimit&&$>1?(this.$wrapLimit=$,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},k.prototype.$constrainWrapLimit=function(E,A,C){return A&&(E=Math.max(A,E)),C&&(E=Math.min(C,E)),E},k.prototype.getWrapLimit=function(){return this.$wrapLimit},k.prototype.setWrapLimit=function(E){this.setWrapLimitRange(E,E)},k.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},k.prototype.$updateInternalDataOnChange=function(E){var A=this.$useWrapMode,C=E.action,$=E.start,z=E.end,F=$.row,N=z.row,B=N-F,P=null;if(this.$updating=!0,B!=0)if(C==="remove"){this[A?"$wrapData":"$rowLengthCache"].splice(F,B);var V=this.$foldData;P=this.getFoldsInRange(E),this.removeFolds(P);var G=this.getFoldLine(z.row),Y=0;if(G){G.addRemoveChars(z.row,z.column,$.column-z.column),G.shiftRow(-B);var q=this.getFoldLine(F);q&&q!==G&&(q.merge(G),G=q),Y=V.indexOf(G)+1}for(Y;Y<V.length;Y++){var G=V[Y];G.start.row>=z.row&&G.shiftRow(-B)}N=F}else{var Z=Array(B);Z.unshift(F,0);var Q=A?this.$wrapData:this.$rowLengthCache;Q.splice.apply(Q,Z);var V=this.$foldData,G=this.getFoldLine(F),Y=0;if(G){var U=G.range.compareInside($.row,$.column);U==0?(G=G.split($.row,$.column),G&&(G.shiftRow(B),G.addRemoveChars(N,0,z.column-$.column))):U==-1&&(G.addRemoveChars(F,0,z.column-$.column),G.shiftRow(B)),Y=V.indexOf(G)+1}for(Y;Y<V.length;Y++){var G=V[Y];G.start.row>=F&&G.shiftRow(B)}}else{B=Math.abs(E.start.column-E.end.column),C==="remove"&&(P=this.getFoldsInRange(E),this.removeFolds(P),B=-B);var G=this.getFoldLine(F);G&&G.addRemoveChars(F,$.column,B)}return A&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,A?this.$updateWrapData(F,N):this.$updateRowLengthCache(F,N),P},k.prototype.$updateRowLengthCache=function(E,A){this.$rowLengthCache[E]=null,this.$rowLengthCache[A]=null},k.prototype.$updateWrapData=function(E,A){var C=this.doc.getAllLines(),$=this.getTabSize(),z=this.$wrapData,F=this.$wrapLimit,N,B,P=E;for(A=Math.min(A,C.length-1);P<=A;)B=this.getFoldLine(P,B),B?(N=[],B.walk((function(V,G,Y,q){var Z;if(V!=null){Z=this.$getDisplayTokens(V,N.length),Z[0]=_;for(var Q=1;Q<Z.length;Q++)Z[Q]=p}else Z=this.$getDisplayTokens(C[G].substring(q,Y),N.length);N=N.concat(Z)}).bind(this),B.end.row,C[B.end.row].length+1),z[B.start.row]=this.$computeWrapSplits(N,F,$),P=B.end.row+1):(N=this.$getDisplayTokens(C[P]),z[P]=this.$computeWrapSplits(N,F,$),P++)},k.prototype.$computeWrapSplits=function(E,A,C){if(E.length==0)return[];var $=[],z=E.length,F=0,N=0,B=this.$wrapAsCode,P=this.$indentedSoftWrap,V=A<=Math.max(2*C,8)||P===!1?0:Math.floor(A/2);function G(){var U=0;if(V===0)return U;if(P)for(var ie=0;ie<E.length;ie++){var ee=E[ie];if(ee==b)U+=1;else if(ee==w)U+=C;else{if(ee==R)continue;break}}return B&&P!==!1&&(U+=C),Math.min(U,V)}function Y(U){for(var ie=U-F,ee=F;ee<U;ee++){var he=E[ee];(he===12||he===2)&&(ie-=1)}$.length||(q=G(),$.indent=q),N+=ie,$.push(N),F=U}for(var q=0;z-F>A-q;){var Z=F+A-q;if(E[Z-1]>=b&&E[Z]>=b){Y(Z);continue}if(E[Z]==_||E[Z]==p){for(Z;Z!=F-1&&E[Z]!=_;Z--);if(Z>F){Y(Z);continue}for(Z=F+A,Z;Z<E.length&&E[Z]==p;Z++);if(Z==E.length)break;Y(Z);continue}for(var Q=Math.max(Z-(A-(A>>2)),F-1);Z>Q&&E[Z]<_;)Z--;if(B){for(;Z>Q&&E[Z]<_;)Z--;for(;Z>Q&&E[Z]==S;)Z--}else for(;Z>Q&&E[Z]<b;)Z--;if(Z>Q){Y(++Z);continue}Z=F+A,E[Z]==y&&Z--,Y(Z-q)}return $},k.prototype.$getDisplayTokens=function(E,A){var C=[],$;A=A||0;for(var z=0;z<E.length;z++){var F=E.charCodeAt(z);if(F==9){$=this.getScreenTabSize(C.length+A),C.push(w);for(var N=1;N<$;N++)C.push(R)}else F==32?C.push(b):F>39&&F<48||F>57&&F<64?C.push(S):F>=4352&&H(F)?C.push(g,y):C.push(g)}return C},k.prototype.$getStringScreenWidth=function(E,A,C){if(A==0)return[0,0];A==null&&(A=1/0),C=C||0;var $,z;for(z=0;z<E.length&&($=E.charCodeAt(z),$==9?C+=this.getScreenTabSize(C):$>=4352&&H($)?C+=2:C+=1,!(C>A));z++);return[C,z]},k.prototype.getRowLength=function(E){var A=1;return this.lineWidgets&&(A+=this.lineWidgets[E]&&this.lineWidgets[E].rowCount||0),!this.$useWrapMode||!this.$wrapData[E]?A:this.$wrapData[E].length+A},k.prototype.getRowLineCount=function(E){return!this.$useWrapMode||!this.$wrapData[E]?1:this.$wrapData[E].length+1},k.prototype.getRowWrapIndent=function(E){if(this.$useWrapMode){var A=this.screenToDocumentPosition(E,Number.MAX_VALUE),C=this.$wrapData[A.row];return C.length&&C[0]<A.column?C.indent:0}else return 0},k.prototype.getScreenLastRowColumn=function(E){var A=this.screenToDocumentPosition(E,Number.MAX_VALUE);return this.documentToScreenColumn(A.row,A.column)},k.prototype.getDocumentLastRowColumn=function(E,A){var C=this.documentToScreenRow(E,A);return this.getScreenLastRowColumn(C)},k.prototype.getDocumentLastRowColumnPosition=function(E,A){var C=this.documentToScreenRow(E,A);return this.screenToDocumentPosition(C,Number.MAX_VALUE/10)},k.prototype.getRowSplitData=function(E){if(this.$useWrapMode)return this.$wrapData[E]},k.prototype.getScreenTabSize=function(E){return this.$tabSize-(E%this.$tabSize|0)},k.prototype.screenToDocumentRow=function(E,A){return this.screenToDocumentPosition(E,A).row},k.prototype.screenToDocumentColumn=function(E,A){return this.screenToDocumentPosition(E,A).column},k.prototype.screenToDocumentPosition=function(E,A,C){if(E<0)return{row:0,column:0};var $,z=0,F=0,N,B=0,P=0,V=this.$screenRowCache,G=this.$getRowCacheIndex(V,E),Y=V.length;if(Y&&G>=0)var B=V[G],z=this.$docRowCache[G],q=E>V[Y-1];else var q=!Y;for(var Z=this.getLength()-1,Q=this.getNextFoldLine(z),U=Q?Q.start.row:1/0;B<=E&&(P=this.getRowLength(z),!(B+P>E||z>=Z));)B+=P,z++,z>U&&(z=Q.end.row+1,Q=this.getNextFoldLine(z,Q),U=Q?Q.start.row:1/0),q&&(this.$docRowCache.push(z),this.$screenRowCache.push(B));if(Q&&Q.start.row<=z)$=this.getFoldDisplayLine(Q),z=Q.start.row;else{if(B+P<=E||z>Z)return{row:Z,column:this.getLine(Z).length};$=this.getLine(z),Q=null}var ie=0,ee=Math.floor(E-B);if(this.$useWrapMode){var he=this.$wrapData[z];he&&(N=he[ee],ee>0&&he.length&&(ie=he.indent,F=he[ee-1]||he[he.length-1],$=$.substring(F)))}return C!==void 0&&this.$bidiHandler.isBidiRow(B+ee,z,ee)&&(A=this.$bidiHandler.offsetToCol(C)),F+=this.$getStringScreenWidth($,A-ie)[1],this.$useWrapMode&&F>=N&&(F=N-1),Q?Q.idxToPosition(F):{row:z,column:F}},k.prototype.documentToScreenPosition=function(E,A){if(typeof A>"u")var C=this.$clipPositionToDocument(E.row,E.column);else C=this.$clipPositionToDocument(E,A);E=C.row,A=C.column;var $=0,z=null,F=null;F=this.getFoldAt(E,A,1),F&&(E=F.start.row,A=F.start.column);var N,B=0,P=this.$docRowCache,V=this.$getRowCacheIndex(P,E),G=P.length;if(G&&V>=0)var B=P[V],$=this.$screenRowCache[V],Y=E>P[G-1];else var Y=!G;for(var q=this.getNextFoldLine(B),Z=q?q.start.row:1/0;B<E;){if(B>=Z){if(N=q.end.row+1,N>E)break;q=this.getNextFoldLine(N,q),Z=q?q.start.row:1/0}else N=B+1;$+=this.getRowLength(B),B=N,Y&&(this.$docRowCache.push(B),this.$screenRowCache.push($))}var Q="";q&&B>=Z?(Q=this.getFoldDisplayLine(q,E,A),z=q.start.row):(Q=this.getLine(E).substring(0,A),z=E);var U=0;if(this.$useWrapMode){var ie=this.$wrapData[z];if(ie){for(var ee=0;Q.length>=ie[ee];)$++,ee++;Q=Q.substring(ie[ee-1]||0,Q.length),U=ee>0?ie.indent:0}}return this.lineWidgets&&this.lineWidgets[B]&&this.lineWidgets[B].rowsAbove&&($+=this.lineWidgets[B].rowsAbove),{row:$,column:U+this.$getStringScreenWidth(Q)[0]}},k.prototype.documentToScreenColumn=function(E,A){return this.documentToScreenPosition(E,A).column},k.prototype.documentToScreenRow=function(E,A){return this.documentToScreenPosition(E,A).row},k.prototype.getScreenLength=function(){var E=0,A=null;if(this.$useWrapMode)for(var z=this.$wrapData.length,F=0,$=0,A=this.$foldData[$++],N=A?A.start.row:1/0;F<z;){var B=this.$wrapData[F];E+=B?B.length+1:1,F++,F>N&&(F=A.end.row+1,A=this.$foldData[$++],N=A?A.start.row:1/0)}else{E=this.getLength();for(var C=this.$foldData,$=0;$<C.length;$++)A=C[$],E-=A.end.row-A.start.row}return this.lineWidgets&&(E+=this.$getWidgetScreenLength()),E},k.prototype.$setFontMetrics=function(E){this.$enableVarChar&&(this.$getStringScreenWidth=function(A,C,$){if(C===0)return[0,0];C||(C=1/0),$=$||0;var z,F;for(F=0;F<A.length&&(z=A.charAt(F),z==="	"?$+=this.getScreenTabSize($):$+=E.getCharacterWidth(z),!($>C));F++);return[$,F]})},k.prototype.getPrecedingCharacter=function(){var E=this.selection.getCursor();if(E.column===0)return E.row===0?"":this.doc.getNewLineCharacter();var A=this.getLine(E.row);return A[E.column-1]},k.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},k}();u.$uid=0,u.prototype.$modes=h.$modes,u.prototype.getValue=u.prototype.toString,u.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},u.prototype.$overwrite=!1,u.prototype.$mode=null,u.prototype.$modeId=null,u.prototype.$scrollTop=0,u.prototype.$scrollLeft=0,u.prototype.$wrapLimit=80,u.prototype.$useWrapMode=!1,u.prototype.$wrapLimitRange={min:null,max:null},u.prototype.lineWidgets=null,u.prototype.isFullWidth=H,D.implement(u.prototype,d);var g=1,y=2,_=3,p=4,S=9,b=10,w=11,R=12;function H(k){return k<4352?!1:k>=4352&&k<=4447||k>=4515&&k<=4519||k>=4602&&k<=4607||k>=9001&&k<=9002||k>=11904&&k<=11929||k>=11931&&k<=12019||k>=12032&&k<=12245||k>=12272&&k<=12283||k>=12288&&k<=12350||k>=12353&&k<=12438||k>=12441&&k<=12543||k>=12549&&k<=12589||k>=12593&&k<=12686||k>=12688&&k<=12730||k>=12736&&k<=12771||k>=12784&&k<=12830||k>=12832&&k<=12871||k>=12880&&k<=13054||k>=13056&&k<=19903||k>=19968&&k<=42124||k>=42128&&k<=42182||k>=43360&&k<=43388||k>=44032&&k<=55203||k>=55216&&k<=55238||k>=55243&&k<=55291||k>=63744&&k<=64255||k>=65040&&k<=65049||k>=65072&&k<=65106||k>=65108&&k<=65126||k>=65128&&k<=65131||k>=65281&&k<=65376||k>=65504&&k<=65510}L("./edit_session/folding").Folding.call(u.prototype),L("./edit_session/bracket_match").BracketMatch.call(u.prototype),h.defineOptions(u.prototype,"session",{wrap:{set:function(k){if(!k||k=="off"?k=!1:k=="free"?k=!0:k=="printMargin"?k=-1:typeof k=="string"&&(k=parseInt(k,10)||!1),this.$wrap!=k)if(this.$wrap=k,!k)this.setUseWrapMode(!1);else{var E=typeof k=="number"?k:null;this.setWrapLimitRange(E,E),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(k){k=k=="auto"?this.$mode.type!="text":k!="text",k!=this.$wrapAsCode&&(this.$wrapAsCode=k,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(k){this.$useWorker=k,this.$stopWorker(),k&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(k){k=parseInt(k),k>0&&this.$tabSize!==k&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=k,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(k){this.setFoldStyle(k)},handlesSet:!0},overwrite:{set:function(k){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(k){this.doc.setNewLineMode(k)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(k){this.setMode(k)},get:function(){return this.$modeId},handlesSet:!0}}),M.EditSession=u}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(L,M,K){var D=L("./lib/lang"),x=L("./lib/oop"),v=L("./range").Range,h=function(){function r(){this.$options={}}return r.prototype.set=function(n){return x.mixin(this.$options,n),this},r.prototype.getOptions=function(){return D.copyObject(this.$options)},r.prototype.setOptions=function(n){this.$options=n},r.prototype.find=function(n){var o=this.$options,a=this.$matchIterator(n,o);if(!a)return!1;var l=null;return a.forEach(function(f,u,g,y){return l=new v(f,u,g,y),u==y&&o.start&&o.start.start&&o.skipCurrent!=!1&&l.isEqual(o.start)?(l=null,!1):!0}),l},r.prototype.findAll=function(n){var o=this.$options;if(!o.needle)return[];this.$assembleRegExp(o);var a=o.range,l=a?n.getLines(a.start.row,a.end.row):n.doc.getAllLines(),f=[],u=o.re;if(o.$isMultiLine){var g=u.length,y=l.length-g,_;e:for(var p=u.offset||0;p<=y;p++){for(var S=0;S<g;S++)if(l[p+S].search(u[S])==-1)continue e;var b=l[p],w=l[p+g-1],R=b.length-b.match(u[0])[0].length,H=w.match(u[g-1])[0].length;_&&_.end.row===p&&_.end.column>R||(f.push(_=new v(p,R,p+g-1,H)),g>2&&(p=p+g-2))}}else for(var k,E=0;E<l.length;E++)if(this.$isMultilineSearch(o)){var A=l.length-1;if(k=this.$multiLineForward(n,u,E,A),k){var C=k.endRow<=A?k.endRow-1:A;C>E&&(E=C),f.push(new v(k.startRow,k.startCol,k.endRow,k.endCol))}}else{k=D.getMatchOffsets(l[E],u);for(var S=0;S<k.length;S++){var $=k[S];f.push(new v(E,$.offset,E,$.offset+$.length))}}if(a){for(var z=a.start.column,F=a.end.column,E=0,S=f.length-1;E<S&&f[E].start.column<z&&f[E].start.row==0;)E++;for(var N=a.end.row-a.start.row;E<S&&f[S].end.column>F&&f[S].end.row==N;)S--;for(f=f.slice(E,S+1),E=0,S=f.length;E<S;E++)f[E].start.row+=a.start.row,f[E].end.row+=a.start.row}return f},r.prototype.parseReplaceString=function(n){for(var o={DollarSign:36,Ampersand:38,Digit0:48,Digit1:49,Digit9:57,Backslash:92,n:110,t:116},a="",l=0,f=n.length;l<f;l++){var u=n.charCodeAt(l);if(u===o.Backslash){if(l++,l>=f){a+="\\";break}var g=n.charCodeAt(l);switch(g){case o.Backslash:a+="\\";break;case o.n:a+=`
`;break;case o.t:a+="	";break}continue}if(u===o.DollarSign){if(l++,l>=f){a+="$";break}var y=n.charCodeAt(l);if(y===o.DollarSign){a+="$$";continue}if(y===o.Digit0||y===o.Ampersand){a+="$&";continue}if(o.Digit1<=y&&y<=o.Digit9){a+="$"+n[l];continue}}a+=n[l]}return a||n},r.prototype.replace=function(n,o){var a=this.$options,l=this.$assembleRegExp(a);if(a.$isMultiLine)return o;if(l){var f=this.$isMultilineSearch(a);f&&(n=n.replace(/\r\n|\r|\n/g,`
`));var u=l.exec(n);if(!u||!f&&u[0].length!=n.length)return null;if(o=a.regExp?this.parseReplaceString(o):o.replace(/\$/g,"$$$$"),o=n.replace(l,o),a.preserveCase){o=o.split("");for(var g=Math.min(n.length,n.length);g--;){var y=n[g];y&&y.toLowerCase()!=y?o[g]=o[g].toUpperCase():o[g]=o[g].toLowerCase()}o=o.join("")}return o}},r.prototype.$assembleRegExp=function(n,o){if(n.needle instanceof RegExp)return n.re=n.needle;var a=n.needle;if(!n.needle)return n.re=!1;n.regExp||(a=D.escapeRegExp(a));var l=n.caseSensitive?"gm":"gmi";try{new RegExp(a,"u"),n.$supportsUnicodeFlag=!0,l+="u"}catch{n.$supportsUnicodeFlag=!1}if(n.wholeWord&&(a=d(a,n)),n.$isMultiLine=!o&&/[\n\r]/.test(a),n.$isMultiLine)return n.re=this.$assembleMultilineRegExp(a,l);try{var f=new RegExp(a,l)}catch{f=!1}return n.re=f},r.prototype.$assembleMultilineRegExp=function(n,o){for(var a=n.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),l=[],f=0;f<a.length;f++)try{l.push(new RegExp(a[f],o))}catch{return!1}return l},r.prototype.$isMultilineSearch=function(n){return n.re&&/\\r\\n|\\r|\\n/.test(n.re.source)&&n.regExp&&!n.$isMultiLine},r.prototype.$multiLineForward=function(n,o,a,l){for(var f,u=i(n,a),g=a;g<=l;){for(var y=0;y<u&&!(g>l);y++){var _=n.getLine(g++);f=f==null?_:f+`
`+_}var p=o.exec(f);if(o.lastIndex=0,p){var S=f.slice(0,p.index).split(`
`),b=p[0].split(`
`),w=a+S.length-1,R=S[S.length-1].length,H=w+b.length-1,k=b.length==1?R+b[0].length:b[b.length-1].length;return{startRow:w,startCol:R,endRow:H,endCol:k}}}return null},r.prototype.$multiLineBackward=function(n,o,a,l,f){for(var u,g=i(n,l),y=n.getLine(l).length-a,_=l;_>=f;){for(var p=0;p<g&&_>=f;p++){var S=n.getLine(_--);u=u==null?S:S+`
`+u}var b=s(u,o,y);if(b){var w=u.slice(0,b.index).split(`
`),R=b[0].split(`
`),H=_+w.length,k=w[w.length-1].length,E=H+R.length-1,A=R.length==1?k+R[0].length:R[R.length-1].length;return{startRow:H,startCol:k,endRow:E,endCol:A}}}return null},r.prototype.$matchIterator=function(n,o){var a=this.$assembleRegExp(o);if(!a)return!1;var l=this.$isMultilineSearch(o),f=this.$multiLineForward,u=this.$multiLineBackward,g=o.backwards==!0,y=o.skipCurrent!=!1,_=a.unicode,p=o.range,S=o.start;S||(S=p?p[g?"end":"start"]:n.selection.getRange()),S.start&&(S=S[y!=g?"end":"start"]);var b=p?p.start.row:0,w=p?p.end.row:n.getLength()-1;if(g)var R=function(E){var A=S.row;if(!k(A,S.column,E)){for(A--;A>=b;A--)if(k(A,Number.MAX_VALUE,E))return;if(o.wrap!=!1){for(A=w,b=S.row;A>=b;A--)if(k(A,Number.MAX_VALUE,E))return}}};else var R=function(A){var C=S.row;if(!k(C,S.column,A)){for(C=C+1;C<=w;C++)if(k(C,0,A))return;if(o.wrap!=!1){for(C=b,w=S.row;C<=w;C++)if(k(C,0,A))return}}};if(o.$isMultiLine)var H=a.length,k=function(E,A,C){var $=g?E-H+1:E;if(!($<0||$+H>n.getLength())){var z=n.getLine($),F=z.search(a[0]);if(!(!g&&F<A||F===-1)){for(var N=1;N<H;N++)if(z=n.getLine($+N),z.search(a[N])==-1)return;var B=z.match(a[H-1])[0].length;if(!(g&&B>A)&&C($,F,$+H-1,B))return!0}}};else if(g)var k=function(A,C,$){if(l){var z=u(n,a,C,A,b);if(!z)return!1;if($(z.startRow,z.startCol,z.endRow,z.endCol))return!0}else{var F=n.getLine(A),N=[],B,P=0;for(a.lastIndex=0;B=a.exec(F);){var V=B[0].length;if(P=B.index,!V){if(P>=F.length)break;a.lastIndex=P+=D.skipEmptyMatch(F,P,_)}if(B.index+V>C)break;N.push(B.index,V)}for(var G=N.length-1;G>=0;G-=2){var Y=N[G-1],V=N[G];if($(A,Y,A,Y+V))return!0}}};else var k=function(A,C,$){if(a.lastIndex=C,l){var z=f(n,a,A,w);if(z){var F=z.endRow<=w?z.endRow-1:w;F>A&&(A=F)}if(!z)return!1;if($(z.startRow,z.startCol,z.endRow,z.endCol))return!0}else for(var N=n.getLine(A),B,P;P=a.exec(N);){var V=P[0].length;if(B=P.index,$(A,B,A,B+V))return!0;if(!V&&(a.lastIndex=B+=D.skipEmptyMatch(N,B,_),B>=N.length))return!1}};return{forEach:R}},r}();function d(r,n){var o=D.supportsLookbehind();function a(g,y){y===void 0&&(y=!0);var _=o&&n.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return _.test(g)||n.regExp?o&&n.$supportsUnicodeFlag?y?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var l=Array.from(r),f=l[0],u=l[l.length-1];return a(f)+r+a(u,!1)}function s(r,n,o){for(var a=null,l=0;l<=r.length;){n.lastIndex=l;var f=n.exec(r);if(!f)break;var u=f.index+f[0].length;if(u>r.length-o)break;(!a||u>a.index+a[0].length)&&(a=f),l=f.index+1}return a}function i(r,n){var o=5e3,a={row:n,column:0},l=r.doc.positionToIndex(a),f=l+o,u=r.doc.indexToPosition(f),g=u.row;return g+1}M.Search=h}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(L,M,K){var D=this&&this.__extends||function(){var r=function(n,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(a[f]=l[f])},r(n,o)};return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");r(n,o);function a(){this.constructor=n}n.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}}(),x=L("../lib/keys"),v=L("../lib/useragent"),h=x.KEY_MODS,d=function(){function r(n,o){this.$init(n,o,!1)}return r.prototype.$init=function(n,o,a){this.platform=o||(v.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(n),this.$singleCommand=a},r.prototype.addCommand=function(n){this.commands[n.name]&&this.removeCommand(n),this.commands[n.name]=n,n.bindKey&&this._buildKeyHash(n)},r.prototype.removeCommand=function(n,o){var a=n&&(typeof n=="string"?n:n.name);n=this.commands[a],o||delete this.commands[a];var l=this.commandKeyBinding;for(var f in l){var u=l[f];if(u==n)delete l[f];else if(Array.isArray(u)){var g=u.indexOf(n);g!=-1&&(u.splice(g,1),u.length==1&&(l[f]=u[0]))}}},r.prototype.bindKey=function(n,o,a){if(typeof n=="object"&&n&&(a==null&&(a=n.position),n=n[this.platform]),!!n){if(typeof o=="function")return this.addCommand({exec:o,bindKey:n,name:o.name||n});n.split("|").forEach(function(l){var f="";if(l.indexOf(" ")!=-1){var u=l.split(/\s+/);l=u.pop(),u.forEach(function(_){var p=this.parseKeys(_),S=h[p.hashId]+p.key;f+=(f?" ":"")+S,this._addCommandToBinding(f,"chainKeys")},this),f+=" "}var g=this.parseKeys(l),y=h[g.hashId]+g.key;this._addCommandToBinding(f+y,o,a)},this)}},r.prototype._addCommandToBinding=function(n,o,a){var l=this.commandKeyBinding,f;if(!o)delete l[n];else if(!l[n]||this.$singleCommand)l[n]=o;else{Array.isArray(l[n])?(f=l[n].indexOf(o))!=-1&&l[n].splice(f,1):l[n]=[l[n]],typeof a!="number"&&(a=s(o));var u=l[n];for(f=0;f<u.length;f++){var g=u[f],y=s(g);if(y>a)break}u.splice(f,0,o)}},r.prototype.addCommands=function(n){n&&Object.keys(n).forEach(function(o){var a=n[o];if(a){if(typeof a=="string")return this.bindKey(a,o);typeof a=="function"&&(a={exec:a}),typeof a=="object"&&(a.name||(a.name=o),this.addCommand(a))}},this)},r.prototype.removeCommands=function(n){Object.keys(n).forEach(function(o){this.removeCommand(n[o])},this)},r.prototype.bindKeys=function(n){Object.keys(n).forEach(function(o){this.bindKey(o,n[o])},this)},r.prototype._buildKeyHash=function(n){this.bindKey(n.bindKey,n)},r.prototype.parseKeys=function(n){var o=n.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(y){return y}),a=o.pop(),l=x[a];if(x.FUNCTION_KEYS[l])a=x.FUNCTION_KEYS[l].toLowerCase();else if(o.length){if(o.length==1&&o[0]=="shift")return{key:a.toUpperCase(),hashId:-1}}else return{key:a,hashId:-1};for(var f=0,u=o.length;u--;){var g=x.KEY_MODS[o[u]];if(g==null)return typeof console<"u"&&console.error("invalid modifier "+o[u]+" in "+n),!1;f|=g}return{key:a,hashId:f}},r.prototype.findKeyCommand=function(n,o){var a=h[n]+o;return this.commandKeyBinding[a]},r.prototype.handleKeyboard=function(n,o,a,l){if(!(l<0)){var f=h[o]+a,u=this.commandKeyBinding[f];return n.$keyChain&&(n.$keyChain+=" "+f,u=this.commandKeyBinding[n.$keyChain]||u),u&&(u=="chainKeys"||u[u.length-1]=="chainKeys")?(n.$keyChain=n.$keyChain||f,{command:"null"}):(n.$keyChain&&((!o||o==4)&&a.length==1?n.$keyChain=n.$keyChain.slice(0,-f.length-1):(o==-1||l>0)&&(n.$keyChain="")),{command:u})}},r.prototype.getStatusText=function(n,o){return o.$keyChain||""},r}();function s(r){return typeof r=="object"&&r.bindKey&&r.bindKey.position||(r.isDefault?-100:0)}var i=function(r){D(n,r);function n(o,a){var l=r.call(this,o,a)||this;return l.$singleCommand=!0,l}return n}(d);i.call=function(r,n,o){d.prototype.$init.call(r,n,o,!0)},d.call=function(r,n,o){d.prototype.$init.call(r,n,o,!1)},M.HashHandler=i,M.MultiHashHandler=d}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(L,M,K){var D=this&&this.__extends||function(){var s=function(i,r){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},s(i,r)};return function(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");s(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),x=L("../lib/oop"),v=L("../keyboard/hash_handler").MultiHashHandler,h=L("../lib/event_emitter").EventEmitter,d=function(s){D(i,s);function i(r,n){var o=s.call(this,n,r)||this;return o.byName=o.commands,o.setDefaultHandler("exec",function(a){return a.args?a.command.exec(a.editor,a.args,a.event,!1):a.command.exec(a.editor,{},a.event,!0)}),o}return i.prototype.exec=function(r,n,o){if(Array.isArray(r)){for(var a=r.length;a--;)if(this.exec(r[a],n,o))return!0;return!1}typeof r=="string"&&(r=this.commands[r]);var l={editor:n,command:r,args:o};return this.canExecute(r,n)?(l.returnValue=this._emit("exec",l),this._signal("afterExec",l),l.returnValue!==!1):(this._signal("commandUnavailable",l),!1)},i.prototype.canExecute=function(r,n){return typeof r=="string"&&(r=this.commands[r]),!(!r||n&&n.$readOnly&&!r.readOnly||this.$checkCommandState!=!1&&r.isAvailable&&!r.isAvailable(n))},i.prototype.toggleRecording=function(r){if(!this.$inReplay)return r&&r._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(n){this.macro.push([n.command,n.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},i.prototype.replay=function(r){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(r);try{this.$inReplay=!0,this.macro.forEach(function(n){typeof n=="string"?this.exec(n,r):this.exec(n[0],r,n[1])},this)}finally{this.$inReplay=!1}}},i.prototype.trimMacro=function(r){return r.map(function(n){return typeof n[0]!="string"&&(n[0]=n[0].name),n[1]||(n=n[0]),n})},i}(v);x.implement(d.prototype,h),M.CommandManager=d}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(L,M,K){var D=L("../lib/lang"),x=L("../config"),v=L("../range").Range;function h(s,i){return{win:s,mac:i}}M.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:h("Ctrl-,","Command-,"),exec:function(s){x.loadModule("ace/ext/settings_menu",function(i){i.init(s),s.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:h("Alt-E","F4"),exec:function(s){x.loadModule("ace/ext/error_marker",function(i){i.showErrorMarker(s,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:h("Alt-Shift-E","Shift-F4"),exec:function(s){x.loadModule("ace/ext/error_marker",function(i){i.showErrorMarker(s,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:h("Ctrl-A","Command-A"),exec:function(s){s.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:h(null,"Ctrl-L"),exec:function(s){s.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:h("Ctrl-L","Command-L"),exec:function(s,i){typeof i=="number"&&!isNaN(i)&&s.gotoLine(i),s.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:h("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(s){s.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:h("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(s){s.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:h("F2","F2"),exec:function(s){s.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:h("Alt-F2","Alt-F2"),exec:function(s){s.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:h(null,"Ctrl-Command-Option-0"),exec:function(s){s.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:h(null,"Ctrl-Command-Option-0"),exec:function(s){s.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:h("Alt-0","Command-Option-0"),exec:function(s){s.session.foldAll(),s.session.unfold(s.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:h("Alt-Shift-0","Command-Option-Shift-0"),exec:function(s){s.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:h("Ctrl-K","Command-G"),exec:function(s){s.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:h("Ctrl-Shift-K","Command-Shift-G"),exec:function(s){s.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:h("Alt-K","Ctrl-G"),exec:function(s){s.selection.isEmpty()?s.selection.selectWord():s.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:h("Alt-Shift-K","Ctrl-Shift-G"),exec:function(s){s.selection.isEmpty()?s.selection.selectWord():s.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:h("Ctrl-F","Command-F"),exec:function(s){x.loadModule("ace/ext/searchbox",function(i){i.Search(s)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(s){s.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:h("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(s){s.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:h("Ctrl-Home","Command-Home|Command-Up"),exec:function(s){s.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:h("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(s){s.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:h("Up","Up|Ctrl-P"),exec:function(s,i){s.navigateUp(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:h("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(s){s.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:h("Ctrl-End","Command-End|Command-Down"),exec:function(s){s.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:h("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(s){s.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:h("Down","Down|Ctrl-N"),exec:function(s,i){s.navigateDown(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:h("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(s){s.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:h("Ctrl-Left","Option-Left"),exec:function(s){s.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:h("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(s){s.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:h("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(s){s.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:h("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(s){s.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:h("Left","Left|Ctrl-B"),exec:function(s,i){s.navigateLeft(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:h("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(s){s.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:h("Ctrl-Right","Option-Right"),exec:function(s){s.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:h("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(s){s.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:h("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(s){s.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:h("Shift-Right","Shift-Right"),exec:function(s){s.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:h("Right","Right|Ctrl-F"),exec:function(s,i){s.navigateRight(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(s){s.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:h(null,"Option-PageDown"),exec:function(s){s.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:h("PageDown","PageDown|Ctrl-V"),exec:function(s){s.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(s){s.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:h(null,"Option-PageUp"),exec:function(s){s.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(s){s.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:h("Ctrl-Up",null),exec:function(s){s.renderer.scrollBy(0,-2*s.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:h("Ctrl-Down",null),exec:function(s){s.renderer.scrollBy(0,2*s.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(s){s.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(s){s.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:h("Ctrl-Alt-E","Command-Option-E"),exec:function(s){s.commands.toggleRecording(s)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:h("Ctrl-Shift-E","Command-Shift-E"),exec:function(s){s.commands.replay(s)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:h("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(s){s.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:h("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(s){s.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:h("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(s){s.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:h(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(s){},readOnly:!0},{name:"cut",description:"Cut",exec:function(s){var i=s.$copyWithEmptySelection&&s.selection.isEmpty(),r=i?s.selection.getLineRange():s.selection.getRange();s._emit("cut",r),r.isEmpty()||s.session.remove(r),s.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(s,i){s.$handlePaste(i)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:h("Ctrl-D","Command-D"),exec:function(s){s.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:h("Ctrl-Shift-D","Command-Shift-D"),exec:function(s){s.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:h("Ctrl-Alt-S","Command-Alt-S"),exec:function(s){s.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:h("Ctrl-/","Command-/"),exec:function(s){s.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:h("Ctrl-Shift-/","Command-Shift-/"),exec:function(s){s.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:h("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(s){s.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:h("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(s){s.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:h("Ctrl-H","Command-Option-F"),exec:function(s){x.loadModule("ace/ext/searchbox",function(i){i.Search(s,!0)})}},{name:"undo",description:"Undo",bindKey:h("Ctrl-Z","Command-Z"),exec:function(s){s.undo()}},{name:"redo",description:"Redo",bindKey:h("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(s){s.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:h("Alt-Shift-Up","Command-Option-Up"),exec:function(s){s.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:h("Alt-Up","Option-Up"),exec:function(s){s.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:h("Alt-Shift-Down","Command-Option-Down"),exec:function(s){s.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:h("Alt-Down","Option-Down"),exec:function(s){s.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:h("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(s){s.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:h("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(s){s.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:h("Shift-Delete",null),exec:function(s){if(s.selection.isEmpty())s.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:h("Alt-Backspace","Command-Backspace"),exec:function(s){s.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:h("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(s){s.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:h("Ctrl-Shift-Backspace",null),exec:function(s){var i=s.selection.getRange();i.start.column=0,s.session.remove(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:h("Ctrl-Shift-Delete",null),exec:function(s){var i=s.selection.getRange();i.end.column=Number.MAX_VALUE,s.session.remove(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:h("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(s){s.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:h("Ctrl-Delete","Alt-Delete"),exec:function(s){s.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:h("Shift-Tab","Shift-Tab"),exec:function(s){s.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:h("Tab","Tab"),exec:function(s){s.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:h("Ctrl-[","Ctrl-["),exec:function(s){s.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:h("Ctrl-]","Ctrl-]"),exec:function(s){s.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(s,i){s.insert(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(s,i){s.insert(D.stringRepeat(i.text||"",i.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:h(null,"Ctrl-O"),exec:function(s){s.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:h("Alt-Shift-X","Ctrl-T"),exec:function(s){s.transposeLetters()},multiSelectAction:function(s){s.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:h("Ctrl-U","Ctrl-U"),exec:function(s){s.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:h("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(s){s.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:h(null,null),exec:function(s){s.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:h("Ctrl-Shift-L","Command-Shift-L"),exec:function(s){var i=s.selection.getRange();i.start.column=i.end.column=0,i.end.row++,s.selection.setRange(i,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:h("Ctrl+F3","F3"),exec:function(s){s.openLink()}},{name:"joinlines",description:"Join lines",bindKey:h(null,null),exec:function(s){for(var i=s.selection.isBackwards(),r=i?s.selection.getSelectionLead():s.selection.getSelectionAnchor(),n=i?s.selection.getSelectionAnchor():s.selection.getSelectionLead(),o=s.session.doc.getLine(r.row).length,a=s.session.doc.getTextRange(s.selection.getRange()),l=a.replace(/\n\s*/," ").length,f=s.session.doc.getLine(r.row),u=r.row+1;u<=n.row+1;u++){var g=D.stringTrimLeft(D.stringTrimRight(s.session.doc.getLine(u)));g.length!==0&&(g=" "+g),f+=g}n.row+1<s.session.doc.getLength()-1&&(f+=s.session.doc.getNewLineCharacter()),s.clearSelection(),s.session.doc.replace(new v(r.row,0,n.row+2,0),f),l>0?(s.selection.moveCursorTo(r.row,r.column),s.selection.selectTo(r.row,r.column+l)):(o=s.session.doc.getLine(r.row).length>o?o+1:o,s.selection.moveCursorTo(r.row,o))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:h(null,null),exec:function(s){var i=s.session.doc.getLength()-1,r=s.session.doc.getLine(i).length,n=s.selection.rangeList.ranges,o=[];n.length<1&&(n=[s.selection.getRange()]);for(var a=0;a<n.length;a++)a==n.length-1&&(n[a].end.row===i&&n[a].end.column===r||o.push(new v(n[a].end.row,n[a].end.column,i,r))),a===0?n[a].start.row===0&&n[a].start.column===0||o.push(new v(0,0,n[a].start.row,n[a].start.column)):o.push(new v(n[a-1].end.row,n[a-1].end.column,n[a].start.row,n[a].start.column));s.exitMultiSelectMode(),s.clearSelection();for(var a=0;a<o.length;a++)s.selection.addRange(o[a],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(s){s.selection.clearSelection(),s.navigateLineEnd(),s.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(s){s.selection.clearSelection();var i=s.getCursorPosition();s.selection.moveTo(i.row-1,Number.MAX_VALUE),s.insert(`
`),i.row===0&&s.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(s){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),s.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:h("F1","F1"),exec:function(s){s.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:h(null,null),exec:function(s){s.prompt({$type:"modes"})},readOnly:!0}];for(var d=1;d<9;d++)M.commands.push({name:"foldToLevel"+d,description:"Fold To Level "+d,level:d,exec:function(s){s.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(L,M,K){var D=L("../lib/keys"),x=L("../mouse/default_gutter_handler").GutterTooltip,v=function(){function d(s){this.editor=s,this.gutterLayer=s.renderer.$gutterLayer,this.element=s.renderer.$gutter,this.lines=s.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new x(this.editor)}return d.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},d.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},d.prototype.$onGutterKeyDown=function(s){if(this.annotationTooltip.isOpen){s.preventDefault(),s.keyCode===D.escape&&this.annotationTooltip.hideTooltip();return}if(s.target===this.element){if(s.keyCode!=D.enter)return;s.preventDefault();var i=this.editor.getCursorPosition().row;this.editor.isRowVisible(i)||this.editor.scrollToLine(i,!0,!0),setTimeout((function(){var r=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),n=this.$findNearestFoldWidget(r),o=this.$findNearestAnnotation(r);if(!(n===null&&o===null)){if(n===null&&o!==null){this.activeRowIndex=o,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(n!==null&&o===null){this.activeRowIndex=n,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(o-r)<Math.abs(n-r)){this.activeRowIndex=o,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=n,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(s),setTimeout((function(){this.editor._signal("gutterkeydown",new h(s,this))}).bind(this),10)},d.prototype.$handleGutterKeyboardInteraction=function(s){if(s.keyCode===D.tab){s.preventDefault();return}if(s.keyCode===D.escape){s.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(s.keyCode===D.up){switch(s.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(s.keyCode===D.down){switch(s.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(s.keyCode===D.left){s.preventDefault(),this.$switchLane("annotation");return}if(s.keyCode===D.right){s.preventDefault(),this.$switchLane("fold");return}if(s.keyCode===D.enter||s.keyCode===D.space){switch(s.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var i=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),s),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==i&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(i),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var r=this.lines.cells[this.activeRowIndex].element.childNodes[2],n=r.getBoundingClientRect(),o=this.annotationTooltip.getElement().style;o.left=n.right+"px",o.top=n.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},d.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},d.prototype.$isFoldWidgetVisible=function(s){var i=this.editor.isRowFullyVisible(this.$rowIndexToRow(s)),r=this.$getFoldWidget(s).style.display!=="none";return i&&r},d.prototype.$isAnnotationVisible=function(s){var i=this.editor.isRowFullyVisible(this.$rowIndexToRow(s)),r=this.$getAnnotation(s).style.display!=="none";return i&&r},d.prototype.$getFoldWidget=function(s){var i=this.lines.get(s),r=i.element;return r.childNodes[1]},d.prototype.$getAnnotation=function(s){var i=this.lines.get(s),r=i.element;return r.childNodes[2]},d.prototype.$findNearestFoldWidget=function(s){if(this.$isFoldWidgetVisible(s))return s;for(var i=0;s-i>0||s+i<this.lines.getLength()-1;){if(i++,s-i>=0&&this.$isFoldWidgetVisible(s-i))return s-i;if(s+i<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(s+i))return s+i}return null},d.prototype.$findNearestAnnotation=function(s){if(this.$isAnnotationVisible(s))return s;for(var i=0;s-i>0||s+i<this.lines.getLength()-1;){if(i++,s-i>=0&&this.$isAnnotationVisible(s-i))return s-i;if(s+i<=this.lines.getLength()-1&&this.$isAnnotationVisible(s+i))return s+i}return null},d.prototype.$focusFoldWidget=function(s){if(s!=null){var i=this.$getFoldWidget(s);i.classList.add(this.editor.renderer.keyboardFocusClassName),i.focus()}},d.prototype.$focusAnnotation=function(s){if(s!=null){var i=this.$getAnnotation(s);i.classList.add(this.editor.renderer.keyboardFocusClassName),i.focus()}},d.prototype.$blurFoldWidget=function(s){var i=this.$getFoldWidget(s);i.classList.remove(this.editor.renderer.keyboardFocusClassName),i.blur()},d.prototype.$blurAnnotation=function(s){var i=this.$getAnnotation(s);i.classList.remove(this.editor.renderer.keyboardFocusClassName),i.blur()},d.prototype.$moveFoldWidgetUp=function(){for(var s=this.activeRowIndex;s>0;)if(s--,this.$isFoldWidgetVisible(s)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=s,this.$focusFoldWidget(this.activeRowIndex);return}},d.prototype.$moveFoldWidgetDown=function(){for(var s=this.activeRowIndex;s<this.lines.getLength()-1;)if(s++,this.$isFoldWidgetVisible(s)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=s,this.$focusFoldWidget(this.activeRowIndex);return}},d.prototype.$moveAnnotationUp=function(){for(var s=this.activeRowIndex;s>0;)if(s--,this.$isAnnotationVisible(s)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=s,this.$focusAnnotation(this.activeRowIndex);return}},d.prototype.$moveAnnotationDown=function(){for(var s=this.activeRowIndex;s<this.lines.getLength()-1;)if(s++,this.$isAnnotationVisible(s)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=s,this.$focusAnnotation(this.activeRowIndex);return}},d.prototype.$switchLane=function(s){switch(s){case"annotation":if(this.activeLane==="annotation")break;var i=this.$findNearestAnnotation(this.activeRowIndex);if(i==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=i,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var r=this.$findNearestFoldWidget(this.activeRowIndex);if(r==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=r,this.$focusFoldWidget(this.activeRowIndex);break}},d.prototype.$rowIndexToRow=function(s){var i=this.lines.get(s);return i?i.row:null},d.prototype.$rowToRowIndex=function(s){for(var i=0;i<this.lines.getLength();i++){var r=this.lines.get(i);if(r.row==s)return i}return null},d}();M.GutterKeyboardHandler=v;var h=function(){function d(s,i){this.gutterKeyboardHandler=i,this.domEvent=s}return d.prototype.getKey=function(){return D.keyCodeToString(this.domEvent.keyCode)},d.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},d.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},d.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},d}();M.GutterKeyboardEvent=h}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys","ace/lib/event","ace/tooltip"],function(L,M,K){var D=this&&this.__values||function(A){var C=typeof Symbol=="function"&&Symbol.iterator,$=C&&A[C],z=0;if($)return $.call(A);if(A&&typeof A.length=="number")return{next:function(){return A&&z>=A.length&&(A=void 0),{value:A&&A[z++],done:!A}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")},x=L("./lib/oop"),v=L("./lib/dom"),h=L("./lib/lang"),d=L("./lib/useragent"),s=L("./keyboard/textinput").TextInput,i=L("./mouse/mouse_handler").MouseHandler,r=L("./mouse/fold_handler").FoldHandler,n=L("./keyboard/keybinding").KeyBinding,o=L("./edit_session").EditSession,a=L("./search").Search,l=L("./range").Range,f=L("./lib/event_emitter").EventEmitter,u=L("./commands/command_manager").CommandManager,g=L("./commands/default_commands").commands,y=L("./config"),_=L("./token_iterator").TokenIterator,p=L("./keyboard/gutter_handler").GutterKeyboardHandler,S=L("./config").nls,b=L("./clipboard"),w=L("./lib/keys"),R=L("./lib/event"),H=L("./tooltip").HoverTooltip,k=function(){function A(C,$,z){this.session,this.$toDestroy=[];var F=C.getContainerElement();this.container=F,this.renderer=C,this.id="editor"+ ++A.$uid,this.commands=new u(d.isMac?"mac":"win",g),typeof document=="object"&&(this.textInput=new s(C.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new i(this),new r(this)),this.keyBinding=new n(this),this.$search=new a().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=h.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(N,B){B._$emitInputEvent.schedule(31)}),this.setSession($||z&&z.session||new o("")),y.resetOptions(this),z&&this.setOptions(z),y._signal("editor",this)}return A.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},A.prototype.startOperation=function(C){this.session.startOperation(C)},A.prototype.endOperation=function(C){this.session.endOperation(C)},A.prototype.onStartOperation=function(C){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,C||(this.previousCommand=null)},A.prototype.onEndOperation=function(C){if(this.curOp&&this.session){if(C&&C.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var $=this.curOp.command,z=$&&$.scrollIntoView;if(z){switch(z){case"center-animate":z="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var F=this.selection.getRange(),N=this.renderer.layerConfig;(F.start.row>=N.lastRow||F.end.row<=N.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}z=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},A.prototype.$historyTracker=function(C){if(this.$mergeUndoDeltas){var $=this.prevOp,z=this.$mergeableCommands,F=$.command&&C.command.name==$.command.name;if(C.command.name=="insertstring"){var N=C.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),F=F&&this.mergeNextCommand&&(!/\s/.test(N)||/\s/.test($.args)),this.mergeNextCommand=!0}else F=F&&z.indexOf(C.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(F=!1),F?this.session.mergeUndoDeltas=!0:z.indexOf(C.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},A.prototype.setKeyboardHandler=function(C,$){if(C&&typeof C=="string"&&C!="ace"){this.$keybindingId=C;var z=this;y.loadModule(["keybinding",C],function(F){z.$keybindingId==C&&z.keyBinding.setKeyboardHandler(F&&F.handler),$&&$()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(C),$&&$()},A.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},A.prototype.setSession=function(C){if(this.session!=C){this.curOp&&this.endOperation(),this.curOp={};var $=this.session;if($){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var z=this.session.getSelection();z.off("changeCursor",this.$onCursorChange),z.off("changeSelection",this.$onSelectionChange)}this.session=C,C?(this.$onDocumentChange=this.onDocumentChange.bind(this),C.on("change",this.$onDocumentChange),this.renderer.setSession(C),this.$onChangeMode=this.onChangeMode.bind(this),C.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),C.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),C.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),C.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),C.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),C.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=C.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(C)),this._signal("changeSession",{session:C,oldSession:$}),this.curOp=null,$&&$._signal("changeEditor",{oldEditor:this}),$&&($.$editor=null),C&&C._signal("changeEditor",{editor:this}),C&&(C.$editor=this),C&&!C.destroyed&&C.bgTokenizer.scheduleStart()}},A.prototype.getSession=function(){return this.session},A.prototype.setValue=function(C,$){return this.session.doc.setValue(C),$?$==1?this.navigateFileEnd():$==-1&&this.navigateFileStart():this.selectAll(),C},A.prototype.getValue=function(){return this.session.getValue()},A.prototype.getSelection=function(){return this.selection},A.prototype.resize=function(C){this.renderer.onResize(C)},A.prototype.setTheme=function(C,$){this.renderer.setTheme(C,$)},A.prototype.getTheme=function(){return this.renderer.getTheme()},A.prototype.setStyle=function(C){this.renderer.setStyle(C)},A.prototype.unsetStyle=function(C){this.renderer.unsetStyle(C)},A.prototype.getFontSize=function(){return this.getOption("fontSize")||v.computedStyle(this.container).fontSize},A.prototype.setFontSize=function(C){this.setOption("fontSize",C)},A.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var C=this;this.$highlightPending=!0,setTimeout(function(){C.$highlightPending=!1;var $=C.session;if(!(!$||$.destroyed)){$.$bracketHighlight&&($.$bracketHighlight.markerIds.forEach(function(q){$.removeMarker(q)}),$.$bracketHighlight=null);var z=C.getCursorPosition(),F=C.getKeyboardHandler(),N=F&&F.$getDirectionForHighlight&&F.$getDirectionForHighlight(C),B=$.getMatchingBracketRanges(z,N);if(!B){var P=new _($,z.row,z.column),V=P.getCurrentToken();if(V&&/\b(?:tag-open|tag-name)/.test(V.type)){var G=$.getMatchingTags(z);G&&(B=[G.openTagName.isEmpty()?G.openTag:G.openTagName,G.closeTagName.isEmpty()?G.closeTag:G.closeTagName])}}if(!B&&$.$mode.getMatching&&(B=$.$mode.getMatching(C.session)),!B){C.getHighlightIndentGuides()&&C.renderer.$textLayer.$highlightIndentGuide();return}var Y="ace_bracket";Array.isArray(B)?B.length==1&&(Y="ace_error_bracket"):B=[B],B.length==2&&(l.comparePoints(B[0].end,B[1].start)==0?B=[l.fromPoints(B[0].start,B[1].end)]:l.comparePoints(B[0].start,B[1].end)==0&&(B=[l.fromPoints(B[1].start,B[0].end)])),$.$bracketHighlight={ranges:B,markerIds:B.map(function(q){return $.addMarker(q,Y,"text")})},C.getHighlightIndentGuides()&&C.renderer.$textLayer.$highlightIndentGuide()}},50)}},A.prototype.focus=function(){this.textInput.focus()},A.prototype.isFocused=function(){return this.textInput.isFocused()},A.prototype.blur=function(){this.textInput.blur()},A.prototype.onFocus=function(C){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",C))},A.prototype.onBlur=function(C){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",C))},A.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},A.prototype.onDocumentChange=function(C){var $=this.session.$useWrapMode,z=C.start.row==C.end.row?C.end.row:1/0;this.renderer.updateLines(C.start.row,z,$),this._signal("change",C),this.$cursorChange()},A.prototype.onTokenizerUpdate=function(C){var $=C.data;this.renderer.updateLines($.first,$.last)},A.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},A.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},A.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},A.prototype.$updateHighlightActiveLine=function(){var C=this.getSession(),$;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&($=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&($=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&($=!1)),C.$highlightLineMarker&&!$)C.removeMarker(C.$highlightLineMarker.id),C.$highlightLineMarker=null;else if(!C.$highlightLineMarker&&$){var z=new l($.row,$.column,$.row,1/0);z.id=C.addMarker(z,"ace_active-line","screenLine"),C.$highlightLineMarker=z}else $&&(C.$highlightLineMarker.start.row=$.row,C.$highlightLineMarker.end.row=$.row,C.$highlightLineMarker.start.column=$.column,C._signal("changeBackMarker"))},A.prototype.onSelectionChange=function(C){var $=this.session;if($.$selectionMarker&&$.removeMarker($.$selectionMarker),$.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var z=this.selection.getRange(),F=this.getSelectionStyle();$.$selectionMarker=$.addMarker(z,"ace_selection",F)}var N=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(N),this._signal("changeSelection")},A.prototype.$getSelectionHighLightRegexp=function(){var C=this.session,$=this.getSelectionRange();if(!($.isEmpty()||$.isMultiLine())){var z=$.start.column,F=$.end.column,N=C.getLine($.start.row),B=N.substring(z,F);if(!(B.length>5e3||!/[\w\d]/.test(B))){var P=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:B}),V=N.substring(z-1,F+1);if(P.test(V))return P}}},A.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},A.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},A.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},A.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},A.prototype.onChangeMode=function(C){this.renderer.updateText(),this._emit("changeMode",C)},A.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},A.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},A.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},A.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},A.prototype.getCopyText=function(){var C=this.getSelectedText(),$=this.session.doc.getNewLineCharacter(),z=!1;if(!C&&this.$copyWithEmptySelection){z=!0;for(var F=this.selection.getAllRanges(),N=0;N<F.length;N++){var B=F[N];N&&F[N-1].start.row==B.start.row||(C+=this.session.getLine(B.start.row)+$)}}var P={text:C};return this._signal("copy",P),b.lineMode=z?P.text:!1,P.text},A.prototype.onCopy=function(){this.commands.exec("copy",this)},A.prototype.onCut=function(){this.commands.exec("cut",this)},A.prototype.onPaste=function(C,$){var z={text:C,event:$};this.commands.exec("paste",this,z)},A.prototype.$handlePaste=function(C){typeof C=="string"&&(C={text:C}),this._signal("paste",C);var $=C.text,z=$===b.lineMode,F=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)z?F.insert({row:this.selection.lead.row,column:0},$):this.insert($);else if(z)this.selection.rangeList.ranges.forEach(function(Y){F.insert({row:Y.start.row,column:0},$)});else{var N=$.split(/\r\n|\r|\n/),B=this.selection.rangeList.ranges,P=N.length==2&&(!N[0]||!N[1]);if(N.length!=B.length||P)return this.commands.exec("insertstring",this,$);for(var V=B.length;V--;){var G=B[V];G.isEmpty()||F.remove(G),F.insert(G.start,N[V])}}},A.prototype.execCommand=function(C,$){return this.commands.exec(C,this,$)},A.prototype.insert=function(C,$){var z=this.session,F=z.getMode(),N=this.getCursorPosition();if(this.getBehavioursEnabled()&&!$){var B=F.transformAction(z.getState(N.row),"insertion",this,z,C);B&&(C!==B.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),C=B.text)}if(C=="	"&&(C=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&C.indexOf(`
`)==-1){var P=l.fromPoints(N,N);P.end.column+=C.length,this.session.remove(P)}}else{var P=this.getSelectionRange();N=this.session.remove(P),this.clearSelection()}if(C==`
`||C==`\r
`){var q=z.getLine(N.row);if(N.column>q.search(/\S|$/)){var V=q.substr(N.column).search(/\S|$/);z.doc.removeInLine(N.row,N.column,N.column+V)}}this.clearSelection();var G=N.column,Y=z.getState(N.row),q=z.getLine(N.row),Z=F.checkOutdent(Y,q,C);if(z.insert(N,C),B&&B.selection&&(B.selection.length==2?this.selection.setSelectionRange(new l(N.row,G+B.selection[0],N.row,G+B.selection[1])):this.selection.setSelectionRange(new l(N.row+B.selection[0],B.selection[1],N.row+B.selection[2],B.selection[3]))),this.$enableAutoIndent){if(z.getDocument().isNewLine(C)){var Q=F.getNextLineIndent(Y,q.slice(0,N.column),z.getTabString());z.insert({row:N.row+1,column:0},Q)}Z&&F.autoOutdent(Y,z,N.row)}},A.prototype.autoIndent=function(){for(var C=this.session,$=C.getMode(),z=this.selection.isEmpty()?[new l(0,0,C.doc.getLength()-1,0)]:this.selection.getAllRanges(),F="",N="",B="",P=C.getTabString(),V=0;V<z.length;V++)for(var G=z[V].start.row,Y=z[V].end.row,q=G;q<=Y;q++){q>0&&(F=C.getState(q-1),N=C.getLine(q-1),B=$.getNextLineIndent(F,N,P));var Z=C.getLine(q),Q=$.$getIndent(Z);if(B!==Q){if(Q.length>0){var U=new l(q,0,q,Q.length);C.remove(U)}B.length>0&&C.insert({row:q,column:0},B)}$.autoOutdent(F,C,q)}},A.prototype.onTextInput=function(C,$){if(!$)return this.keyBinding.onTextInput(C);this.startOperation({command:{name:"insertstring"}});var z=this.applyComposition.bind(this,C,$);this.selection.rangeCount?this.forEachSelection(z):z(),this.endOperation()},A.prototype.applyComposition=function(C,$){if($.extendLeft||$.extendRight){var z=this.selection.getRange();z.start.column-=$.extendLeft,z.end.column+=$.extendRight,z.start.column<0&&(z.start.row--,z.start.column+=this.session.getLine(z.start.row).length+1),this.selection.setRange(z),!C&&!z.isEmpty()&&this.remove()}if((C||!this.selection.isEmpty())&&this.insert(C,!0),$.restoreStart||$.restoreEnd){var z=this.selection.getRange();z.start.column-=$.restoreStart,z.end.column-=$.restoreEnd,this.selection.setRange(z)}},A.prototype.onCommandKey=function(C,$,z){return this.keyBinding.onCommandKey(C,$,z)},A.prototype.setOverwrite=function(C){this.session.setOverwrite(C)},A.prototype.getOverwrite=function(){return this.session.getOverwrite()},A.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},A.prototype.setScrollSpeed=function(C){this.setOption("scrollSpeed",C)},A.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},A.prototype.setDragDelay=function(C){this.setOption("dragDelay",C)},A.prototype.getDragDelay=function(){return this.getOption("dragDelay")},A.prototype.setSelectionStyle=function(C){this.setOption("selectionStyle",C)},A.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},A.prototype.setHighlightActiveLine=function(C){this.setOption("highlightActiveLine",C)},A.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},A.prototype.setHighlightGutterLine=function(C){this.setOption("highlightGutterLine",C)},A.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},A.prototype.setHighlightSelectedWord=function(C){this.setOption("highlightSelectedWord",C)},A.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},A.prototype.setAnimatedScroll=function(C){this.renderer.setAnimatedScroll(C)},A.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},A.prototype.setShowInvisibles=function(C){this.renderer.setShowInvisibles(C)},A.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},A.prototype.setDisplayIndentGuides=function(C){this.renderer.setDisplayIndentGuides(C)},A.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},A.prototype.setHighlightIndentGuides=function(C){this.renderer.setHighlightIndentGuides(C)},A.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},A.prototype.setShowPrintMargin=function(C){this.renderer.setShowPrintMargin(C)},A.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},A.prototype.setPrintMarginColumn=function(C){this.renderer.setPrintMarginColumn(C)},A.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},A.prototype.setReadOnly=function(C){this.setOption("readOnly",C)},A.prototype.getReadOnly=function(){return this.getOption("readOnly")},A.prototype.setBehavioursEnabled=function(C){this.setOption("behavioursEnabled",C)},A.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},A.prototype.setWrapBehavioursEnabled=function(C){this.setOption("wrapBehavioursEnabled",C)},A.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},A.prototype.setShowFoldWidgets=function(C){this.setOption("showFoldWidgets",C)},A.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},A.prototype.setFadeFoldWidgets=function(C){this.setOption("fadeFoldWidgets",C)},A.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},A.prototype.remove=function(C){this.selection.isEmpty()&&(C=="left"?this.selection.selectLeft():this.selection.selectRight());var $=this.getSelectionRange();if(this.getBehavioursEnabled()){var z=this.session,F=z.getState($.start.row),N=z.getMode().transformAction(F,"deletion",this,z,$);if($.end.column===0){var B=z.getTextRange($);if(B[B.length-1]==`
`){var P=z.getLine($.end.row);/^\s+$/.test(P)&&($.end.column=P.length)}}N&&($=N)}this.session.remove($),this.clearSelection()},A.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},A.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},A.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},A.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var C=this.getSelectionRange();C.start.column==C.end.column&&C.start.row==C.end.row&&(C.end.column=0,C.end.row++),this.session.remove(C),this.clearSelection()},A.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var C=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(C)},A.prototype.setGhostText=function(C,$){this.renderer.setGhostText(C,$)},A.prototype.removeGhostText=function(){this.renderer.removeGhostText()},A.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var C=this.getCursorPosition(),$=C.column;if($!==0){var z=this.session.getLine(C.row),F,N;$<z.length?(F=z.charAt($)+z.charAt($-1),N=new l(C.row,$-1,C.row,$+1)):(F=z.charAt($-1)+z.charAt($-2),N=new l(C.row,$-2,C.row,$)),this.session.replace(N,F),this.session.selection.moveToPosition(N.end)}}},A.prototype.toLowerCase=function(){var C=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var $=this.getSelectionRange(),z=this.session.getTextRange($);this.session.replace($,z.toLowerCase()),this.selection.setSelectionRange(C)},A.prototype.toUpperCase=function(){var C=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var $=this.getSelectionRange(),z=this.session.getTextRange($);this.session.replace($,z.toUpperCase()),this.selection.setSelectionRange(C)},A.prototype.indent=function(){var C=this.session,$=this.getSelectionRange();if($.start.row<$.end.row){var z=this.$getSelectedRows();C.indentRows(z.first,z.last,"	");return}else if($.start.column<$.end.column){var F=C.getTextRange($);if(!/^\s+$/.test(F)){var z=this.$getSelectedRows();C.indentRows(z.first,z.last,"	");return}}var N=C.getLine($.start.row),B=$.start,P=C.getTabSize(),V=C.documentToScreenColumn(B.row,B.column);if(this.session.getUseSoftTabs())var G=P-V%P,Y=h.stringRepeat(" ",G);else{for(var G=V%P;N[$.start.column-1]==" "&&G;)$.start.column--,G--;this.selection.setSelectionRange($),Y="	"}return this.insert(Y)},A.prototype.blockIndent=function(){var C=this.$getSelectedRows();this.session.indentRows(C.first,C.last,"	")},A.prototype.blockOutdent=function(){var C=this.session.getSelection();this.session.outdentRows(C.getRange())},A.prototype.sortLines=function(){for(var C=this.$getSelectedRows(),$=this.session,z=[],F=C.first;F<=C.last;F++)z.push($.getLine(F));z.sort(function(P,V){return P.toLowerCase()<V.toLowerCase()?-1:P.toLowerCase()>V.toLowerCase()?1:0});for(var N=new l(0,0,0,0),F=C.first;F<=C.last;F++){var B=$.getLine(F);N.start.row=F,N.end.row=F,N.end.column=B.length,$.replace(N,z[F-C.first])}},A.prototype.toggleCommentLines=function(){var C=this.session.getState(this.getCursorPosition().row),$=this.$getSelectedRows();this.session.getMode().toggleCommentLines(C,this.session,$.first,$.last)},A.prototype.toggleBlockComment=function(){var C=this.getCursorPosition(),$=this.session.getState(C.row),z=this.getSelectionRange();this.session.getMode().toggleBlockComment($,this.session,z,C)},A.prototype.getNumberAt=function(C,$){var z=/[\-]?[0-9]+(?:\.[0-9]+)?/g;z.lastIndex=0;for(var F=this.session.getLine(C);z.lastIndex<$;){var N=z.exec(F);if(N.index<=$&&N.index+N[0].length>=$){var B={value:N[0],start:N.index,end:N.index+N[0].length};return B}}return null},A.prototype.modifyNumber=function(C){var $=this.selection.getCursor().row,z=this.selection.getCursor().column,F=new l($,z-1,$,z),N=this.session.getTextRange(F);if(!isNaN(parseFloat(N))&&isFinite(N)){var B=this.getNumberAt($,z);if(B){var P=B.value.indexOf(".")>=0?B.start+B.value.indexOf(".")+1:B.end,V=B.start+B.value.length-P,G=parseFloat(B.value);G*=Math.pow(10,V),P!==B.end&&z<P?C*=Math.pow(10,B.end-z-1):C*=Math.pow(10,B.end-z),G+=C,G/=Math.pow(10,V);var Y=G.toFixed(V),q=new l($,B.start,$,B.end);this.session.replace(q,Y),this.moveCursorTo($,Math.max(B.start+1,z+Y.length-B.value.length))}}else this.toggleWord()},A.prototype.toggleWord=function(){var C=this.selection.getCursor().row,$=this.selection.getCursor().column;this.selection.selectWord();var z=this.getSelectedText(),F=this.selection.getWordRange().start.column,N=z.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),B=$-F-1;B<0&&(B=0);var P=0,V=0,G=this;z.match(/[A-Za-z0-9_]+/)&&N.forEach(function(pe,be){V=P+pe.length,B>=P&&B<=V&&(z=pe,G.selection.clearSelection(),G.moveCursorTo(C,P+F),G.selection.selectTo(C,V+F)),P=V});for(var Y=this.$toggleWordPairs,q,Z=0;Z<Y.length;Z++)for(var Q=Y[Z],U=0;U<=1;U++){var ie=+!U,ee=z.match(new RegExp("^\\s?_?("+h.escapeRegExp(Q[U])+")\\s?$","i"));if(ee){var he=z.match(new RegExp("([_]|^|\\s)("+h.escapeRegExp(ee[1])+")($|\\s)","g"));he&&(q=z.replace(new RegExp(h.escapeRegExp(Q[U]),"i"),function(pe){var be=Q[ie];return pe.toUpperCase()==pe?be=be.toUpperCase():pe.charAt(0).toUpperCase()==pe.charAt(0)&&(be=be.substr(0,0)+Q[ie].charAt(0).toUpperCase()+be.substr(1)),be}),this.insert(q),q="")}}},A.prototype.findLinkAt=function(C,$){var z,F,N=this.session.getLine(C),B=N.split(/((?:https?|ftp):\/\/[\S]+)/),P=$;P<0&&(P=0);var V=0,G=0,Y;try{for(var q=D(B),Z=q.next();!Z.done;Z=q.next()){var Q=Z.value;if(G=V+Q.length,P>=V&&P<=G&&Q.match(/((?:https?|ftp):\/\/[\S]+)/)){Y=Q.replace(/[\s:.,'";}\]]+$/,"");break}V=G}}catch(U){z={error:U}}finally{try{Z&&!Z.done&&(F=q.return)&&F.call(q)}finally{if(z)throw z.error}}return Y},A.prototype.openLink=function(){var C=this.selection.getCursor(),$=this.findLinkAt(C.row,C.column);return $&&window.open($,"_blank"),$!=null},A.prototype.removeLines=function(){var C=this.$getSelectedRows();this.session.removeFullLines(C.first,C.last),this.clearSelection()},A.prototype.duplicateSelection=function(){var C=this.selection,$=this.session,z=C.getRange(),F=C.isBackwards();if(z.isEmpty()){var N=z.start.row;$.duplicateLines(N,N)}else{var B=F?z.start:z.end,P=$.insert(B,$.getTextRange(z));z.start=B,z.end=P,C.setSelectionRange(z,F)}},A.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},A.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},A.prototype.moveText=function(C,$,z){return this.session.moveText(C,$,z)},A.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},A.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},A.prototype.$moveLines=function(C,$){var z,F,N=this.selection;if(!N.inMultiSelectMode||this.inVirtualSelectionMode){var B=N.toOrientedRange();z=this.$getSelectedRows(B),F=this.session.$moveLines(z.first,z.last,$?0:C),$&&C==-1&&(F=0),B.moveBy(F,0),N.fromOrientedRange(B)}else{var P=N.rangeList.ranges;N.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var V=0,G=0,Y=P.length,q=0;q<Y;q++){var Z=q;P[q].moveBy(V,0),z=this.$getSelectedRows(P[q]);for(var Q=z.first,U=z.last;++q<Y;){G&&P[q].moveBy(G,0);var ie=this.$getSelectedRows(P[q]);if($&&ie.first!=U)break;if(!$&&ie.first>U+1)break;U=ie.last}for(q--,V=this.session.$moveLines(Q,U,$?0:C),$&&C==-1&&(Z=q+1);Z<=q;)P[Z].moveBy(V,0),Z++;$||(V=0),G+=V}N.fromOrientedRange(N.ranges[0]),N.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},A.prototype.$getSelectedRows=function(C){return C=(C||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(C.start.row),last:this.session.getRowFoldEnd(C.end.row)}},A.prototype.onCompositionStart=function(C){this.renderer.showComposition(C)},A.prototype.onCompositionUpdate=function(C){this.renderer.setCompositionText(C)},A.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},A.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},A.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},A.prototype.isRowVisible=function(C){return C>=this.getFirstVisibleRow()&&C<=this.getLastVisibleRow()},A.prototype.isRowFullyVisible=function(C){return C>=this.renderer.getFirstFullyVisibleRow()&&C<=this.renderer.getLastFullyVisibleRow()},A.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},A.prototype.$moveByPage=function(C,$){var z=this.renderer,F=this.renderer.layerConfig,N=C*Math.floor(F.height/F.lineHeight);$===!0?this.selection.$moveSelection(function(){this.moveCursorBy(N,0)}):$===!1&&(this.selection.moveCursorBy(N,0),this.selection.clearSelection());var B=z.scrollTop;z.scrollBy(0,N*F.lineHeight),$!=null&&z.scrollCursorIntoView(null,.5),z.animateScrolling(B)},A.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},A.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},A.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},A.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},A.prototype.scrollPageDown=function(){this.$moveByPage(1)},A.prototype.scrollPageUp=function(){this.$moveByPage(-1)},A.prototype.scrollToRow=function(C){this.renderer.scrollToRow(C)},A.prototype.scrollToLine=function(C,$,z,F){this.renderer.scrollToLine(C,$,z,F)},A.prototype.centerSelection=function(){var C=this.getSelectionRange(),$={row:Math.floor(C.start.row+(C.end.row-C.start.row)/2),column:Math.floor(C.start.column+(C.end.column-C.start.column)/2)};this.renderer.alignCursor($,.5)},A.prototype.getCursorPosition=function(){return this.selection.getCursor()},A.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},A.prototype.getSelectionRange=function(){return this.selection.getRange()},A.prototype.selectAll=function(){this.selection.selectAll()},A.prototype.clearSelection=function(){this.selection.clearSelection()},A.prototype.moveCursorTo=function(C,$){this.selection.moveCursorTo(C,$)},A.prototype.moveCursorToPosition=function(C){this.selection.moveCursorToPosition(C)},A.prototype.jumpToMatching=function(C,$){var z=this.getCursorPosition(),F=new _(this.session,z.row,z.column),N=F.getCurrentToken(),B=0;N&&N.type.indexOf("tag-name")!==-1&&(N=F.stepBackward());var P=N||F.stepForward();if(P){var V,G=!1,Y={},q=z.column-P.start,Z,Q={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(P.value.match(/[{}()\[\]]/g)){for(;q<P.value.length&&!G;q++)if(Q[P.value[q]])switch(Z=Q[P.value[q]]+"."+P.type.replace("rparen","lparen"),isNaN(Y[Z])&&(Y[Z]=0),P.value[q]){case"(":case"[":case"{":Y[Z]++;break;case")":case"]":case"}":Y[Z]--,Y[Z]===-1&&(V="bracket",G=!0);break}}else P.type.indexOf("tag-name")!==-1&&(isNaN(Y[P.value])&&(Y[P.value]=0),N.value==="<"&&B>1?Y[P.value]++:N.value==="</"&&Y[P.value]--,Y[P.value]===-1&&(V="tag",G=!0));G||(N=P,B++,P=F.stepForward(),q=0)}while(P&&!G);if(V){var U,ie;if(V==="bracket")U=this.session.getBracketRange(z),U||(U=new l(F.getCurrentTokenRow(),F.getCurrentTokenColumn()+q-1,F.getCurrentTokenRow(),F.getCurrentTokenColumn()+q-1),ie=U.start,($||ie.row===z.row&&Math.abs(ie.column-z.column)<2)&&(U=this.session.getBracketRange(ie)));else if(V==="tag"){if(!P||P.type.indexOf("tag-name")===-1)return;if(U=new l(F.getCurrentTokenRow(),F.getCurrentTokenColumn()-2,F.getCurrentTokenRow(),F.getCurrentTokenColumn()-2),U.compare(z.row,z.column)===0){var ee=this.session.getMatchingTags(z);ee&&(ee.openTag.contains(z.row,z.column)?(U=ee.closeTag,ie=U.start):(U=ee.openTag,ee.closeTag.start.row===z.row&&ee.closeTag.start.column===z.column?ie=U.end:ie=U.start))}ie=ie||U.start}ie=U&&U.cursor||ie,ie&&(C?U&&$?this.selection.setRange(U):U&&U.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(ie.row,ie.column):this.selection.moveTo(ie.row,ie.column))}}},A.prototype.gotoLine=function(C,$,z){this.selection.clearSelection(),this.session.unfold({row:C-1,column:$||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(C-1,$||0),this.isRowFullyVisible(C-1)||this.scrollToLine(C-1,!0,z)},A.prototype.navigateTo=function(C,$){this.selection.moveTo(C,$)},A.prototype.navigateUp=function(C){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var $=this.selection.anchor.getPosition();return this.moveCursorToPosition($)}this.selection.clearSelection(),this.selection.moveCursorBy(-C||-1,0)},A.prototype.navigateDown=function(C){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var $=this.selection.anchor.getPosition();return this.moveCursorToPosition($)}this.selection.clearSelection(),this.selection.moveCursorBy(C||1,0)},A.prototype.navigateLeft=function(C){if(this.selection.isEmpty())for(C=C||1;C--;)this.selection.moveCursorLeft();else{var $=this.getSelectionRange().start;this.moveCursorToPosition($)}this.clearSelection()},A.prototype.navigateRight=function(C){if(this.selection.isEmpty())for(C=C||1;C--;)this.selection.moveCursorRight();else{var $=this.getSelectionRange().end;this.moveCursorToPosition($)}this.clearSelection()},A.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},A.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},A.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},A.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},A.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},A.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},A.prototype.replace=function(C,$){$&&this.$search.set($);var z=this.$search.find(this.session),F=0;return z&&(this.$tryReplace(z,C)&&(F=1),this.selection.setSelectionRange(z),this.renderer.scrollSelectionIntoView(z.start,z.end)),F},A.prototype.replaceAll=function(C,$){$&&this.$search.set($);var z=this.$search.findAll(this.session),F=0;if(!z.length)return F;var N=this.getSelectionRange();this.selection.moveTo(0,0);for(var B=z.length-1;B>=0;--B)this.$tryReplace(z[B],C)&&F++;return this.selection.setSelectionRange(N),F},A.prototype.$tryReplace=function(C,$){var z=this.session.getTextRange(C);return $=this.$search.replace(z,$),$!==null?(C.end=this.session.replace(C,$),C):null},A.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},A.prototype.find=function(C,$,z){$||($={}),typeof C=="string"||C instanceof RegExp?$.needle=C:typeof C=="object"&&x.mixin($,C);var F=this.selection.getRange();$.needle==null&&(C=this.session.getTextRange(F)||this.$search.$options.needle,C||(F=this.session.getWordRange(F.start.row,F.start.column),C=this.session.getTextRange(F)),this.$search.set({needle:C})),this.$search.set($),$.start||this.$search.set({start:F});var N=this.$search.find(this.session);if($.preventScroll)return N;if(N)return this.revealRange(N,z),N;$.backwards?F.start=F.end:F.end=F.start,this.selection.setRange(F)},A.prototype.findNext=function(C,$){this.find({skipCurrent:!0,backwards:!1},C,$)},A.prototype.findPrevious=function(C,$){this.find(C,{skipCurrent:!0,backwards:!0},$)},A.prototype.revealRange=function(C,$){this.session.unfold(C),this.selection.setSelectionRange(C);var z=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(C.start,C.end,.5),$!==!1&&this.renderer.animateScrolling(z)},A.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},A.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},A.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(C){C.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},A.prototype.setAutoScrollEditorIntoView=function(C){if(C){var $,z=this,F=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var N=this.$scrollAnchor;N.style.cssText="position:absolute",this.container.insertBefore(N,this.container.firstChild);var B=this.on("changeSelection",function(){F=!0}),P=this.renderer.on("beforeRender",function(){F&&($=z.renderer.container.getBoundingClientRect())}),V=this.renderer.on("afterRender",function(){if(F&&$&&(z.isFocused()||z.searchBox&&z.searchBox.isFocused())){var G=z.renderer,Y=G.$cursorLayer.$pixelPos,q=G.layerConfig,Z=Y.top-q.offset;Y.top>=0&&Z+$.top<0?F=!0:Y.top<q.height&&Y.top+$.top+q.lineHeight>window.innerHeight?F=!1:F=null,F!=null&&(N.style.top=Z+"px",N.style.left=Y.left+"px",N.style.height=q.lineHeight+"px",N.scrollIntoView(F)),F=$=null}});this.setAutoScrollEditorIntoView=function(G){G||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",B),this.renderer.off("afterRender",V),this.renderer.off("beforeRender",P))}}},A.prototype.$resetCursorStyle=function(){var C=this.$cursorStyle||"ace",$=this.renderer.$cursorLayer;$&&($.setSmoothBlinking(/smooth/.test(C)),$.isBlinking=!this.$readOnly&&C!="wide",v.setCssClass($.element,"ace_slim-cursors",/slim/.test(C)))},A.prototype.prompt=function(C,$,z){var F=this;y.loadModule("ace/ext/prompt",function(N){N.prompt(F,C,$,z)})},A}();k.$uid=0,k.prototype.curOp=null,k.prototype.prevOp={},k.prototype.$mergeableCommands=["backspace","del","insertstring"],k.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],x.implement(k.prototype,f),y.defineOptions(k.prototype,"editor",{selectionStyle:{set:function(A){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:A})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(A){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(A){var C=this;this.textInput.setReadOnly(A),this.$resetCursorStyle(),this.$readOnlyCallback||(this.$readOnlyCallback=function(z){var F=!1;if(z&&z.type=="keydown"){if(F=z&&z.key&&z.key.length==1&&!z.ctrlKey&&!z.metaKey,!F)return}else z&&z.type!=="exec"&&(F=!0);if(F){C.hoverTooltip||(C.hoverTooltip=new H);var N=v.createElement("div");N.textContent=S("editor.tooltip.disable-editing","Editing is disabled"),C.hoverTooltip.isOpen||C.hoverTooltip.showForRange(C,C.getSelectionRange(),N)}else C.hoverTooltip&&C.hoverTooltip.isOpen&&C.hoverTooltip.hide()});var $=this.textInput.getElement();A?(R.addListener($,"keydown",this.$readOnlyCallback,this),this.commands.on("exec",this.$readOnlyCallback),this.commands.on("commandUnavailable",this.$readOnlyCallback)):(R.removeListener($,"keydown",this.$readOnlyCallback),this.commands.off("exec",this.$readOnlyCallback),this.commands.off("commandUnavailable",this.$readOnlyCallback),this.hoverTooltip&&(this.hoverTooltip.destroy(),this.hoverTooltip=null))},initialValue:!1},copyWithEmptySelection:{set:function(A){this.textInput.setCopyWithEmptySelection(A)},initialValue:!1},cursorStyle:{set:function(A){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(A){this.setAutoScrollEditorIntoView(A)}},keyboardHandler:{set:function(A){this.setKeyboardHandler(A)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(A){this.session.setValue(A)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(A){this.setSession(A)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(A){this.renderer.$gutterLayer.setShowLineNumbers(A),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),A&&this.$relativeLineNumbers?E.attach(this):E.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(A){this.$showLineNumbers&&A?E.attach(this):E.detach(this)}},placeholder:{set:function(A){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var C=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(C&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),v.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!C&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),v.addCssClass(this.container,"ace_hasPlaceholder");var $=v.createElement("div");$.className="ace_placeholder",$.textContent=this.$placeholder||"",this.renderer.placeholderNode=$,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!C&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(A){var C={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(F){F.blur(),F.renderer.scroller.focus()},readOnly:!0},$=function(F){if(F.target==this.renderer.scroller&&F.keyCode===w.enter){F.preventDefault();var N=this.getCursorPosition().row;this.isRowVisible(N)||this.scrollToLine(N,!0,!0),this.focus()}},z;A?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(d.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",S("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",S("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",$.bind(this)),this.commands.addCommand(C),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",S("editor.gutter.aria-roledescription","editor gutter")),this.renderer.$gutter.setAttribute("aria-label",S("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),z||(z=new p(this)),z.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",$.bind(this)),this.commands.removeCommand(C),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),z&&z.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(A){this.$textInputAriaLabel=A},initialValue:""},enableMobileMenu:{set:function(A){this.$enableMobileMenu=A},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var E={getText:function(A,C){return(Math.abs(A.selection.lead.row-C)||C+1+(C<9?"·":""))+""},getWidth:function(A,C,$){return Math.max(C.toString().length,($.lastRow+1).toString().length,2)*$.characterWidth},update:function(A,C){C.renderer.$loop.schedule(C.renderer.CHANGE_GUTTER)},attach:function(A){A.renderer.$gutterLayer.$renderer=this,A.on("changeSelection",this.update),this.update(null,A)},detach:function(A){A.renderer.$gutterLayer.$renderer==this&&(A.renderer.$gutterLayer.$renderer=null),A.off("changeSelection",this.update),this.update(null,A)}};M.Editor=k}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(L,M,K){var D=L("../lib/dom"),x=function(){function v(h,d){this.element=h,this.canvasHeight=d||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return v.prototype.moveContainer=function(h){D.translate(this.element,0,-(h.firstRowScreen*h.lineHeight%this.canvasHeight)-h.offset*this.$offsetCoefficient)},v.prototype.pageChanged=function(h,d){return Math.floor(h.firstRowScreen*h.lineHeight/this.canvasHeight)!==Math.floor(d.firstRowScreen*d.lineHeight/this.canvasHeight)},v.prototype.computeLineTop=function(h,d,s){var i=d.firstRowScreen*d.lineHeight,r=Math.floor(i/this.canvasHeight),n=s.documentToScreenRow(h,0)*d.lineHeight;return n-r*this.canvasHeight},v.prototype.computeLineHeight=function(h,d,s){return d.lineHeight*s.getRowLineCount(h)},v.prototype.getLength=function(){return this.cells.length},v.prototype.get=function(h){return this.cells[h]},v.prototype.shift=function(){this.$cacheCell(this.cells.shift())},v.prototype.pop=function(){this.$cacheCell(this.cells.pop())},v.prototype.push=function(h){if(Array.isArray(h)){this.cells.push.apply(this.cells,h);for(var d=D.createFragment(this.element),s=0;s<h.length;s++)d.appendChild(h[s].element);this.element.appendChild(d)}else this.cells.push(h),this.element.appendChild(h.element)},v.prototype.unshift=function(h){if(Array.isArray(h)){this.cells.unshift.apply(this.cells,h);for(var d=D.createFragment(this.element),s=0;s<h.length;s++)d.appendChild(h[s].element);this.element.firstChild?this.element.insertBefore(d,this.element.firstChild):this.element.appendChild(d)}else this.cells.unshift(h),this.element.insertAdjacentElement("afterbegin",h.element)},v.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},v.prototype.$cacheCell=function(h){h&&(h.element.remove(),this.cellCache.push(h))},v.prototype.createCell=function(h,d,s,i){var r=this.cellCache.pop();if(!r){var n=D.createElement("div");i&&i(n),this.element.appendChild(n),r={element:n,text:"",row:h}}return r.row=h,r},v}();M.Lines=x}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(L,M,K){var D=L("../lib/dom"),x=L("../lib/oop"),v=L("../lib/lang"),h=L("../lib/event_emitter").EventEmitter,d=L("./lines").Lines,s=L("../config").nls,i=function(){function n(o){this.element=D.createElement("div"),this.element.className="ace_layer ace_gutter-layer",o.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new d(this.element),this.$lines.$offsetCoefficient=1}return n.prototype.setSession=function(o){this.session&&this.session.off("change",this.$updateAnnotations),this.session=o,o&&o.on("change",this.$updateAnnotations)},n.prototype.addGutterDecoration=function(o,a){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(o,a)},n.prototype.removeGutterDecoration=function(o,a){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(o,a)},n.prototype.setAnnotations=function(o){this.$annotations=[];for(var a=0;a<o.length;a++){var l=o[a],f=l.row,u=this.$annotations[f];u||(u=this.$annotations[f]={text:[],type:[],displayText:[]});var g=l.text,y=l.text,_=l.type;g=g?v.escapeHTML(g):l.html||"",y=y||l.html||"",u.text.indexOf(g)===-1&&(u.text.push(g),u.type.push(_),u.displayText.push(y));var p=l.className;p?u.className=p:_==="error"?u.className=" ace_error":_==="security"&&!/\bace_error\b/.test(u.className)?u.className=" ace_security":_==="warning"&&!/\bace_(error|security)\b/.test(u.className)?u.className=" ace_warning":_==="info"&&!u.className?u.className=" ace_info":_==="hint"&&!u.className&&(u.className=" ace_hint")}},n.prototype.$updateAnnotations=function(o){if(this.$annotations.length){var a=o.start.row,l=o.end.row-a;if(l!==0)if(o.action=="remove")this.$annotations.splice(a,l+1,null);else{var f=new Array(l+1);f.unshift(a,1),this.$annotations.splice.apply(this.$annotations,f)}}},n.prototype.update=function(o){this.config=o;var a=this.session,l=o.firstRow,f=Math.min(o.lastRow+o.gutterOffset,a.getLength()-1);this.oldLastRow=f,this.config=o,this.$lines.moveContainer(o),this.$updateCursorRow();for(var u=a.getNextFoldLine(l),g=u?u.start.row:1/0,y=null,_=-1,p=l;;){if(p>g&&(p=u.end.row+1,u=a.getNextFoldLine(p,u),g=u?u.start.row:1/0),p>f){for(;this.$lines.getLength()>_+1;)this.$lines.pop();break}y=this.$lines.get(++_),y?y.row=p:(y=this.$lines.createCell(p,o,this.session,r),this.$lines.push(y)),this.$renderCell(y,o,u,p),p++}this._signal("afterRender"),this.$updateGutterWidth(o)},n.prototype.$updateGutterWidth=function(o){var a=this.session,l=a.gutterRenderer||this.$renderer,f=a.$firstLineNumber,u=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||a.$useWrapMode)&&(u=a.getLength()+f-1);var g=l?l.getWidth(a,u,o):u.toString().length*o.characterWidth,y=this.$padding||this.$computePadding();g+=y.left+y.right,g!==this.gutterWidth&&!isNaN(g)&&(this.gutterWidth=g,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",g))},n.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var o=this.session.selection.getCursor();this.$cursorRow!==o.row&&(this.$cursorRow=o.row)}},n.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var o=this.session.selection.cursor.row;if(this.$cursorRow=o,!(this.$cursorCell&&this.$cursorCell.row==o)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var a=this.$lines.cells;this.$cursorCell=null;for(var l=0;l<a.length;l++){var f=a[l];if(f.row>=this.$cursorRow){if(f.row>this.$cursorRow){var u=this.session.getFoldLine(this.$cursorRow);if(l>0&&u&&u.start.row==a[l-1].row)f=a[l-1];else break}f.element.className="ace_gutter-active-line "+f.element.className,this.$cursorCell=f;break}}}}},n.prototype.scrollLines=function(o){var a=this.config;if(this.config=o,this.$updateCursorRow(),this.$lines.pageChanged(a,o))return this.update(o);this.$lines.moveContainer(o);var l=Math.min(o.lastRow+o.gutterOffset,this.session.getLength()-1),f=this.oldLastRow;if(this.oldLastRow=l,!a||f<o.firstRow)return this.update(o);if(l<a.firstRow)return this.update(o);if(a.firstRow<o.firstRow)for(var u=this.session.getFoldedRowCount(a.firstRow,o.firstRow-1);u>0;u--)this.$lines.shift();if(f>l)for(var u=this.session.getFoldedRowCount(l+1,f);u>0;u--)this.$lines.pop();o.firstRow<a.firstRow&&this.$lines.unshift(this.$renderLines(o,o.firstRow,a.firstRow-1)),l>f&&this.$lines.push(this.$renderLines(o,f+1,l)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(o)},n.prototype.$renderLines=function(o,a,l){for(var f=[],u=a,g=this.session.getNextFoldLine(u),y=g?g.start.row:1/0;u>y&&(u=g.end.row+1,g=this.session.getNextFoldLine(u,g),y=g?g.start.row:1/0),!(u>l);){var _=this.$lines.createCell(u,o,this.session,r);this.$renderCell(_,o,g,u),f.push(_),u++}return f},n.prototype.$renderCell=function(o,a,l,f){var u=o.element,g=this.session,y=u.childNodes[0],_=u.childNodes[1],p=u.childNodes[2],S=p.firstChild,b=g.$firstLineNumber,w=g.$breakpoints,R=g.$decorations,H=g.gutterRenderer||this.$renderer,k=this.$showFoldWidgets&&g.foldWidgets,E=l?l.start.row:Number.MAX_VALUE,A=a.lineHeight+"px",C=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",$=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",z=(H?H.getText(g,f):f+b).toString();if(this.$highlightGutterLine&&(f==this.$cursorRow||l&&f<this.$cursorRow&&f>=E&&this.$cursorRow<=l.end.row)&&(C+="ace_gutter-active-line ",this.$cursorCell!=o&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=o)),w[f]&&(C+=w[f]),R[f]&&(C+=R[f]),this.$annotations[f]&&f!==E&&(C+=this.$annotations[f].className),k){var F=k[f];F==null&&(F=k[f]=g.getFoldWidget(f))}if(F){var N="ace_fold-widget ace_"+F,B=F=="start"&&f==E&&f<l.end.row;if(B){N+=" ace_closed";for(var P="",V=!1,G=f+1;G<=l.end.row;G++)if(this.$annotations[G]){if(this.$annotations[G].className===" ace_error"){V=!0,P=" ace_error_fold";break}this.$annotations[G].className===" ace_security"?(V=!0,P=" ace_security_fold"):this.$annotations[G].className===" ace_warning"&&P!==" ace_security_fold"&&(V=!0,P=" ace_warning_fold")}C+=P}else N+=" ace_open";_.className!=N&&(_.className=N),D.setStyle(_.style,"height",A),D.setStyle(_.style,"display","inline-block"),_.setAttribute("role","button"),_.setAttribute("tabindex","-1");var Y=g.getFoldWidgetRange(f);Y?_.setAttribute("aria-label",s("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[Y.start.row+1,Y.end.row+1])):l?_.setAttribute("aria-label",s("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[l.start.row+1,l.end.row+1])):_.setAttribute("aria-label",s("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[f+1])),B?(_.setAttribute("aria-expanded","false"),_.setAttribute("title",s("gutter.code-folding.closed.title","Unfold code"))):(_.setAttribute("aria-expanded","true"),_.setAttribute("title",s("gutter.code-folding.open.title","Fold code")))}else _&&(D.setStyle(_.style,"display","none"),_.setAttribute("tabindex","0"),_.removeAttribute("role"),_.removeAttribute("aria-label"));if(V&&this.$showFoldedAnnotations){p.className="ace_gutter_annotation",S.className=$,S.className+=P,D.setStyle(S.style,"height",A),D.setStyle(p.style,"display","block"),D.setStyle(p.style,"height",A);var q;switch(P){case" ace_error_fold":q=s("gutter.annotation.aria-label.error","Error, read annotations row $0",[z]);break;case" ace_security_fold":q=s("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[z]);break;case" ace_warning_fold":q=s("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[z]);break}p.setAttribute("aria-label",q),p.setAttribute("tabindex","-1"),p.setAttribute("role","button")}else if(this.$annotations[f]){p.className="ace_gutter_annotation",S.className=$,this.$useSvgGutterIcons?S.className+=this.$annotations[f].className:u.classList.add(this.$annotations[f].className.replace(" ","")),D.setStyle(S.style,"height",A),D.setStyle(p.style,"display","block"),D.setStyle(p.style,"height",A);var q;switch(this.$annotations[f].className){case" ace_error":q=s("gutter.annotation.aria-label.error","Error, read annotations row $0",[z]);break;case" ace_security":q=s("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[z]);break;case" ace_warning":q=s("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[z]);break;case" ace_info":q=s("gutter.annotation.aria-label.info","Info, read annotations row $0",[z]);break;case" ace_hint":q=s("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[z]);break}p.setAttribute("aria-label",q),p.setAttribute("tabindex","-1"),p.setAttribute("role","button")}else D.setStyle(p.style,"display","none"),p.removeAttribute("aria-label"),p.removeAttribute("role"),p.setAttribute("tabindex","0");return z!==y.data&&(y.data=z),u.className!=C&&(u.className=C),D.setStyle(o.element.style,"height",this.$lines.computeLineHeight(f,a,g)+"px"),D.setStyle(o.element.style,"top",this.$lines.computeLineTop(f,a,g)+"px"),o.text=z,p.style.display==="none"&&_.style.display==="none"?o.element.setAttribute("aria-hidden",!0):o.element.setAttribute("aria-hidden",!1),o},n.prototype.setHighlightGutterLine=function(o){this.$highlightGutterLine=o},n.prototype.setShowLineNumbers=function(o){this.$renderer=!o&&{getWidth:function(){return 0},getText:function(){return""}}},n.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},n.prototype.setShowFoldWidgets=function(o){o?D.addCssClass(this.element,"ace_folding-enabled"):D.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=o,this.$padding=null},n.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},n.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var o=D.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(o.borderLeftWidth)||0)+(parseInt(o.paddingLeft)||0)+1,this.$padding.right=(parseInt(o.borderRightWidth)||0)+(parseInt(o.paddingRight)||0),this.$padding},n.prototype.getRegion=function(o){var a=this.$padding||this.$computePadding(),l=this.element.getBoundingClientRect();if(o.x<a.left+l.left)return"markers";if(this.$showFoldWidgets&&o.x>l.right-a.right)return"foldWidgets"},n}();i.prototype.$fixedWidth=!1,i.prototype.$highlightGutterLine=!0,i.prototype.$renderer="",i.prototype.$showLineNumbers=!0,i.prototype.$showFoldWidgets=!0,x.implement(i.prototype,h);function r(n){var o=document.createTextNode("");n.appendChild(o);var a=D.createElement("span");n.appendChild(a);var l=D.createElement("span");n.appendChild(l);var f=D.createElement("span");return l.appendChild(f),n}M.Gutter=i}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(L,M,K){var D=L("../range").Range,x=L("../lib/dom"),v=function(){function d(s){this.element=x.createElement("div"),this.element.className="ace_layer ace_marker-layer",s.appendChild(this.element)}return d.prototype.setPadding=function(s){this.$padding=s},d.prototype.setSession=function(s){this.session=s},d.prototype.setMarkers=function(s){this.markers=s},d.prototype.elt=function(s,i){var r=this.i!=-1&&this.element.childNodes[this.i];r?this.i++:(r=document.createElement("div"),this.element.appendChild(r),this.i=-1),r.style.cssText=i,r.className=s},d.prototype.update=function(s){if(s){this.config=s,this.i=0;var i;for(var r in this.markers){var n=this.markers[r];if(!n.range){n.update(i,this,this.session,s);continue}var o=n.range.clipRows(s.firstRow,s.lastRow);if(!o.isEmpty())if(o=o.toScreenRange(this.session),n.renderer){var a=this.$getTop(o.start.row,s),l=this.$padding+o.start.column*s.characterWidth;n.renderer(i,o,l,a,s)}else n.type=="fullLine"?this.drawFullLineMarker(i,o,n.clazz,s):n.type=="screenLine"?this.drawScreenLineMarker(i,o,n.clazz,s):o.isMultiLine()?n.type=="text"?this.drawTextMarker(i,o,n.clazz,s):this.drawMultiLineMarker(i,o,n.clazz,s):this.drawSingleLineMarker(i,o,n.clazz+" ace_start ace_br15",s)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},d.prototype.$getTop=function(s,i){return(s-i.firstRowScreen)*i.lineHeight},d.prototype.drawTextMarker=function(s,i,r,n,o){for(var a=this.session,l=i.start.row,f=i.end.row,u=l,g=0,y=0,_=a.getScreenLastRowColumn(u),p=new D(u,i.start.column,u,y);u<=f;u++)p.start.row=p.end.row=u,p.start.column=u==l?i.start.column:a.getRowWrapIndent(u),p.end.column=_,g=y,y=_,_=u+1<f?a.getScreenLastRowColumn(u+1):u==f?0:i.end.column,this.drawSingleLineMarker(s,p,r+(u==l?" ace_start":"")+" ace_br"+h(u==l||u==l+1&&i.start.column,g<y,y>_,u==f),n,u==f?0:1,o)},d.prototype.drawMultiLineMarker=function(s,i,r,n,o){var a=this.$padding,l=n.lineHeight,f=this.$getTop(i.start.row,n),u=a+i.start.column*n.characterWidth;if(o=o||"",this.session.$bidiHandler.isBidiRow(i.start.row)){var g=i.clone();g.end.row=g.start.row,g.end.column=this.session.getLine(g.start.row).length,this.drawBidiSingleLineMarker(s,g,r+" ace_br1 ace_start",n,null,o)}else this.elt(r+" ace_br1 ace_start","height:"+l+"px;right:"+a+"px;top:"+f+"px;left:"+u+"px;"+(o||""));if(this.session.$bidiHandler.isBidiRow(i.end.row)){var g=i.clone();g.start.row=g.end.row,g.start.column=0,this.drawBidiSingleLineMarker(s,g,r+" ace_br12",n,null,o)}else{f=this.$getTop(i.end.row,n);var y=i.end.column*n.characterWidth;this.elt(r+" ace_br12","height:"+l+"px;width:"+y+"px;top:"+f+"px;left:"+a+"px;"+(o||""))}if(l=(i.end.row-i.start.row-1)*n.lineHeight,!(l<=0)){f=this.$getTop(i.start.row+1,n);var _=(i.start.column?1:0)|(i.end.column?0:8);this.elt(r+(_?" ace_br"+_:""),"height:"+l+"px;right:"+a+"px;top:"+f+"px;left:"+a+"px;"+(o||""))}},d.prototype.drawSingleLineMarker=function(s,i,r,n,o,a){if(this.session.$bidiHandler.isBidiRow(i.start.row))return this.drawBidiSingleLineMarker(s,i,r,n,o,a);var l=n.lineHeight,f=(i.end.column+(o||0)-i.start.column)*n.characterWidth,u=this.$getTop(i.start.row,n),g=this.$padding+i.start.column*n.characterWidth;this.elt(r,"height:"+l+"px;width:"+f+"px;top:"+u+"px;left:"+g+"px;"+(a||""))},d.prototype.drawBidiSingleLineMarker=function(s,i,r,n,o,a){var l=n.lineHeight,f=this.$getTop(i.start.row,n),u=this.$padding,g=this.session.$bidiHandler.getSelections(i.start.column,i.end.column);g.forEach(function(y){this.elt(r,"height:"+l+"px;width:"+(y.width+(o||0))+"px;top:"+f+"px;left:"+(u+y.left)+"px;"+(a||""))},this)},d.prototype.drawFullLineMarker=function(s,i,r,n,o){var a=this.$getTop(i.start.row,n),l=n.lineHeight;i.start.row!=i.end.row&&(l+=this.$getTop(i.end.row,n)-a),this.elt(r,"height:"+l+"px;top:"+a+"px;left:0;right:0;"+(o||""))},d.prototype.drawScreenLineMarker=function(s,i,r,n,o){var a=this.$getTop(i.start.row,n),l=n.lineHeight;this.elt(r,"height:"+l+"px;top:"+a+"px;left:0;right:0;"+(o||""))},d}();v.prototype.$padding=0;function h(d,s,i,r){return(d?1:0)|(s?2:0)|(i?4:0)|(r?8:0)}M.Marker=v}),ace.define("ace/layer/text_util",["require","exports","module"],function(L,M,K){var D=new Set(["text","rparen","lparen"]);M.isTextToken=function(x){return D.has(x)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(L,M,K){var D=L("../lib/oop"),x=L("../lib/dom"),v=L("../lib/lang"),h=L("./lines").Lines,d=L("../lib/event_emitter").EventEmitter,s=L("../config").nls,i=L("./text_util").isTextToken,r=function(){function n(o){this.dom=x,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",o.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new h(this.element)}return n.prototype.$updateEolChar=function(){var o=this.session.doc,a=o.getNewLineCharacter()==`
`&&o.getNewLineMode()!="windows",l=a?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=l)return this.EOL_CHAR=l,!0},n.prototype.setPadding=function(o){this.$padding=o,this.element.style.margin="0 "+o+"px"},n.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},n.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},n.prototype.$setFontMetrics=function(o){this.$fontMetrics=o,this.$fontMetrics.on("changeCharacterSize",(function(a){this._signal("changeCharacterSize",a)}).bind(this)),this.$pollSizeChanges()},n.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},n.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},n.prototype.setSession=function(o){this.session=o,o&&this.$computeTabString()},n.prototype.setShowInvisibles=function(o){return this.showInvisibles==o?!1:(this.showInvisibles=o,typeof o=="string"?(this.showSpaces=/tab/i.test(o),this.showTabs=/space/i.test(o),this.showEOL=/eol/i.test(o)):this.showSpaces=this.showTabs=this.showEOL=o,this.$computeTabString(),!0)},n.prototype.setDisplayIndentGuides=function(o){return this.displayIndentGuides==o?!1:(this.displayIndentGuides=o,this.$computeTabString(),!0)},n.prototype.setHighlightIndentGuides=function(o){return this.$highlightIndentGuides===o?!1:(this.$highlightIndentGuides=o,o)},n.prototype.$computeTabString=function(){var o=this.session.getTabSize();this.tabSize=o;for(var a=this.$tabStrings=[0],l=1;l<o+1;l++)if(this.showTabs){var f=this.dom.createElement("span");f.className="ace_invisible ace_invisible_tab",f.textContent=v.stringRepeat(this.TAB_CHAR,l),a.push(f)}else a.push(this.dom.createTextNode(v.stringRepeat(" ",l),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var u="ace_indent-guide",g=this.showSpaces?" ace_invisible ace_invisible_space":"",y=this.showSpaces?v.stringRepeat(this.SPACE_CHAR,this.tabSize):v.stringRepeat(" ",this.tabSize),_=this.showTabs?" ace_invisible ace_invisible_tab":"",p=this.showTabs?v.stringRepeat(this.TAB_CHAR,this.tabSize):y,f=this.dom.createElement("span");f.className=u+g,f.textContent=y,this.$tabStrings[" "]=f;var f=this.dom.createElement("span");f.className=u+_,f.textContent=p,this.$tabStrings["	"]=f}},n.prototype.updateLines=function(o,a,l){if(this.config.lastRow!=o.lastRow||this.config.firstRow!=o.firstRow)return this.update(o);this.config=o;for(var f=Math.max(a,o.firstRow),u=Math.min(l,o.lastRow),g=this.element.childNodes,y=0,p=o.firstRow;p<f;p++){var S=this.session.getFoldLine(p);if(S)if(S.containsRow(f)){f=S.start.row;break}else p=S.end.row;y++}for(var _=!1,p=f,S=this.session.getNextFoldLine(p),b=S?S.start.row:1/0;p>b&&(p=S.end.row+1,S=this.session.getNextFoldLine(p,S),b=S?S.start.row:1/0),!(p>u);){var w=g[y++];if(w){this.dom.removeChildren(w),this.$renderLine(w,p,p==b?S:!1),_&&(w.style.top=this.$lines.computeLineTop(p,o,this.session)+"px");var R=o.lineHeight*this.session.getRowLength(p)+"px";w.style.height!=R&&(_=!0,w.style.height=R)}p++}if(_)for(;y<this.$lines.cells.length;){var H=this.$lines.cells[y++];H.element.style.top=this.$lines.computeLineTop(H.row,o,this.session)+"px"}},n.prototype.scrollLines=function(o){var a=this.config;if(this.config=o,this.$lines.pageChanged(a,o))return this.update(o);this.$lines.moveContainer(o);var l=o.lastRow,f=a?a.lastRow:-1;if(!a||f<o.firstRow)return this.update(o);if(l<a.firstRow)return this.update(o);if(!a||a.lastRow<o.firstRow)return this.update(o);if(o.lastRow<a.firstRow)return this.update(o);if(a.firstRow<o.firstRow)for(var u=this.session.getFoldedRowCount(a.firstRow,o.firstRow-1);u>0;u--)this.$lines.shift();if(a.lastRow>o.lastRow)for(var u=this.session.getFoldedRowCount(o.lastRow+1,a.lastRow);u>0;u--)this.$lines.pop();o.firstRow<a.firstRow&&this.$lines.unshift(this.$renderLinesFragment(o,o.firstRow,a.firstRow-1)),o.lastRow>a.lastRow&&this.$lines.push(this.$renderLinesFragment(o,a.lastRow+1,o.lastRow)),this.$highlightIndentGuide()},n.prototype.$renderLinesFragment=function(o,a,l){for(var f=[],u=a,g=this.session.getNextFoldLine(u),y=g?g.start.row:1/0;u>y&&(u=g.end.row+1,g=this.session.getNextFoldLine(u,g),y=g?g.start.row:1/0),!(u>l);){var _=this.$lines.createCell(u,o,this.session),p=_.element;this.dom.removeChildren(p),x.setStyle(p.style,"height",this.$lines.computeLineHeight(u,o,this.session)+"px"),x.setStyle(p.style,"top",this.$lines.computeLineTop(u,o,this.session)+"px"),this.$renderLine(p,u,u==y?g:!1),this.$useLineGroups()?p.className="ace_line_group":p.className="ace_line",f.push(_),u++}return f},n.prototype.update=function(o){this.$lines.moveContainer(o),this.config=o;for(var a=o.firstRow,l=o.lastRow,f=this.$lines;f.getLength();)f.pop();f.push(this.$renderLinesFragment(o,a,l))},n.prototype.$renderToken=function(o,a,l,f){for(var u=this,g=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,y=this.dom.createFragment(this.element),_,p=0;_=g.exec(f);){var S=_[1],b=_[2],w=_[3],R=_[4],H=_[5];if(!(!u.showSpaces&&b)){var k=p!=_.index?f.slice(p,_.index):"";if(p=_.index+_[0].length,k&&y.appendChild(this.dom.createTextNode(k,this.element)),S){var E=u.session.getScreenTabSize(a+_.index);y.appendChild(u.$tabStrings[E].cloneNode(!0)),a+=E-1}else if(b)if(u.showSpaces){var A=this.dom.createElement("span");A.className="ace_invisible ace_invisible_space",A.textContent=v.stringRepeat(u.SPACE_CHAR,b.length),y.appendChild(A)}else y.appendChild(this.dom.createTextNode(b,this.element));else if(w){var A=this.dom.createElement("span");A.className="ace_invisible ace_invisible_space ace_invalid",A.textContent=v.stringRepeat(u.SPACE_CHAR,w.length),y.appendChild(A)}else if(R){a+=1;var A=this.dom.createElement("span");A.style.width=u.config.characterWidth*2+"px",A.className=u.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",A.textContent=u.showSpaces?u.SPACE_CHAR:R,y.appendChild(A)}else if(H){a+=1;var A=this.dom.createElement("span");A.style.width=u.config.characterWidth*2+"px",A.className="ace_cjk",A.textContent=H,y.appendChild(A)}}}if(y.appendChild(this.dom.createTextNode(p?f.slice(p):f,this.element)),i(l.type))o.appendChild(y);else{var C="ace_"+l.type.replace(/\./g," ace_"),A=this.dom.createElement("span");l.type=="fold"&&(A.style.width=l.value.length*this.config.characterWidth+"px",A.setAttribute("title",s("inline-fold.closed.title","Unfold code"))),A.className=C,A.appendChild(y),o.appendChild(A)}return a+f.length},n.prototype.renderIndentGuide=function(o,a,l){var f=a.search(this.$indentGuideRe);if(f<=0||f>=l)return a;if(a[0]==" "){f-=f%this.tabSize;for(var u=f/this.tabSize,g=0;g<u;g++)o.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),a.substr(f)}else if(a[0]=="	"){for(var g=0;g<f;g++)o.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),a.substr(f)}return this.$highlightIndentGuide(),a},n.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var o=this.session.doc.$lines;if(o){var a=this.session.selection.getCursor(),l=/^\s*/.exec(this.session.doc.getLine(a.row))[0].length,f=Math.floor(l/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:f,start:a.row};var u=this.session.$bracketHighlight;if(u){for(var g=this.session.$bracketHighlight.ranges,y=0;y<g.length;y++)if(a.row!==g[y].start.row){this.$highlightIndentGuideMarker.end=g[y].start.row+1,a.row>g[y].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&o[a.row]!==""&&a.column===o[a.row].length){this.$highlightIndentGuideMarker.dir=1;for(var y=a.row+1;y<o.length;y++){var _=o[y],p=/^\s*/.exec(_)[0].length;if(_!==""&&(this.$highlightIndentGuideMarker.end=y,p<=l))break}}this.$renderHighlightIndentGuide()}}},n.prototype.$clearActiveIndentGuide=function(){for(var o=this.element.querySelectorAll(".ace_indent-guide-active"),a=0;a<o.length;a++)o[a].classList.remove("ace_indent-guide-active")},n.prototype.$setIndentGuideActive=function(o,a){var l=this.session.doc.getLine(o.row);if(l!==""){var f=o.element;if(o.element.classList&&o.element.classList.contains("ace_line_group"))if(o.element.childNodes.length>0)f=o.element.childNodes[0];else return;var u=f.childNodes;if(u){var g=u[a-1];g&&g.classList&&g.classList.contains("ace_indent-guide")&&g.classList.add("ace_indent-guide-active")}}},n.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var o=this.$lines.cells;this.$clearActiveIndentGuide();var a=this.$highlightIndentGuideMarker.indentLevel;if(a!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var l=0;l<o.length;l++){var f=o[l];if(this.$highlightIndentGuideMarker.end&&f.row>=this.$highlightIndentGuideMarker.start+1){if(f.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(f,a)}}else for(var l=o.length-1;l>=0;l--){var f=o[l];if(this.$highlightIndentGuideMarker.end&&f.row<this.$highlightIndentGuideMarker.start){if(f.row<this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(f,a)}}}},n.prototype.$createLineElement=function(o){var a=this.dom.createElement("div");return a.className="ace_line",a.style.height=this.config.lineHeight+"px",a},n.prototype.$renderWrappedLine=function(o,a,l){var f=0,u=0,g=l[0],y=0,_=this.$createLineElement();o.appendChild(_);for(var p=0;p<a.length;p++){var S=a[p],b=S.value;if(p==0&&this.displayIndentGuides){if(f=b.length,b=this.renderIndentGuide(_,b,g),!b)continue;f-=b.length}if(f+b.length<g)y=this.$renderToken(_,y,S,b),f+=b.length;else{for(;f+b.length>=g;)y=this.$renderToken(_,y,S,b.substring(0,g-f)),b=b.substring(g-f),f=g,_=this.$createLineElement(),o.appendChild(_),_.appendChild(this.dom.createTextNode(v.stringRepeat(" ",l.indent),this.element)),u++,y=0,g=l[u]||Number.MAX_VALUE;b.length!=0&&(f+=b.length,y=this.$renderToken(_,y,S,b))}}l[l.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(_,y,null,"",!0)},n.prototype.$renderSimpleLine=function(o,a){for(var l=0,f=0;f<a.length;f++){var u=a[f],g=u.value;if(!(f==0&&this.displayIndentGuides&&(g=this.renderIndentGuide(o,g),!g))){if(l+g.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(o,l,u,g);l=this.$renderToken(o,l,u,g)}}},n.prototype.$renderOverflowMessage=function(o,a,l,f,u){l&&this.$renderToken(o,a,l,f.slice(0,this.MAX_LINE_LENGTH-a));var g=this.dom.createElement("span");g.className="ace_inline_button ace_keyword ace_toggle_wrap",g.textContent=u?"<hide>":"<click to see more...>",o.appendChild(g)},n.prototype.$renderLine=function(o,a,l){if(!l&&l!=!1&&(l=this.session.getFoldLine(a)),l)var f=this.$getFoldLineTokens(a,l);else var f=this.session.getTokens(a);var u=o;if(f.length){var g=this.session.getRowSplitData(a);if(g&&g.length){this.$renderWrappedLine(o,f,g);var u=o.lastChild}else{var u=o;this.$useLineGroups()&&(u=this.$createLineElement(),o.appendChild(u)),this.$renderSimpleLine(u,f)}}else this.$useLineGroups()&&(u=this.$createLineElement(),o.appendChild(u));if(this.showEOL&&u){l&&(a=l.end.row);var y=this.dom.createElement("span");y.className="ace_invisible ace_invisible_eol",y.textContent=a==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,u.appendChild(y)}},n.prototype.$getFoldLineTokens=function(o,a){var l=this.session,f=[];function u(y,_,p){for(var S=0,b=0;b+y[S].value.length<_;)if(b+=y[S].value.length,S++,S==y.length)return;if(b!=_){var w=y[S].value.substring(_-b);w.length>p-_&&(w=w.substring(0,p-_)),f.push({type:y[S].type,value:w}),b=_+w.length,S+=1}for(;b<p&&S<y.length;){var w=y[S].value;w.length+b>p?f.push({type:y[S].type,value:w.substring(0,p-b)}):f.push(y[S]),b+=w.length,S+=1}}var g=l.getTokens(o);return a.walk(function(y,_,p,S,b){y!=null?f.push({type:"fold",value:y}):(b&&(g=l.getTokens(_)),g.length&&u(g,S,p))},a.end.row,this.session.getLine(a.end.row).length),f},n.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},n}();r.prototype.EOF_CHAR="¶",r.prototype.EOL_CHAR_LF="¬",r.prototype.EOL_CHAR_CRLF="¤",r.prototype.EOL_CHAR=r.prototype.EOL_CHAR_LF,r.prototype.TAB_CHAR="—",r.prototype.SPACE_CHAR="·",r.prototype.$padding=0,r.prototype.MAX_LINE_LENGTH=1e4,r.prototype.showInvisibles=!1,r.prototype.showSpaces=!1,r.prototype.showTabs=!1,r.prototype.showEOL=!1,r.prototype.displayIndentGuides=!0,r.prototype.$highlightIndentGuides=!0,r.prototype.$tabStrings=[],r.prototype.destroy={},r.prototype.onChangeTabSize=r.prototype.$computeTabString,D.implement(r.prototype,d),M.Text=r}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(L,M,K){var D=L("../lib/dom"),x=function(){function v(h){this.element=D.createElement("div"),this.element.className="ace_layer ace_cursor-layer",h.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),D.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return v.prototype.$updateOpacity=function(h){for(var d=this.cursors,s=d.length;s--;)D.setStyle(d[s].style,"opacity",h?"":"0")},v.prototype.$startCssAnimation=function(){for(var h=this.cursors,d=h.length;d--;)h[d].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&D.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},v.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,D.removeCssClass(this.element,"ace_animate-blinking")},v.prototype.setPadding=function(h){this.$padding=h},v.prototype.setSession=function(h){this.session=h},v.prototype.setBlinking=function(h){h!=this.isBlinking&&(this.isBlinking=h,this.restartTimer())},v.prototype.setBlinkInterval=function(h){h!=this.blinkInterval&&(this.blinkInterval=h,this.restartTimer())},v.prototype.setSmoothBlinking=function(h){h!=this.smoothBlinking&&(this.smoothBlinking=h,D.setCssClass(this.element,"ace_smooth-blinking",h),this.$updateCursors(!0),this.restartTimer())},v.prototype.addCursor=function(){var h=D.createElement("div");return h.className="ace_cursor",this.element.appendChild(h),this.cursors.push(h),h},v.prototype.removeCursor=function(){if(this.cursors.length>1){var h=this.cursors.pop();return h.parentNode.removeChild(h),h}},v.prototype.hideCursor=function(){this.isVisible=!1,D.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},v.prototype.showCursor=function(){this.isVisible=!0,D.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},v.prototype.restartTimer=function(){var h=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,D.removeCssClass(this.element,"ace_smooth-blinking")),h(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&D.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),D.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var d=(function(){this.timeoutId=setTimeout(function(){h(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){h(!0),d()},this.blinkInterval),d()}},v.prototype.getPixelPosition=function(h,d){if(!this.config||!this.session)return{left:0,top:0};h||(h=this.session.selection.getCursor());var s=this.session.documentToScreenPosition(h),i=this.$padding+(this.session.$bidiHandler.isBidiRow(s.row,h.row)?this.session.$bidiHandler.getPosLeft(s.column):s.column*this.config.characterWidth),r=(s.row-(d?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:i,top:r}},v.prototype.isCursorInView=function(h,d){return h.top>=0&&h.top<d.maxHeight},v.prototype.update=function(h){this.config=h;var d=this.session.$selectionMarkers,s=0,i=0;(d===void 0||d.length===0)&&(d=[{cursor:null}]);for(var s=0,r=d.length;s<r;s++){var n=this.getPixelPosition(d[s].cursor,!0);if(!((n.top>h.height+h.offset||n.top<0)&&s>1)){var o=this.cursors[i++]||this.addCursor(),a=o.style;this.drawCursor?this.drawCursor(o,n,h,d[s],this.session):this.isCursorInView(n,h)?(D.setStyle(a,"display","block"),D.translate(o,n.left,n.top),D.setStyle(a,"width",Math.round(h.characterWidth)+"px"),D.setStyle(a,"height",h.lineHeight+"px")):D.setStyle(a,"display","none")}}for(;this.cursors.length>i;)this.removeCursor();var l=this.session.getOverwrite();this.$setOverwrite(l),this.$pixelPos=n,this.restartTimer()},v.prototype.$setOverwrite=function(h){h!=this.overwrite&&(this.overwrite=h,h?D.addCssClass(this.element,"ace_overwrite-cursors"):D.removeCssClass(this.element,"ace_overwrite-cursors"))},v.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},v}();x.prototype.$padding=0,x.prototype.drawCursor=null,M.Cursor=x}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(L,M,K){var D=this&&this.__extends||function(){var o=function(a,l){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(f[g]=u[g])},o(a,l)};return function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");o(a,l);function f(){this.constructor=a}a.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}}(),x=L("./lib/oop"),v=L("./lib/dom"),h=L("./lib/event"),d=L("./lib/event_emitter").EventEmitter,s=32768,i=function(){function o(a,l){this.element=v.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+l,this.inner=v.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent=" ",this.element.appendChild(this.inner),a.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,h.addListener(this.element,"scroll",this.onScroll.bind(this)),h.addListener(this.element,"mousedown",h.preventDefault)}return o.prototype.setVisible=function(a){this.element.style.display=a?"":"none",this.isVisible=a,this.coeff=1},o}();x.implement(i.prototype,d);var r=function(o){D(a,o);function a(l,f){var u=o.call(this,l,"-v")||this;return u.scrollTop=0,u.scrollHeight=0,f.$scrollbarWidth=u.width=v.scrollbarWidth(l.ownerDocument),u.inner.style.width=u.element.style.width=(u.width||15)+5+"px",u.$minWidth=0,u}return a.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var l=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-l)/(this.coeff-l)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},a.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},a.prototype.setHeight=function(l){this.element.style.height=l+"px"},a.prototype.setScrollHeight=function(l){this.scrollHeight=l,l>s?(this.coeff=s/l,l=s):this.coeff!=1&&(this.coeff=1),this.inner.style.height=l+"px"},a.prototype.setScrollTop=function(l){this.scrollTop!=l&&(this.skipEvent=!0,this.scrollTop=l,this.element.scrollTop=l*this.coeff)},a}(i);r.prototype.setInnerHeight=r.prototype.setScrollHeight;var n=function(o){D(a,o);function a(l,f){var u=o.call(this,l,"-h")||this;return u.scrollLeft=0,u.height=f.$scrollbarWidth,u.inner.style.height=u.element.style.height=(u.height||15)+5+"px",u}return a.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},a.prototype.getHeight=function(){return this.isVisible?this.height:0},a.prototype.setWidth=function(l){this.element.style.width=l+"px"},a.prototype.setInnerWidth=function(l){this.inner.style.width=l+"px"},a.prototype.setScrollWidth=function(l){this.inner.style.width=l+"px"},a.prototype.setScrollLeft=function(l){this.scrollLeft!=l&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=l)},a}(i);M.ScrollBar=r,M.ScrollBarV=r,M.ScrollBarH=n,M.VScrollBar=r,M.HScrollBar=n}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(L,M,K){var D=this&&this.__extends||function(){var n=function(o,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var u in f)Object.prototype.hasOwnProperty.call(f,u)&&(l[u]=f[u])},n(o,a)};return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");n(o,a);function l(){this.constructor=o}o.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),x=L("./lib/oop"),v=L("./lib/dom"),h=L("./lib/event"),d=L("./lib/event_emitter").EventEmitter;v.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var s=function(){function n(o,a){this.element=v.createElement("div"),this.element.className="ace_sb"+a,this.inner=v.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,o.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,h.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return n.prototype.setVisible=function(o){this.element.style.display=o?"":"none",this.isVisible=o,this.coeff=1},n}();x.implement(s.prototype,d);var i=function(n){D(o,n);function o(a,l){var f=n.call(this,a,"-v")||this;return f.scrollTop=0,f.scrollHeight=0,f.parent=a,f.width=f.VScrollWidth,f.renderer=l,f.inner.style.width=f.element.style.width=(f.width||15)+"px",f.$minWidth=0,f}return o.prototype.onMouseDown=function(a,l){if(a==="mousedown"&&!(h.getButton(l)!==0||l.detail===2)){if(l.target===this.inner){var f=this,u=l.clientY,g=function(R){u=R.clientY},y=function(){clearInterval(b)},_=l.clientY,p=this.thumbTop,S=function(){if(u!==void 0){var R=f.scrollTopFromThumbTop(p+u-_);R!==f.scrollTop&&f._emit("scroll",{data:R})}};h.capture(this.inner,g,y);var b=setInterval(S,20);return h.preventDefault(l)}var w=l.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(w)}),h.preventDefault(l)}},o.prototype.getHeight=function(){return this.height},o.prototype.scrollTopFromThumbTop=function(a){var l=a*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return l=l>>0,l<0?l=0:l>this.pageHeight-this.viewHeight&&(l=this.pageHeight-this.viewHeight),l},o.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},o.prototype.setHeight=function(a){this.height=Math.max(0,a),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},o.prototype.setScrollHeight=function(a,l){this.pageHeight===a&&!l||(this.pageHeight=a,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},o.prototype.setScrollTop=function(a){this.scrollTop=a,a<0&&(a=0),this.thumbTop=a*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},o}(s);i.prototype.setInnerHeight=i.prototype.setScrollHeight;var r=function(n){D(o,n);function o(a,l){var f=n.call(this,a,"-h")||this;return f.scrollLeft=0,f.scrollWidth=0,f.height=f.HScrollHeight,f.inner.style.height=f.element.style.height=(f.height||12)+"px",f.renderer=l,f}return o.prototype.onMouseDown=function(a,l){if(a==="mousedown"&&!(h.getButton(l)!==0||l.detail===2)){if(l.target===this.inner){var f=this,u=l.clientX,g=function(R){u=R.clientX},y=function(){clearInterval(b)},_=l.clientX,p=this.thumbLeft,S=function(){if(u!==void 0){var R=f.scrollLeftFromThumbLeft(p+u-_);R!==f.scrollLeft&&f._emit("scroll",{data:R})}};h.capture(this.inner,g,y);var b=setInterval(S,20);return h.preventDefault(l)}var w=l.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(w)}),h.preventDefault(l)}},o.prototype.getHeight=function(){return this.isVisible?this.height:0},o.prototype.scrollLeftFromThumbLeft=function(a){var l=a*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return l=l>>0,l<0?l=0:l>this.pageWidth-this.viewWidth&&(l=this.pageWidth-this.viewWidth),l},o.prototype.setWidth=function(a){this.width=Math.max(0,a),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},o.prototype.setScrollWidth=function(a,l){this.pageWidth===a&&!l||(this.pageWidth=a,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},o.prototype.setScrollLeft=function(a){this.scrollLeft=a,a<0&&(a=0),this.thumbLeft=a*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},o}(s);r.prototype.setInnerWidth=r.prototype.setScrollWidth,M.ScrollBar=i,M.ScrollBarV=i,M.ScrollBarH=r,M.VScrollBar=i,M.HScrollBar=r}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(L,M,K){var D=L("./lib/event"),x=function(){function v(h,d){this.onRender=h,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=d||window;var s=this;this._flush=function(i){s.pending=!1;var r=s.changes;if(r&&(D.blockIdle(100),s.changes=0,s.onRender(r)),s.changes){if(s.$recursionLimit--<0)return;s.schedule()}else s.$recursionLimit=2}}return v.prototype.schedule=function(h){this.changes=this.changes|h,this.changes&&!this.pending&&(D.nextFrame(this._flush),this.pending=!0)},v.prototype.clear=function(h){var d=this.changes;return this.changes=0,d},v}();M.RenderLoop=x}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(L,M,K){var D=L("../lib/oop"),x=L("../lib/dom"),v=L("../lib/lang"),h=L("../lib/event"),d=L("../lib/useragent"),s=L("../lib/event_emitter").EventEmitter,i=512,r=typeof ResizeObserver=="function",n=200,o=function(){function a(l){this.el=x.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=x.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=x.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),l.appendChild(this.el),this.$measureNode.textContent=v.stringRepeat("X",i),this.$characterSize={width:0,height:0},r?this.$addObserver():this.checkForSizeChanges()}return a.prototype.$setMeasureNodeStyles=function(l,f){l.width=l.height="auto",l.left=l.top="0px",l.visibility="hidden",l.position="absolute",l.whiteSpace="pre",d.isIE<8?l["font-family"]="inherit":l.font="inherit",l.overflow=f?"hidden":"visible"},a.prototype.checkForSizeChanges=function(l){if(l===void 0&&(l=this.$measureSizes()),l&&(this.$characterSize.width!==l.width||this.$characterSize.height!==l.height)){this.$measureNode.style.fontWeight="bold";var f=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=l,this.charSizes=Object.create(null),this.allowBoldFonts=f&&f.width===l.width&&f.height===l.height,this._emit("changeCharacterSize",{data:l})}},a.prototype.$addObserver=function(){var l=this;this.$observer=new window.ResizeObserver(function(f){l.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},a.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var l=this;return this.$pollSizeChangesTimer=h.onIdle(function f(){l.checkForSizeChanges(),h.onIdle(f,500)},500)},a.prototype.setPolling=function(l){l?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},a.prototype.$measureSizes=function(l){var f={height:(l||this.$measureNode).clientHeight,width:(l||this.$measureNode).clientWidth/i};return f.width===0||f.height===0?null:f},a.prototype.$measureCharWidth=function(l){this.$main.textContent=v.stringRepeat(l,i);var f=this.$main.getBoundingClientRect();return f.width/i},a.prototype.getCharacterWidth=function(l){var f=this.charSizes[l];return f===void 0&&(f=this.charSizes[l]=this.$measureCharWidth(l)/this.$characterSize.width),f},a.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},a.prototype.$getZoom=function(l){return!l||!l.parentElement?1:(Number(window.getComputedStyle(l).zoom)||1)*this.$getZoom(l.parentElement)},a.prototype.$initTransformMeasureNodes=function(){var l=function(f,u){return["div",{style:"position: absolute;top:"+f+"px;left:"+u+"px;"}]};this.els=x.buildDom([l(0,0),l(n,0),l(0,n),l(n,n)],this.el)},a.prototype.transformCoordinates=function(l,f){if(l){var u=this.$getZoom(this.el);l=p(1/u,l)}function g(B,P,V){var G=B[1]*P[0]-B[0]*P[1];return[(-P[1]*V[0]+P[0]*V[1])/G,(+B[1]*V[0]-B[0]*V[1])/G]}function y(B,P){return[B[0]-P[0],B[1]-P[1]]}function _(B,P){return[B[0]+P[0],B[1]+P[1]]}function p(B,P){return[B*P[0],B*P[1]]}this.els||this.$initTransformMeasureNodes();function S(B){var P=B.getBoundingClientRect();return[P.left,P.top]}var b=S(this.els[0]),w=S(this.els[1]),R=S(this.els[2]),H=S(this.els[3]),k=g(y(H,w),y(H,R),y(_(w,R),_(H,b))),E=p(1+k[0],y(w,b)),A=p(1+k[1],y(R,b));if(f){var C=f,$=k[0]*C[0]/n+k[1]*C[1]/n+1,z=_(p(C[0],E),p(C[1],A));return _(p(1/$/n,z),b)}var F=y(l,b),N=g(y(E,p(k[0],F)),y(A,p(k[1],F)),F);return p(n,N)},a}();o.prototype.$characterSize={width:0,height:0},D.implement(o.prototype,s),M.FontMetrics=o}),ace.define("ace/css/editor-css",["require","exports","module"],function(L,M,K){K.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}
.ace_invisible {
    font-variant-ligatures: none;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(33em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "↩";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(L,M,K){var D=L("../lib/dom"),x=L("../lib/oop"),v=L("../lib/event_emitter").EventEmitter,h=function(){function d(s,i){this.canvas=D.createElement("canvas"),this.renderer=i,this.pixelRatio=1,this.maxHeight=i.layerConfig.maxHeight,this.lineHeight=i.layerConfig.lineHeight,this.canvasHeight=s.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=s.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},s.element.appendChild(this.canvas)}return d.prototype.$updateDecorators=function(s){var i=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(s){this.maxHeight=s.maxHeight,this.lineHeight=s.lineHeight,this.canvasHeight=s.height;var r=(s.lastRow+1)*this.lineHeight;r<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var n=this.canvas.getContext("2d");function o(H,k){return H.priority<k.priority?-1:H.priority>k.priority?1:0}var a=this.renderer.session.$annotations;if(n.clearRect(0,0,this.canvas.width,this.canvas.height),a){var l={info:1,warning:2,error:3};a.forEach(function(H){H.priority=l[H.type]||null}),a=a.sort(o);for(var f=this.renderer.session.$foldData,u=0;u<a.length;u++){var g=a[u].row,y=this.compensateFoldRows(g,f),_=Math.round((g-y)*this.lineHeight*this.heightRatio),p=Math.round((g-y)*this.lineHeight*this.heightRatio),S=Math.round(((g-y)*this.lineHeight+this.lineHeight)*this.heightRatio),b=S-p;if(b<this.minDecorationHeight){var w=(p+S)/2|0;w<this.halfMinDecorationHeight?w=this.halfMinDecorationHeight:w+this.halfMinDecorationHeight>this.canvasHeight&&(w=this.canvasHeight-this.halfMinDecorationHeight),p=Math.round(w-this.halfMinDecorationHeight),S=Math.round(w+this.halfMinDecorationHeight)}n.fillStyle=i[a[u].type]||null,n.fillRect(0,_,this.canvasWidth,S-p)}}var R=this.renderer.session.selection.getCursor();if(R){var y=this.compensateFoldRows(R.row,f),_=Math.round((R.row-y)*this.lineHeight*this.heightRatio);n.fillStyle="rgba(0, 0, 0, 0.5)",n.fillRect(0,_,this.canvasWidth,2)}},d.prototype.compensateFoldRows=function(s,i){var r=0;if(i&&i.length>0)for(var n=0;n<i.length;n++)s>i[n].start.row&&s<i[n].end.row?r+=s-i[n].start.row:s>=i[n].end.row&&(r+=i[n].end.row-i[n].start.row);return r},d}();x.implement(h.prototype,v),M.Decorator=h}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(L,M,K){var D=L("./lib/oop"),x=L("./lib/dom"),v=L("./lib/lang"),h=L("./config"),d=L("./layer/gutter").Gutter,s=L("./layer/marker").Marker,i=L("./layer/text").Text,r=L("./layer/cursor").Cursor,n=L("./scrollbar").HScrollBar,o=L("./scrollbar").VScrollBar,a=L("./scrollbar_custom").HScrollBar,l=L("./scrollbar_custom").VScrollBar,f=L("./renderloop").RenderLoop,u=L("./layer/font_metrics").FontMetrics,g=L("./lib/event_emitter").EventEmitter,y=L("./css/editor-css"),_=L("./layer/decorators").Decorator,p=L("./lib/useragent"),S=L("./layer/text_util").isTextToken;x.importCssString(y,"ace_editor.css",!1);var b=function(){function w(R,H){var k=this;this.container=R||x.createElement("div"),x.addCssClass(this.container,"ace_editor"),x.HI_DPI&&x.addCssClass(this.container,"ace_hidpi"),this.setTheme(H),h.get("useStrictCSP")==null&&h.set("useStrictCSP",!1),this.$gutter=x.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=x.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=x.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new d(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new s(this.content);var E=this.$textLayer=new i(this.content);this.canvas=E.element,this.$markerFront=new s(this.content),this.$cursorLayer=new r(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new o(this.container,this),this.scrollBarH=new n(this.container,this),this.scrollBarV.on("scroll",function(A){k.$scrollAnimation||k.session.setScrollTop(A.data-k.scrollMargin.top)}),this.scrollBarH.on("scroll",function(A){k.$scrollAnimation||k.session.setScrollLeft(A.data-k.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new u(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(A){k.updateCharacterSize(),k.onResize(!0,k.gutterWidth,k.$size.width,k.$size.height),k._signal("changeCharacterSize",A)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!p.isIOS,this.$loop=new f(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),h.resetOptions(this),h._signal("renderer",this)}return w.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),x.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},w.prototype.setSession=function(R){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=R,R&&this.scrollMargin.top&&R.getScrollTop()<=0&&R.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(R),this.$markerBack.setSession(R),this.$markerFront.setSession(R),this.$gutterLayer.setSession(R),this.$textLayer.setSession(R),R&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},w.prototype.updateLines=function(R,H,k){if(H===void 0&&(H=1/0),this.$changedLines?(this.$changedLines.firstRow>R&&(this.$changedLines.firstRow=R),this.$changedLines.lastRow<H&&(this.$changedLines.lastRow=H)):this.$changedLines={firstRow:R,lastRow:H},this.$changedLines.lastRow<this.layerConfig.firstRow)if(k)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},w.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},w.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},w.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},w.prototype.updateFull=function(R){R?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},w.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},w.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},w.prototype.onResize=function(R,H,k,E){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=R?1:0;var A=this.container;E||(E=A.clientHeight||A.scrollHeight),!E&&this.$maxLines&&this.lineHeight>1&&(!A.style.height||A.style.height=="0px")&&(A.style.height="1px",E=A.clientHeight||A.scrollHeight),k||(k=A.clientWidth||A.scrollWidth);var C=this.$updateCachedSize(R,H,k,E);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!k&&!E)return this.resizing=0;R&&(this.$gutterLayer.$padding=null),R?this.$renderChanges(C|this.$changes,!0):this.$loop.schedule(C|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},w.prototype.$updateCachedSize=function(R,H,k,E){E-=this.$extraHeight||0;var A=0,C=this.$size,$={width:C.width,height:C.height,scrollerHeight:C.scrollerHeight,scrollerWidth:C.scrollerWidth};if(E&&(R||C.height!=E)&&(C.height=E,A|=this.CHANGE_SIZE,C.scrollerHeight=C.height,this.$horizScroll&&(C.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(C.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",A=A|this.CHANGE_SCROLL),k&&(R||C.width!=k)){A|=this.CHANGE_SIZE,C.width=k,H==null&&(H=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=H,x.setStyle(this.scrollBarH.element.style,"left",H+"px"),x.setStyle(this.scroller.style,"left",H+this.margin.left+"px"),C.scrollerWidth=Math.max(0,k-H-this.scrollBarV.getWidth()-this.margin.h),x.setStyle(this.$gutter.style,"left",this.margin.left+"px");var z=this.scrollBarV.getWidth()+"px";x.setStyle(this.scrollBarH.element.style,"right",z),x.setStyle(this.scroller.style,"right",z),x.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(C.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||R)&&(A|=this.CHANGE_FULL)}return C.$dirty=!k||!E,A&&this._signal("resize",$),A},w.prototype.onGutterResize=function(R){var H=this.$showGutter?R:0;H!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,H,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},w.prototype.adjustWrapLimit=function(){var R=this.$size.scrollerWidth-this.$padding*2,H=Math.floor(R/this.characterWidth);return this.session.adjustWrapLimit(H,this.$showPrintMargin&&this.$printMarginColumn)},w.prototype.setAnimatedScroll=function(R){this.setOption("animatedScroll",R)},w.prototype.getAnimatedScroll=function(){return this.$animatedScroll},w.prototype.setShowInvisibles=function(R){this.setOption("showInvisibles",R),this.session.$bidiHandler.setShowInvisibles(R)},w.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},w.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},w.prototype.setDisplayIndentGuides=function(R){this.setOption("displayIndentGuides",R)},w.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},w.prototype.setHighlightIndentGuides=function(R){this.setOption("highlightIndentGuides",R)},w.prototype.setShowPrintMargin=function(R){this.setOption("showPrintMargin",R)},w.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},w.prototype.setPrintMarginColumn=function(R){this.setOption("printMarginColumn",R)},w.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},w.prototype.getShowGutter=function(){return this.getOption("showGutter")},w.prototype.setShowGutter=function(R){return this.setOption("showGutter",R)},w.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},w.prototype.setFadeFoldWidgets=function(R){this.setOption("fadeFoldWidgets",R)},w.prototype.setHighlightGutterLine=function(R){this.setOption("highlightGutterLine",R)},w.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},w.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var R=x.createElement("div");R.className="ace_layer ace_print-margin-layer",this.$printMarginEl=x.createElement("div"),this.$printMarginEl.className="ace_print-margin",R.appendChild(this.$printMarginEl),this.content.insertBefore(R,this.content.firstChild)}var H=this.$printMarginEl.style;H.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",H.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},w.prototype.getContainerElement=function(){return this.container},w.prototype.getMouseEventTarget=function(){return this.scroller},w.prototype.getTextAreaContainer=function(){return this.container},w.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var R=this.textarea.style,H=this.$composition;if(!this.$keepTextAreaAtCursor&&!H){x.translate(this.textarea,-100,0);return}var k=this.$cursorLayer.$pixelPos;if(k){H&&H.markerRange&&(k=this.$cursorLayer.getPixelPosition(H.markerRange.start,!0));var E=this.layerConfig,A=k.top,C=k.left;A-=E.offset;var $=H&&H.useTextareaForIME||p.isMobile?this.lineHeight:1;if(A<0||A>E.height-$){x.translate(this.textarea,0,0);return}var z=1,F=this.$size.height-$;if(!H)A+=this.lineHeight;else if(H.useTextareaForIME){var N=this.textarea.value;z=this.characterWidth*this.session.$getStringScreenWidth(N)[0]}else A+=this.lineHeight+2;C-=this.scrollLeft,C>this.$size.scrollerWidth-z&&(C=this.$size.scrollerWidth-z),C+=this.gutterWidth+this.margin.left,x.setStyle(R,"height",$+"px"),x.setStyle(R,"width",z+"px"),x.translate(this.textarea,Math.min(C,this.$size.scrollerWidth-z),Math.min(A,F))}}},w.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},w.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},w.prototype.getLastFullyVisibleRow=function(){var R=this.layerConfig,H=R.lastRow,k=this.session.documentToScreenRow(H,0)*R.lineHeight;return k-this.session.getScrollTop()>R.height-R.lineHeight?H-1:H},w.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},w.prototype.setPadding=function(R){this.$padding=R,this.$textLayer.setPadding(R),this.$cursorLayer.setPadding(R),this.$markerFront.setPadding(R),this.$markerBack.setPadding(R),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},w.prototype.setScrollMargin=function(R,H,k,E){var A=this.scrollMargin;A.top=R|0,A.bottom=H|0,A.right=E|0,A.left=k|0,A.v=A.top+A.bottom,A.h=A.left+A.right,A.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-A.top),this.updateFull()},w.prototype.setMargin=function(R,H,k,E){var A=this.margin;A.top=R|0,A.bottom=H|0,A.right=E|0,A.left=k|0,A.v=A.top+A.bottom,A.h=A.left+A.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},w.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},w.prototype.setHScrollBarAlwaysVisible=function(R){this.setOption("hScrollBarAlwaysVisible",R)},w.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},w.prototype.setVScrollBarAlwaysVisible=function(R){this.setOption("vScrollBarAlwaysVisible",R)},w.prototype.$updateScrollBarV=function(){var R=this.layerConfig.maxHeight,H=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(R-=(H-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>R-H&&(R=this.scrollTop+H,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(R+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},w.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},w.prototype.freeze=function(){this.$frozen=!0},w.prototype.unfreeze=function(){this.$frozen=!1},w.prototype.$renderChanges=function(R,H){if(this.$changes&&(R|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!R&&!H){this.$changes|=R;return}if(this.$size.$dirty)return this.$changes|=R,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",R),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var k=this.layerConfig;if(R&this.CHANGE_FULL||R&this.CHANGE_SIZE||R&this.CHANGE_TEXT||R&this.CHANGE_LINES||R&this.CHANGE_SCROLL||R&this.CHANGE_H_SCROLL){if(R|=this.$computeLayerConfig()|this.$loop.clear(),k.firstRow!=this.layerConfig.firstRow&&k.firstRowScreen==this.layerConfig.firstRowScreen){var E=this.scrollTop+(k.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;E>0&&(this.scrollTop=E,R=R|this.CHANGE_SCROLL,R|=this.$computeLayerConfig()|this.$loop.clear())}k=this.layerConfig,this.$updateScrollBarV(),R&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),x.translate(this.content,-this.scrollLeft,-k.offset);var A=k.width+2*this.$padding+"px",C=k.minHeight+"px";x.setStyle(this.content.style,"width",A),x.setStyle(this.content.style,"height",C)}if(R&this.CHANGE_H_SCROLL&&(x.translate(this.content,-this.scrollLeft,-k.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),R&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(k),this.$showGutter&&this.$gutterLayer.update(k),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k),this.$markerBack.update(k),this.$markerFront.update(k),this.$cursorLayer.update(k),this.$moveTextAreaToCursor(),this._signal("afterRender",R);return}if(R&this.CHANGE_SCROLL){this.$changedLines=null,R&this.CHANGE_TEXT||R&this.CHANGE_LINES?this.$textLayer.update(k):this.$textLayer.scrollLines(k),this.$showGutter&&(R&this.CHANGE_GUTTER||R&this.CHANGE_LINES?this.$gutterLayer.update(k):this.$gutterLayer.scrollLines(k)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k),this.$markerBack.update(k),this.$markerFront.update(k),this.$cursorLayer.update(k),this.$moveTextAreaToCursor(),this._signal("afterRender",R);return}R&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(k),this.$showGutter&&this.$gutterLayer.update(k),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k)):R&this.CHANGE_LINES?((this.$updateLines()||R&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(k),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k)):R&this.CHANGE_TEXT||R&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(k),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k)):R&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(k),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(k)),R&this.CHANGE_CURSOR&&(this.$cursorLayer.update(k),this.$moveTextAreaToCursor()),R&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(k),R&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(k),this._signal("afterRender",R)},w.prototype.$autosize=function(){var R=this.session.getScreenLength()*this.lineHeight,H=this.$maxLines*this.lineHeight,k=Math.min(H,Math.max((this.$minLines||1)*this.lineHeight,R))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(k+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&k>this.$maxPixelHeight&&(k=this.$maxPixelHeight);var E=k<=2*this.lineHeight,A=!E&&R>H;if(k!=this.desiredHeight||this.$size.height!=this.desiredHeight||A!=this.$vScroll){A!=this.$vScroll&&(this.$vScroll=A,this.scrollBarV.setVisible(A));var C=this.container.clientWidth;this.container.style.height=k+"px",this.$updateCachedSize(!0,this.$gutterWidth,C,k),this.desiredHeight=k,this._signal("autosize")}},w.prototype.$computeLayerConfig=function(){var R=this.session,H=this.$size,k=H.height<=2*this.lineHeight,E=this.session.getScreenLength(),A=E*this.lineHeight,C=this.$getLongestLine(),$=!k&&(this.$hScrollBarAlwaysVisible||H.scrollerWidth-C-2*this.$padding<0),z=this.$horizScroll!==$;z&&(this.$horizScroll=$,this.scrollBarH.setVisible($));var F=this.$vScroll;this.$maxLines&&this.lineHeight>1&&(this.$autosize(),k=H.height<=2*this.lineHeight);var N=H.scrollerHeight+this.lineHeight,B=!this.$maxLines&&this.$scrollPastEnd?(H.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;A+=B;var P=this.scrollMargin;this.session.setScrollTop(Math.max(-P.top,Math.min(this.scrollTop,A-H.scrollerHeight+P.bottom))),this.session.setScrollLeft(Math.max(-P.left,Math.min(this.scrollLeft,C+2*this.$padding-H.scrollerWidth+P.right)));var V=!k&&(this.$vScrollBarAlwaysVisible||H.scrollerHeight-A+B<0||this.scrollTop>P.top),G=F!==V;G&&(this.$vScroll=V,this.scrollBarV.setVisible(V));var Y=this.scrollTop%this.lineHeight,q=Math.ceil(N/this.lineHeight)-1,Z=Math.max(0,Math.round((this.scrollTop-Y)/this.lineHeight)),Q=Z+q,U,ie,ee=this.lineHeight;Z=R.screenToDocumentRow(Z,0);var he=R.getFoldLine(Z);he&&(Z=he.start.row),U=R.documentToScreenRow(Z,0),ie=R.getRowLength(Z)*ee,Q=Math.min(R.screenToDocumentRow(Q,0),R.getLength()-1),N=H.scrollerHeight+R.getRowLength(Q)*ee+ie,Y=this.scrollTop-U*ee;var pe=0;return(this.layerConfig.width!=C||z)&&(pe=this.CHANGE_H_SCROLL),(z||G)&&(pe|=this.$updateCachedSize(!0,this.gutterWidth,H.width,H.height),this._signal("scrollbarVisibilityChanged"),G&&(C=this.$getLongestLine())),this.layerConfig={width:C,padding:this.$padding,firstRow:Z,firstRowScreen:U,lastRow:Q,lineHeight:ee,characterWidth:this.characterWidth,minHeight:N,maxHeight:A,offset:Y,gutterOffset:ee?Math.max(0,Math.ceil((Y+H.height-H.scrollerHeight)/ee)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(C-this.$padding),pe},w.prototype.$updateLines=function(){if(this.$changedLines){var R=this.$changedLines.firstRow,H=this.$changedLines.lastRow;this.$changedLines=null;var k=this.layerConfig;if(!(R>k.lastRow+1)&&!(H<k.firstRow)){if(H===1/0){this.$showGutter&&this.$gutterLayer.update(k),this.$textLayer.update(k);return}return this.$textLayer.updateLines(k,R,H),!0}}},w.prototype.$getLongestLine=function(){var R=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(R+=1),this.$textLayer&&R>this.$textLayer.MAX_LINE_LENGTH&&(R=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(R*this.characterWidth))},w.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},w.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},w.prototype.addGutterDecoration=function(R,H){this.$gutterLayer.addGutterDecoration(R,H)},w.prototype.removeGutterDecoration=function(R,H){this.$gutterLayer.removeGutterDecoration(R,H)},w.prototype.updateBreakpoints=function(R){this._rows=R,this.$loop.schedule(this.CHANGE_GUTTER)},w.prototype.setAnnotations=function(R){this.$gutterLayer.setAnnotations(R),this.$loop.schedule(this.CHANGE_GUTTER)},w.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},w.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},w.prototype.showCursor=function(){this.$cursorLayer.showCursor()},w.prototype.scrollSelectionIntoView=function(R,H,k){this.scrollCursorIntoView(R,k),this.scrollCursorIntoView(H,k)},w.prototype.scrollCursorIntoView=function(R,H,k){if(this.$size.scrollerHeight!==0){var E=this.$cursorLayer.getPixelPosition(R),A=E.left,C=E.top,$=k&&k.top||0,z=k&&k.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var F=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;F+$>C?(H&&F+$>C+this.lineHeight&&(C-=H*this.$size.scrollerHeight),C===0&&(C=-this.scrollMargin.top),this.session.setScrollTop(C)):F+this.$size.scrollerHeight-z<C+this.lineHeight&&(H&&F+this.$size.scrollerHeight-z<C-this.lineHeight&&(C+=H*this.$size.scrollerHeight),this.session.setScrollTop(C+this.lineHeight+z-this.$size.scrollerHeight));var N=this.scrollLeft,B=2*this.layerConfig.characterWidth;A-B<N?(A-=B,A<this.$padding+B&&(A=-this.scrollMargin.left),this.session.setScrollLeft(A)):(A+=B,N+this.$size.scrollerWidth<A+this.characterWidth?this.session.setScrollLeft(Math.round(A+this.characterWidth-this.$size.scrollerWidth)):N<=this.$padding&&A-N<this.characterWidth&&this.session.setScrollLeft(0))}},w.prototype.getScrollTop=function(){return this.session.getScrollTop()},w.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},w.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},w.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},w.prototype.scrollToRow=function(R){this.session.setScrollTop(R*this.lineHeight)},w.prototype.alignCursor=function(R,H){typeof R=="number"&&(R={row:R,column:0});var k=this.$cursorLayer.getPixelPosition(R),E=this.$size.scrollerHeight-this.lineHeight,A=k.top-E*(H||0);return this.session.setScrollTop(A),A},w.prototype.$calcSteps=function(R,H){var k=0,E=this.STEPS,A=[],C=function($,z,F){return F*(Math.pow($-1,3)+1)+z};for(k=0;k<E;++k)A.push(C(k/this.STEPS,R,H-R));return A},w.prototype.scrollToLine=function(R,H,k,E){var A=this.$cursorLayer.getPixelPosition({row:R,column:0}),C=A.top;H&&(C-=this.$size.scrollerHeight/2);var $=this.scrollTop;this.session.setScrollTop(C),k!==!1&&this.animateScrolling($,E)},w.prototype.animateScrolling=function(R,H){var k=this.scrollTop;if(!this.$animatedScroll)return;var E=this;if(R==k)return;if(this.$scrollAnimation){var A=this.$scrollAnimation.steps;if(A.length&&(R=A[0],R==k))return}var C=E.$calcSteps(R,k);this.$scrollAnimation={from:R,to:k,steps:C},clearInterval(this.$timer),E.session.setScrollTop(C.shift()),E.session.$scrollTop=k;function $(){E.$timer=clearInterval(E.$timer),E.$scrollAnimation=null,E.$stopAnimation=!1,H&&H()}this.$timer=setInterval(function(){if(E.$stopAnimation){$();return}if(!E.session)return clearInterval(E.$timer);C.length?(E.session.setScrollTop(C.shift()),E.session.$scrollTop=k):k!=null?(E.session.$scrollTop=-1,E.session.setScrollTop(k),k=null):$()},10)},w.prototype.scrollToY=function(R){this.scrollTop!==R&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=R)},w.prototype.scrollToX=function(R){this.scrollLeft!==R&&(this.scrollLeft=R),this.$loop.schedule(this.CHANGE_H_SCROLL)},w.prototype.scrollTo=function(R,H){this.session.setScrollTop(H),this.session.setScrollLeft(R)},w.prototype.scrollBy=function(R,H){H&&this.session.setScrollTop(this.session.getScrollTop()+H),R&&this.session.setScrollLeft(this.session.getScrollLeft()+R)},w.prototype.isScrollableBy=function(R,H){if(H<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||H>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||R<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||R>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},w.prototype.pixelToScreenCoordinates=function(R,H){var k;if(this.$hasCssTransforms){k={top:0,left:0};var E=this.$fontMetrics.transformCoordinates([R,H]);R=E[1]-this.gutterWidth-this.margin.left,H=E[0]}else k=this.scroller.getBoundingClientRect();var A=R+this.scrollLeft-k.left-this.$padding,C=A/this.characterWidth,$=Math.floor((H+this.scrollTop-k.top)/this.lineHeight),z=this.$blockCursor?Math.floor(C):Math.round(C);return{row:$,column:z,side:C-z>0?1:-1,offsetX:A}},w.prototype.screenToTextCoordinates=function(R,H){var k;if(this.$hasCssTransforms){k={top:0,left:0};var E=this.$fontMetrics.transformCoordinates([R,H]);R=E[1]-this.gutterWidth-this.margin.left,H=E[0]}else k=this.scroller.getBoundingClientRect();var A=R+this.scrollLeft-k.left-this.$padding,C=A/this.characterWidth,$=this.$blockCursor?Math.floor(C):Math.round(C),z=Math.floor((H+this.scrollTop-k.top)/this.lineHeight);return this.session.screenToDocumentPosition(z,Math.max($,0),A)},w.prototype.textToScreenCoordinates=function(R,H){var k=this.scroller.getBoundingClientRect(),E=this.session.documentToScreenPosition(R,H),A=this.$padding+(this.session.$bidiHandler.isBidiRow(E.row,R)?this.session.$bidiHandler.getPosLeft(E.column):Math.round(E.column*this.characterWidth)),C=E.row*this.lineHeight;return{pageX:k.left+A-this.scrollLeft,pageY:k.top+C-this.scrollTop}},w.prototype.visualizeFocus=function(){x.addCssClass(this.container,"ace_focus")},w.prototype.visualizeBlur=function(){x.removeCssClass(this.container,"ace_focus")},w.prototype.showComposition=function(R){this.$composition=R,R.cssText||(R.cssText=this.textarea.style.cssText),R.useTextareaForIME==null&&(R.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(x.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):R.markerId=this.session.addMarker(R.markerRange,"ace_composition_marker","text")},w.prototype.setCompositionText=function(R){var H=this.session.selection.cursor;this.addToken(R,"composition_placeholder",H.row,H.column),this.$moveTextAreaToCursor()},w.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),x.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var R=this.session.selection.cursor;this.removeExtraToken(R.row,R.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},w.prototype.setGhostText=function(R,H){var k=this.session.selection.cursor,E=H||{row:k.row,column:k.column};this.removeGhostText();var A=this.$calculateWrappedTextChunks(R,E);this.addToken(A[0].text,"ghost_text",E.row,E.column),this.$ghostText={text:R,position:{row:E.row,column:E.column}};var C=x.createElement("div");if(A.length>1){var $=this.hideTokensAfterPosition(E.row,E.column),z;A.slice(1).forEach(function(G){var Y=x.createElement("div"),q=x.createElement("span");q.className="ace_ghost_text",G.wrapped&&(Y.className="ghost_text_line_wrapped"),G.text.length===0&&(G.text=" "),q.appendChild(x.createTextNode(G.text)),Y.appendChild(q),C.appendChild(Y),z=Y}),$.forEach(function(G){var Y=x.createElement("span");S(G.type)||(Y.className="ace_"+G.type.replace(/\./g," ace_")),Y.appendChild(x.createTextNode(G.value)),z.appendChild(Y)}),this.$ghostTextWidget={el:C,row:E.row,column:E.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var F=this.$cursorLayer.getPixelPosition(E,!0),N=this.container,B=N.getBoundingClientRect().height,P=A.length*this.lineHeight,V=P<B-F.top;if(V)return;P<B?this.scrollBy(0,(A.length-1)*this.lineHeight):this.scrollToRow(E.row)}},w.prototype.$calculateWrappedTextChunks=function(R,H){var k=this.$size.scrollerWidth-this.$padding*2,E=Math.floor(k/this.characterWidth)-2;E=E<=0?60:E;for(var A=R.split(/\r?\n/),C=[],$=0;$<A.length;$++){var z=this.session.$getDisplayTokens(A[$],H.column),F=this.session.$computeWrapSplits(z,E,this.session.$tabSize);if(F.length>0){var N=0;F.push(A[$].length);for(var B=0;B<F.length;B++){var P=A[$].slice(N,F[B]);C.push({text:P,wrapped:!0}),N=F[B]}}else C.push({text:A[$],wrapped:!1})}return C},w.prototype.removeGhostText=function(){if(this.$ghostText){var R=this.$ghostText.position;this.removeExtraToken(R.row,R.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},w.prototype.addToken=function(R,H,k,E){var A=this.session;A.bgTokenizer.lines[k]=null;var C={type:H,value:R},$=A.getTokens(k);if(E==null||!$.length)$.push(C);else for(var z=0,F=0;F<$.length;F++){var N=$[F];if(z+=N.value.length,E<=z){var B=N.value.length-(z-E),P=N.value.slice(0,B),V=N.value.slice(B);$.splice(F,1,{type:N.type,value:P},C,{type:N.type,value:V});break}}this.updateLines(k,k)},w.prototype.hideTokensAfterPosition=function(R,H){for(var k=this.session.getTokens(R),E=0,A=!1,C=[],$=0;$<k.length;$++){var z=k[$];if(E+=z.value.length,z.type!=="ghost_text"){if(A){C.push({type:z.type,value:z.value}),z.type="hidden_token";continue}E===H&&(A=!0)}}return this.updateLines(R,R),C},w.prototype.removeExtraToken=function(R,H){this.session.bgTokenizer.lines[R]=null,this.updateLines(R,R)},w.prototype.setTheme=function(R,H){var k=this;if(this.$themeId=R,k._dispatchEvent("themeChange",{theme:R}),!R||typeof R=="string"){var E=R||this.$options.theme.initialValue;h.loadModule(["theme",E],A)}else A(R);function A(C){if(k.$themeId!=R)return H&&H();if(!C||!C.cssClass)throw new Error("couldn't load module "+R+" or it didn't call define");C.$id&&(k.$themeId=C.$id),x.importCssString(C.cssText,C.cssClass,k.container),k.theme&&x.removeCssClass(k.container,k.theme.cssClass);var $="padding"in C?C.padding:"padding"in(k.theme||{})?4:k.$padding;k.$padding&&$!=k.$padding&&k.setPadding($),k.$theme=C.cssClass,k.theme=C,x.addCssClass(k.container,C.cssClass),x.setCssClass(k.container,"ace_dark",C.isDark),k.$size&&(k.$size.width=0,k.$updateSizeAsync()),k._dispatchEvent("themeLoaded",{theme:C}),H&&H(),p.isSafari&&k.scroller&&(k.scroller.style.background="red",k.scroller.style.background="")}},w.prototype.getTheme=function(){return this.$themeId},w.prototype.setStyle=function(R,H){x.setCssClass(this.container,R,H!==!1)},w.prototype.unsetStyle=function(R){x.removeCssClass(this.container,R)},w.prototype.setCursorStyle=function(R){x.setStyle(this.scroller.style,"cursor",R)},w.prototype.setMouseCursor=function(R){x.setStyle(this.scroller.style,"cursor",R)},w.prototype.attachToShadowRoot=function(){x.importCssString(y,"ace_editor.css",this.container)},w.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},w.prototype.$updateCustomScrollbar=function(R){var H=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,R===!0?(this.scrollBarV=new l(this.container,this),this.scrollBarH=new a(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(k){H.$scrollAnimation||H.session.setScrollTop(k.data-H.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(k){H.$scrollAnimation||H.session.setScrollLeft(k.data-H.scrollMargin.left)}),this.$scrollDecorator=new _(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new o(this.container,this),this.scrollBarH=new n(this.container,this),this.scrollBarV.addEventListener("scroll",function(k){H.$scrollAnimation||H.session.setScrollTop(k.data-H.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(k){H.$scrollAnimation||H.session.setScrollLeft(k.data-H.scrollMargin.left)}))},w.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var R=this;this.$resizeTimer=v.delayedCall(function(){R.destroyed||R.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(H){var k=H[0].contentRect.width,E=H[0].contentRect.height;Math.abs(R.$size.width-k)>1||Math.abs(R.$size.height-E)>1?R.$resizeTimer.delay():R.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},w}();b.prototype.CHANGE_CURSOR=1,b.prototype.CHANGE_MARKER=2,b.prototype.CHANGE_GUTTER=4,b.prototype.CHANGE_SCROLL=8,b.prototype.CHANGE_LINES=16,b.prototype.CHANGE_TEXT=32,b.prototype.CHANGE_SIZE=64,b.prototype.CHANGE_MARKER_BACK=128,b.prototype.CHANGE_MARKER_FRONT=256,b.prototype.CHANGE_FULL=512,b.prototype.CHANGE_H_SCROLL=1024,b.prototype.$changes=0,b.prototype.$padding=null,b.prototype.$frozen=!1,b.prototype.STEPS=8,D.implement(b.prototype,g),h.defineOptions(b.prototype,"renderer",{useResizeObserver:{set:function(w){!w&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):w&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(w){this.$textLayer.setShowInvisibles(w)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(w){typeof w=="number"&&(this.$printMarginColumn=w),this.$showPrintMargin=!!w,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(w){this.$gutter.style.display=w?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(w){this.$gutterLayer.$useSvgGutterIcons=w},initialValue:!1},showFoldedAnnotations:{set:function(w){this.$gutterLayer.$showFoldedAnnotations=w},initialValue:!1},fadeFoldWidgets:{set:function(w){x.setCssClass(this.$gutter,"ace_fade-fold-widgets",w)},initialValue:!1},showFoldWidgets:{set:function(w){this.$gutterLayer.setShowFoldWidgets(w),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(w){this.$textLayer.setDisplayIndentGuides(w)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(w){this.$textLayer.setHighlightIndentGuides(w)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(w){this.$gutterLayer.setHighlightGutterLine(w),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(w){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(w){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(w){typeof w=="number"&&(w=w+"px"),this.container.style.fontSize=w,this.updateFontSize()},initialValue:12},fontFamily:{set:function(w){this.container.style.fontFamily=w,this.updateFontSize()}},maxLines:{set:function(w){this.updateFull()}},minLines:{set:function(w){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(w){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(w){w=+w||0,this.$scrollPastEnd!=w&&(this.$scrollPastEnd=w,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(w){this.$gutterLayer.$fixedWidth=!!w,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(w){this.$updateCustomScrollbar(w)},initialValue:!1},theme:{set:function(w){this.setTheme(w)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!p.isMobile&&!p.isIE}}),M.VirtualRenderer=b}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(L,M,K){var D=L("../lib/oop"),x=L("../lib/net"),v=L("../lib/event_emitter").EventEmitter,h=L("../config");function d(n){var o="importScripts('"+x.qualifyURL(n)+"');";try{return new Blob([o],{type:"application/javascript"})}catch{var a=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,l=new a;return l.append(o),l.getBlob("application/javascript")}}function s(n){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(h.get("loadWorkerFromBlob")){var o=d(n),a=window.URL||window.webkitURL,l=a.createObjectURL(o);return new Worker(l)}return new Worker(n)}var i=function(n){n.postMessage||(n=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=n,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){D.implement(this,v),this.$createWorkerFromOldConfig=function(n,o,a,l,f){if(L.nameToUrl&&!L.toUrl&&(L.toUrl=L.nameToUrl),h.get("packaged")||!L.toUrl)l=l||h.moduleUrl(o,"worker");else{var u=this.$normalizePath;l=l||u(L.toUrl("ace/worker/worker.js",null,"_"));var g={};n.forEach(function(y){g[y]=u(L.toUrl(y,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=s(l),f&&this.send("importScripts",f),this.$worker.postMessage({init:!0,tlns:g,module:o,classname:a}),this.$worker},this.onMessage=function(n){var o=n.data;switch(o.type){case"event":this._signal(o.name,{data:o.data});break;case"call":var a=this.callbacks[o.id];a&&(a(o.data),delete this.callbacks[o.id]);break;case"error":this.reportError(o.data);break;case"log":window.console&&console.log&&console.log.apply(console,o.data);break}},this.reportError=function(n){window.console&&console.error&&console.error(n)},this.$normalizePath=function(n){return x.qualifyURL(n)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(n){n.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(n,o){this.$worker.postMessage({command:n,args:o})},this.call=function(n,o,a){if(a){var l=this.callbackId++;this.callbacks[l]=a,o.push(l)}this.send(n,o)},this.emit=function(n,o){try{o.data&&o.data.err&&(o.data.err={message:o.data.err.message,stack:o.data.err.stack,code:o.data.err.code}),this.$worker&&this.$worker.postMessage({event:n,data:{data:o.data}})}catch(a){console.error(a.stack)}},this.attachToDocument=function(n){this.$doc&&this.terminate(),this.$doc=n,this.call("setValue",[n.getValue()]),n.on("change",this.changeListener,!0)},this.changeListener=function(n){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),n.action=="insert"?this.deltaQueue.push(n.start,n.lines):this.deltaQueue.push(n.start,n.end)},this.$sendDeltaQueue=function(){var n=this.deltaQueue;n&&(this.deltaQueue=null,n.length>50&&n.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:n}))}}).call(i.prototype);var r=function(n,o,a){var l=null,f=!1,u=Object.create(v),g=[],y=new i({messageBuffer:g,terminate:function(){},postMessage:function(p){g.push(p),l&&(f?setTimeout(_):_())}});y.setEmitSync=function(p){f=p};var _=function(){var p=g.shift();p.command?l[p.command].apply(l,p.args):p.event&&u._signal(p.event,p.data)};return u.postMessage=function(p){y.onMessage({data:p})},u.callback=function(p,S){this.postMessage({type:"call",id:S,data:p})},u.emit=function(p,S){this.postMessage({type:"event",name:p,data:S})},h.loadModule(["worker",o],function(p){for(l=new p[a](u);g.length;)_()}),y};M.UIWorkerClient=r,M.WorkerClient=i,M.createWorker=s}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(L,M,K){var D=L("./range").Range,x=L("./lib/event_emitter").EventEmitter,v=L("./lib/oop"),h=function(){function d(s,i,r,n,o,a){var l=this;this.length=i,this.session=s,this.doc=s.getDocument(),this.mainClass=o,this.othersClass=a,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=n,this.$onCursorChange=function(){setTimeout(function(){l.onCursorChange()})},this.$pos=r;var f=s.getUndoManager().$undoStack||s.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=f.length,this.setup(),s.selection.on("changeCursor",this.$onCursorChange)}return d.prototype.setup=function(){var s=this,i=this.doc,r=this.session;this.selectionBefore=r.selection.toJSON(),r.selection.inMultiSelectMode&&r.selection.toSingleRange(),this.pos=i.createAnchor(this.$pos.row,this.$pos.column);var n=this.pos;n.$insertRight=!0,n.detach(),n.markerId=r.addMarker(new D(n.row,n.column,n.row,n.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(o){var a=i.createAnchor(o.row,o.column);a.$insertRight=!0,a.detach(),s.others.push(a)}),r.setUndoSelect(!1)},d.prototype.showOtherMarkers=function(){if(!this.othersActive){var s=this.session,i=this;this.othersActive=!0,this.others.forEach(function(r){r.markerId=s.addMarker(new D(r.row,r.column,r.row,r.column+i.length),i.othersClass,null,!1)})}},d.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var s=0;s<this.others.length;s++)this.session.removeMarker(this.others[s].markerId)}},d.prototype.onUpdate=function(s){if(this.$updating)return this.updateAnchors(s);var i=s;if(i.start.row===i.end.row&&i.start.row===this.pos.row){this.$updating=!0;var r=s.action==="insert"?i.end.column-i.start.column:i.start.column-i.end.column,n=i.start.column>=this.pos.column&&i.start.column<=this.pos.column+this.length+1,o=i.start.column-this.pos.column;if(this.updateAnchors(s),n&&(this.length+=r),n&&!this.session.$fromUndo){if(s.action==="insert")for(var a=this.others.length-1;a>=0;a--){var l=this.others[a],f={row:l.row,column:l.column+o};this.doc.insertMergedLines(f,s.lines)}else if(s.action==="remove")for(var a=this.others.length-1;a>=0;a--){var l=this.others[a],f={row:l.row,column:l.column+o};this.doc.remove(new D(f.row,f.column,f.row,f.column-r))}}this.$updating=!1,this.updateMarkers()}},d.prototype.updateAnchors=function(s){this.pos.onChange(s);for(var i=this.others.length;i--;)this.others[i].onChange(s);this.updateMarkers()},d.prototype.updateMarkers=function(){if(!this.$updating){var s=this,i=this.session,r=function(o,a){i.removeMarker(o.markerId),o.markerId=i.addMarker(new D(o.row,o.column,o.row,o.column+s.length),a,null,!1)};r(this.pos,this.mainClass);for(var n=this.others.length;n--;)r(this.others[n],this.othersClass)}},d.prototype.onCursorChange=function(s){if(!(this.$updating||!this.session)){var i=this.session.selection.getCursor();i.row===this.pos.row&&i.column>=this.pos.column&&i.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",s)):(this.hideOtherMarkers(),this._emit("cursorLeave",s))}},d.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},d.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var s=this.session.getUndoManager(),i=(s.$undoStack||s.$undostack).length-this.$undoStackDepth,r=0;r<i;r++)s.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},d}();v.implement(h.prototype,x),M.PlaceHolder=h}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(L,M,K){var D=L("../lib/event"),x=L("../lib/useragent");function v(d,s){return d.row==s.row&&d.column==s.column}function h(d){var s=d.domEvent,i=s.altKey,r=s.shiftKey,n=s.ctrlKey,o=d.getAccelKey(),a=d.getButton();if(n&&x.isMac&&(a=s.button),d.editor.inMultiSelectMode&&a==2){d.editor.textInput.onContextMenu(d.domEvent);return}if(!n&&!i&&!o){a===0&&d.editor.inMultiSelectMode&&d.editor.exitMultiSelectMode();return}if(a===0){var l=d.editor,f=l.selection,u=l.inMultiSelectMode,g=d.getDocumentPosition(),y=f.getCursor(),_=d.inSelection()||f.isEmpty()&&v(g,y),p=d.x,S=d.y,b=function(P){p=P.clientX,S=P.clientY},w=l.session,R=l.renderer.pixelToScreenCoordinates(p,S),H=R,k;if(l.$mouseHandler.$enableJumpToDef)n&&i||o&&i?k=r?"block":"add":i&&l.$blockSelectEnabled&&(k="block");else if(o&&!i){if(k="add",!u&&r)return}else i&&l.$blockSelectEnabled&&(k="block");if(k&&x.isMac&&s.ctrlKey&&l.$mouseHandler.cancelContextMenu(),k=="add"){if(!u&&_)return;if(!u){var E=f.toOrientedRange();l.addSelectionMarker(E)}var A=f.rangeList.rangeAtPoint(g);l.inVirtualSelectionMode=!0,r&&(A=null,E=f.ranges[0]||E,l.removeSelectionMarker(E)),l.once("mouseup",function(){var P=f.toOrientedRange();A&&P.isEmpty()&&v(A.cursor,P.cursor)?f.substractPoint(P.cursor):(r?f.substractPoint(E.cursor):E&&(l.removeSelectionMarker(E),f.addRange(E)),f.addRange(P)),l.inVirtualSelectionMode=!1})}else if(k=="block"){d.stop(),l.inVirtualSelectionMode=!0;var C,$=[],z=function(){var P=l.renderer.pixelToScreenCoordinates(p,S),V=w.screenToDocumentPosition(P.row,P.column,P.offsetX);v(H,P)&&v(V,f.lead)||(H=P,l.selection.moveToPosition(V),l.renderer.scrollCursorIntoView(),l.removeSelectionMarkers($),$=f.rectangularRangeBlock(H,R),l.$mouseHandler.$clickSelection&&$.length==1&&$[0].isEmpty()&&($[0]=l.$mouseHandler.$clickSelection.clone()),$.forEach(l.addSelectionMarker,l),l.updateSelectionMarkers())};u&&!o?f.toSingleRange():!u&&o&&(C=f.toOrientedRange(),l.addSelectionMarker(C)),r?R=w.documentToScreenPosition(f.lead):f.moveToPosition(g),H={row:-1,column:-1};var F=function(P){z(),clearInterval(B),l.removeSelectionMarkers($),$.length||($=[f.toOrientedRange()]),C&&(l.removeSelectionMarker(C),f.toSingleRange(C));for(var V=0;V<$.length;V++)f.addRange($[V]);l.inVirtualSelectionMode=!1,l.$mouseHandler.$clickSelection=null},N=z;D.capture(l.container,b,F);var B=setInterval(function(){N()},20);return d.preventDefault()}}}M.onMouseDown=h}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(L,M,K){M.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(x){x.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(x){x.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(x){x.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(x){x.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(x){x.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(x){x.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(x){x.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(x){x.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(x){x.multiSelect.rangeCount>1?x.multiSelect.joinSelections():x.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(x){x.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(x){x.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(x){x.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],M.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(x){x.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(x){return x&&x.inMultiSelectMode}}];var D=L("../keyboard/hash_handler").HashHandler;M.keyboardHandler=new D(M.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(L,M,K){var D=L("./range_list").RangeList,x=L("./range").Range,v=L("./selection").Selection,h=L("./mouse/multi_select_handler").onMouseDown,d=L("./lib/event"),s=L("./lib/lang"),i=L("./commands/multi_select_commands");M.commands=i.defaultCommands.concat(i.multiSelectCommands);var r=L("./search").Search,n=new r;function o(y,_,p){return n.$options.wrap=!0,n.$options.needle=_,n.$options.backwards=p==-1,n.find(y)}var a=L("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(a.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(y,_){if(y){if(!this.inMultiSelectMode&&this.rangeCount===0){var p=this.toOrientedRange();if(this.rangeList.add(p),this.rangeList.add(y),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),_||this.fromOrientedRange(y);this.rangeList.removeAll(),this.rangeList.add(p),this.$onAddRange(p)}y.cursor||(y.cursor=y.end);var S=this.rangeList.add(y);return this.$onAddRange(y),S.length&&this.$onRemoveRange(S),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),_||this.fromOrientedRange(y)}},this.toSingleRange=function(y){y=y||this.ranges[0];var _=this.rangeList.removeAll();_.length&&this.$onRemoveRange(_),y&&this.fromOrientedRange(y)},this.substractPoint=function(y){var _=this.rangeList.substractPoint(y);if(_)return this.$onRemoveRange(_),_[0]},this.mergeOverlappingRanges=function(){var y=this.rangeList.merge();y.length&&this.$onRemoveRange(y)},this.$onAddRange=function(y){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(y),this._signal("addRange",{range:y})},this.$onRemoveRange=function(y){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var _=this.rangeList.ranges.pop();y.push(_),this.rangeCount=0}for(var p=y.length;p--;){var S=this.ranges.indexOf(y[p]);this.ranges.splice(S,1)}this._signal("removeRange",{ranges:y}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),_=_||this.ranges[0],_&&!_.isEqual(this.getRange())&&this.fromOrientedRange(_)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new D,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var y=this.ranges.length?this.ranges:[this.getRange()],_=[],p=0;p<y.length;p++){var S=y[p],b=S.start.row,w=S.end.row;if(b===w)_.push(S.clone());else{for(_.push(new x(b,S.start.column,b,this.session.getLine(b).length));++b<w;)_.push(this.getLineRange(b,!0));_.push(new x(w,0,w,S.end.column))}p==0&&!this.isBackwards()&&(_=_.reverse())}this.toSingleRange();for(var p=_.length;p--;)this.addRange(_[p])},this.joinSelections=function(){var y=this.rangeList.ranges,_=y[y.length-1],p=x.fromPoints(y[0].start,_.end);this.toSingleRange(),this.setSelectionRange(p,_.cursor==_.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var y=this.rangeList.ranges,_=y[y.length-1],p=x.fromPoints(y[0].start,_.end);this.toSingleRange(),this.setSelectionRange(p,_.cursor==_.start)}else{var S=this.session.documentToScreenPosition(this.cursor),b=this.session.documentToScreenPosition(this.anchor),w=this.rectangularRangeBlock(S,b);w.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(y,_,p){var S=[],b=y.column<_.column;if(b)var w=y.column,R=_.column,H=y.offsetX,k=_.offsetX;else var w=_.column,R=y.column,H=_.offsetX,k=y.offsetX;var E=y.row<_.row;if(E)var A=y.row,C=_.row;else var A=_.row,C=y.row;w<0&&(w=0),A<0&&(A=0),A==C&&(p=!0);for(var $,z=A;z<=C;z++){var F=x.fromPoints(this.session.screenToDocumentPosition(z,w,H),this.session.screenToDocumentPosition(z,R,k));if(F.isEmpty()){if($&&f(F.end,$))break;$=F.end}F.cursor=b?F.start:F.end,S.push(F)}if(E&&S.reverse(),!p){for(var N=S.length-1;S[N].isEmpty()&&N>0;)N--;if(N>0)for(var B=0;S[B].isEmpty();)B++;for(var P=N;P>=B;P--)S[P].isEmpty()&&S.splice(P,1)}return S}}).call(v.prototype);var l=L("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(y){y.cursor||(y.cursor=y.end);var _=this.getSelectionStyle();return y.marker=this.session.addMarker(y,"ace_selection",_),this.session.$selectionMarkers.push(y),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,y},this.removeSelectionMarker=function(y){if(y.marker){this.session.removeMarker(y.marker);var _=this.session.$selectionMarkers.indexOf(y);_!=-1&&this.session.$selectionMarkers.splice(_,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(y){for(var _=this.session.$selectionMarkers,p=y.length;p--;){var S=y[p];if(S.marker){this.session.removeMarker(S.marker);var b=_.indexOf(S);b!=-1&&_.splice(b,1)}}this.session.selectionMarkerCount=_.length},this.$onAddRange=function(y){this.addSelectionMarker(y.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(y){this.removeSelectionMarkers(y.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(y){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(i.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(y){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(i.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(y){var _=y.command,p=y.editor;if(p.multiSelect){if(_.multiSelectAction)_.multiSelectAction=="forEach"?S=p.forEachSelection(_,y.args):_.multiSelectAction=="forEachLine"?S=p.forEachSelection(_,y.args,!0):_.multiSelectAction=="single"?(p.exitMultiSelectMode(),S=_.exec(p,y.args||{})):S=_.multiSelectAction(p,y.args||{});else{var S=_.exec(p,y.args||{});p.multiSelect.addRange(p.multiSelect.toOrientedRange()),p.multiSelect.mergeOverlappingRanges()}return S}},this.forEachSelection=function(y,_,p){if(!this.inVirtualSelectionMode){var S=p&&p.keepOrder,b=p==!0||p&&p.$byLines,w=this.session,R=this.selection,H=R.rangeList,k=(S?R:H).ranges,E;if(!k.length)return y.exec?y.exec(this,_||{}):y(this,_||{});var A=R._eventRegistry;R._eventRegistry={};var C=new v(w);this.inVirtualSelectionMode=!0;for(var $=k.length;$--;){if(b)for(;$>0&&k[$].start.row==k[$-1].end.row;)$--;C.fromOrientedRange(k[$]),C.index=$,this.selection=w.selection=C;var z=y.exec?y.exec(this,_||{}):y(this,_||{});!E&&z!==void 0&&(E=z),C.toOrientedRange(k[$])}C.detach(),this.selection=w.selection=R,this.inVirtualSelectionMode=!1,R._eventRegistry=A,R.mergeOverlappingRanges(),R.ranges[0]&&R.fromOrientedRange(R.ranges[0]);var F=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),F&&F.from==F.to&&this.renderer.animateScrolling(F.from),E}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var y="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var _=this.multiSelect.rangeList.ranges,p=[],S=0;S<_.length;S++)p.push(this.session.getTextRange(_[S]));var b=this.session.getDocument().getNewLineCharacter();y=p.join(b),y.length==(p.length-1)*b.length&&(y="")}else this.selection.isEmpty()||(y=this.session.getTextRange(this.getSelectionRange()));return y},this.$checkMultiselectChange=function(y,_){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var p=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&_==this.multiSelect.anchor)return;var S=_==this.multiSelect.anchor?p.cursor==p.start?p.end:p.start:p.cursor;S.row!=_.row||this.session.$clipPositionToDocument(S.row,S.column).column!=_.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(y,_,p){if(_=_||{},_.needle=y||_.needle,_.needle==null){var S=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();_.needle=this.session.getTextRange(S)}this.$search.set(_);var b=this.$search.findAll(this.session);if(!b.length)return 0;var w=this.multiSelect;p||w.toSingleRange(b[0]);for(var R=b.length;R--;)w.addRange(b[R],!0);return S&&w.rangeList.rangeAtPoint(S.start)&&w.addRange(S,!0),b.length},this.selectMoreLines=function(y,_){var p=this.selection.toOrientedRange(),S=p.cursor==p.end,b=this.session.documentToScreenPosition(p.cursor);this.selection.$desiredColumn&&(b.column=this.selection.$desiredColumn);var w=this.session.screenToDocumentPosition(b.row+y,b.column);if(p.isEmpty())var H=w;else var R=this.session.documentToScreenPosition(S?p.end:p.start),H=this.session.screenToDocumentPosition(R.row+y,R.column);if(S){var k=x.fromPoints(w,H);k.cursor=k.start}else{var k=x.fromPoints(H,w);k.cursor=k.end}if(k.desiredColumn=b.column,!this.selection.inMultiSelectMode)this.selection.addRange(p);else if(_)var E=p.cursor;this.selection.addRange(k),E&&this.selection.substractPoint(E)},this.transposeSelections=function(y){for(var _=this.session,p=_.multiSelect,S=p.ranges,b=S.length;b--;){var w=S[b];if(w.isEmpty()){var R=_.getWordRange(w.start.row,w.start.column);w.start.row=R.start.row,w.start.column=R.start.column,w.end.row=R.end.row,w.end.column=R.end.column}}p.mergeOverlappingRanges();for(var H=[],b=S.length;b--;){var w=S[b];H.unshift(_.getTextRange(w))}y<0?H.unshift(H.pop()):H.push(H.shift());for(var b=S.length;b--;){var w=S[b],k=w.clone();_.replace(w,H[b]),w.start.row=k.start.row,w.start.column=k.start.column}p.fromOrientedRange(p.ranges[0])},this.selectMore=function(y,_,p){var S=this.session,b=S.multiSelect,w=b.toOrientedRange();if(!(w.isEmpty()&&(w=S.getWordRange(w.start.row,w.start.column),w.cursor=y==-1?w.start:w.end,this.multiSelect.addRange(w),p))){var R=S.getTextRange(w),H=o(S,R,y);H&&(H.cursor=y==-1?H.start:H.end,this.session.unfold(H),this.multiSelect.addRange(H),this.renderer.scrollCursorIntoView(null,.5)),_&&this.multiSelect.substractPoint(w.cursor)}},this.alignCursors=function(){var y=this.session,_=y.multiSelect,p=_.ranges,S=-1,b=p.filter(function(N){if(N.cursor.row==S)return!0;S=N.cursor.row});if(!p.length||b.length==p.length-1){var w=this.selection.getRange(),R=w.start.row,H=w.end.row,k=R==H;if(k){var E=this.session.getLength(),A;do A=this.session.getLine(H);while(/[=:]/.test(A)&&++H<E);do A=this.session.getLine(R);while(/[=:]/.test(A)&&--R>0);R<0&&(R=0),H>=E&&(H=E-1)}var C=this.session.removeFullLines(R,H);C=this.$reAlignText(C,k),this.session.insert({row:R,column:0},C.join(`
`)+`
`),k||(w.start.column=0,w.end.column=C[C.length-1].length),this.selection.setRange(w)}else{b.forEach(function(N){_.substractPoint(N.cursor)});var $=0,z=1/0,F=p.map(function(N){var B=N.cursor,P=y.getLine(B.row),V=P.substr(B.column).search(/\S/g);return V==-1&&(V=0),B.column>$&&($=B.column),V<z&&(z=V),V});p.forEach(function(N,B){var P=N.cursor,V=$-P.column,G=F[B]-z;V>G?y.insert(P,s.stringRepeat(" ",V-G)):y.remove(new x(P.row,P.column,P.row,P.column-V+G)),N.start.column=N.end.column=$,N.start.row=N.end.row=P.row,N.cursor=N.end}),_.fromOrientedRange(p[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(y,_){var p=!0,S=!0,b,w,R;return y.map(function(C){var $=C.match(/(\s*)(.*?)(\s*)([=:].*)/);return $?b==null?(b=$[1].length,w=$[2].length,R=$[3].length,$):(b+w+R!=$[1].length+$[2].length+$[3].length&&(S=!1),b!=$[1].length&&(p=!1),b>$[1].length&&(b=$[1].length),w<$[2].length&&(w=$[2].length),R>$[3].length&&(R=$[3].length),$):[C]}).map(_?k:p?S?E:k:A);function H(C){return s.stringRepeat(" ",C)}function k(C){return C[2]?H(b)+C[2]+H(w-C[2].length+R)+C[4].replace(/^([=:])\s+/,"$1 "):C[0]}function E(C){return C[2]?H(b+w-C[2].length)+C[2]+H(R)+C[4].replace(/^([=:])\s+/,"$1 "):C[0]}function A(C){return C[2]?H(b)+C[2]+H(R)+C[4].replace(/^([=:])\s+/,"$1 "):C[0]}}}).call(l.prototype);function f(y,_){return y.row==_.row&&y.column==_.column}M.onSessionChange=function(y){var _=y.session;_&&!_.multiSelect&&(_.$selectionMarkers=[],_.selection.$initRangeList(),_.multiSelect=_.selection),this.multiSelect=_&&_.multiSelect;var p=y.oldSession;p&&(p.multiSelect.off("addRange",this.$onAddRange),p.multiSelect.off("removeRange",this.$onRemoveRange),p.multiSelect.off("multiSelect",this.$onMultiSelect),p.multiSelect.off("singleSelect",this.$onSingleSelect),p.multiSelect.lead.off("change",this.$checkMultiselectChange),p.multiSelect.anchor.off("change",this.$checkMultiselectChange)),_&&(_.multiSelect.on("addRange",this.$onAddRange),_.multiSelect.on("removeRange",this.$onRemoveRange),_.multiSelect.on("multiSelect",this.$onMultiSelect),_.multiSelect.on("singleSelect",this.$onSingleSelect),_.multiSelect.lead.on("change",this.$checkMultiselectChange),_.multiSelect.anchor.on("change",this.$checkMultiselectChange)),_&&this.inMultiSelectMode!=_.selection.inMultiSelectMode&&(_.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function u(y){y.$multiselectOnSessionChange||(y.$onAddRange=y.$onAddRange.bind(y),y.$onRemoveRange=y.$onRemoveRange.bind(y),y.$onMultiSelect=y.$onMultiSelect.bind(y),y.$onSingleSelect=y.$onSingleSelect.bind(y),y.$multiselectOnSessionChange=M.onSessionChange.bind(y),y.$checkMultiselectChange=y.$checkMultiselectChange.bind(y),y.$multiselectOnSessionChange(y),y.on("changeSession",y.$multiselectOnSessionChange),y.on("mousedown",h),y.commands.addCommands(i.defaultCommands),g(y))}function g(y){if(!y.textInput)return;var _=y.textInput.getElement(),p=!1;d.addListener(_,"keydown",function(b){var w=b.keyCode==18&&!(b.ctrlKey||b.shiftKey||b.metaKey);y.$blockSelectEnabled&&w?p||(y.renderer.setMouseCursor("crosshair"),p=!0):p&&S()},y),d.addListener(_,"keyup",S,y),d.addListener(_,"blur",S,y);function S(b){p&&(y.renderer.setMouseCursor(""),p=!1)}}M.MultiSelect=u,L("./config").defineOptions(l.prototype,"editor",{enableMultiselect:{set:function(y){u(this),y?this.on("mousedown",h):this.off("mousedown",h)},value:!0},enableBlockSelect:{set:function(y){this.$blockSelectEnabled=y},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(L,M,K){var D=L("../../range").Range,x=M.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(v,h,d){var s=v.getLine(d);return this.foldingStartMarker.test(s)?"start":h=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(s)?"end":""},this.getFoldWidgetRange=function(v,h,d){return null},this.indentationBlock=function(v,h,d){var s=/\S/,i=v.getLine(h),r=i.search(s);if(r!=-1){for(var n=d||i.length,o=v.getLength(),a=h,l=h;++h<o;){var f=v.getLine(h).search(s);if(f!=-1){if(f<=r){var u=v.getTokenAt(h,0);if(!u||u.type!=="string")break}l=h}}if(l>a){var g=v.getLine(l).length;return new D(a,n,l,g)}}},this.openingBracketBlock=function(v,h,d,s,i){var r={row:d,column:s+1},n=v.$findClosingBracket(h,r,i);if(n){var o=v.foldWidgets[n.row];return o==null&&(o=v.getFoldWidget(n.row)),o=="start"&&n.row>r.row&&(n.row--,n.column=v.getLine(n.row).length),D.fromPoints(r,n)}},this.closingBracketBlock=function(v,h,d,s,i){var r={row:d,column:s},n=v.$findOpeningBracket(h,r);if(n)return n.column++,r.column--,D.fromPoints(n,r)}}).call(x.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(L,M,K){var D=L("../lib/dom"),x=L("../range").Range,v=L("../config").nls;function h(s,i,r){for(var n=0,o=s.length-1;n<=o;){var a=n+o>>1,l=r(i,s[a]);if(l>0)n=a+1;else if(l<0)o=a-1;else return a}return-(n+1)}function d(s,i,r){var n=s.getAnnotations().sort(x.comparePoints);if(n.length){var o=h(n,{row:i,column:-1},x.comparePoints);o<0&&(o=-o-1),o>=n.length?o=r>0?0:n.length-1:o===0&&r<0&&(o=n.length-1);var a=n[o];if(!(!a||!r)){if(a.row===i){do a=n[o+=r];while(a&&a.row===i);if(!a)return n.slice()}var l=[];i=a.row;do l[r<0?"unshift":"push"](a),a=n[o+=r];while(a&&a.row==i);return l.length&&l}}}M.showErrorMarker=function(s,i){var r=s.session,n=s.getCursorPosition(),o=n.row,a=r.widgetManager.getWidgetsAtRow(o).filter(function(b){return b.type=="errorMarker"})[0];a?a.destroy():o-=i;var l=d(r,o,i),f;if(l){var u=l[0];n.column=(u.pos&&typeof u.column!="number"?u.pos.sc:u.column)||0,n.row=u.row,f=s.renderer.$gutterLayer.$annotations[n.row]}else{if(a)return;f={displayText:[v("error-marker.good-state","Looks good!")],className:"ace_ok"}}s.session.unfold(n.row),s.selection.moveToPosition(n);var g={row:n.row,fixedWidth:!0,coverGutter:!0,el:D.createElement("div"),type:"errorMarker"},y=g.el.appendChild(D.createElement("div")),_=g.el.appendChild(D.createElement("div"));_.className="error_widget_arrow "+f.className;var p=s.renderer.$cursorLayer.getPixelPosition(n).left;_.style.left=p+s.renderer.gutterWidth-5+"px",g.el.className="error_widget_wrapper",y.className="error_widget "+f.className,f.displayText.forEach(function(b,w){y.appendChild(D.createTextNode(b)),w<f.displayText.length-1&&y.appendChild(D.createElement("br"))}),y.appendChild(D.createElement("div"));var S=function(b,w,R){if(w===0&&(R==="esc"||R==="return"))return g.destroy(),{command:"null"}};g.destroy=function(){s.$mouseHandler.isMousePressed||(s.keyBinding.removeKeyboardHandler(S),r.widgetManager.removeLineWidget(g),s.off("changeSelection",g.destroy),s.off("changeSession",g.destroy),s.off("mouseup",g.destroy),s.off("change",g.destroy))},s.keyBinding.addKeyboardHandler(S),s.on("changeSelection",g.destroy),s.on("changeSession",g.destroy),s.on("mouseup",g.destroy),s.on("change",g.destroy),s.session.widgetManager.addLineWidget(g),g.el.onmousedown=s.focus.bind(s),s.renderer.scrollCursorIntoView(null,.5,{bottom:g.el.offsetHeight})},D.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(L,M,K){L("./loader_build")(M);var D=L("./lib/dom"),x=L("./range").Range,v=L("./editor").Editor,h=L("./edit_session").EditSession,d=L("./undomanager").UndoManager,s=L("./virtual_renderer").VirtualRenderer;L("./worker/worker_client"),L("./keyboard/hash_handler"),L("./placeholder"),L("./multi_select"),L("./mode/folding/fold_mode"),L("./theme/textmate"),L("./ext/error_marker"),M.config=L("./config"),M.edit=function(r,n){if(typeof r=="string"){var o=r;if(r=document.getElementById(o),!r)throw new Error("ace.edit can't find div #"+o)}if(r&&r.env&&r.env.editor instanceof v)return r.env.editor;var a="";if(r&&/input|textarea/i.test(r.tagName)){var l=r;a=l.value,r=D.createElement("pre"),l.parentNode.replaceChild(r,l)}else r&&(a=r.textContent,r.innerHTML="");var f=M.createEditSession(a),u=new v(new s(r),f,n),g={document:f,editor:u,onResize:u.resize.bind(u,null)};return l&&(g.textarea=l),u.on("destroy",function(){g.editor.container.env=null}),u.container.env=u.env=g,u},M.createEditSession=function(r,n){var o=new h(r,n);return o.setUndoManager(new d),o},M.Range=x,M.Editor=v,M.EditSession=h,M.UndoManager=d,M.VirtualRenderer=s;var i=M.config.version;M.version=i}),function(){ace.require(["ace/ace"],function(L){L&&(L.config.init(!0),L.define=ace.define);var M=function(){return this}();!M&&typeof window<"u"&&(M=window),!M&&typeof self<"u"&&(M=self),M.ace||(M.ace=L);for(var K in L)L.hasOwnProperty(K)&&(M.ace[K]=L[K]);M.ace.default=M.ace,j&&(j.exports=M.ace)})}()}(Nc)),Nc.exports}var Ic={exports:{}},Hc,kd;function um(){if(kd)return Hc;kd=1;var j="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Hc=j,Hc}var zc,$d;function fm(){if($d)return zc;$d=1;var j=um();function I(){}function L(){}return L.resetWarningCache=I,zc=function(){function M(x,v,h,d,s,i){if(i!==j){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}M.isRequired=M;function K(){return M}var D={array:M,bigint:M,bool:M,func:M,number:M,object:M,string:M,symbol:M,any:M,arrayOf:K,element:M,elementType:M,instanceOf:K,node:M,objectOf:K,oneOf:K,oneOfType:K,shape:K,exact:K,checkPropTypes:L,resetWarningCache:I};return D.PropTypes=D,D},zc}var Dd;function nh(){return Dd||(Dd=1,Ic.exports=fm()()),Ic.exports}var lo={exports:{}};lo.exports;var Od;function ap(){return Od||(Od=1,function(j,I){var L=200,M="__lodash_hash_undefined__",K=1,D=2,x=9007199254740991,v="[object Arguments]",h="[object Array]",d="[object AsyncFunction]",s="[object Boolean]",i="[object Date]",r="[object Error]",n="[object Function]",o="[object GeneratorFunction]",a="[object Map]",l="[object Number]",f="[object Null]",u="[object Object]",g="[object Promise]",y="[object Proxy]",_="[object RegExp]",p="[object Set]",S="[object String]",b="[object Symbol]",w="[object Undefined]",R="[object WeakMap]",H="[object ArrayBuffer]",k="[object DataView]",E="[object Float32Array]",A="[object Float64Array]",C="[object Int8Array]",$="[object Int16Array]",z="[object Int32Array]",F="[object Uint8Array]",N="[object Uint8ClampedArray]",B="[object Uint16Array]",P="[object Uint32Array]",V=/[\\^$.*+?()[\]{}|]/g,G=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,q={};q[E]=q[A]=q[C]=q[$]=q[z]=q[F]=q[N]=q[B]=q[P]=!0,q[v]=q[h]=q[H]=q[s]=q[k]=q[i]=q[r]=q[n]=q[a]=q[l]=q[u]=q[_]=q[p]=q[S]=q[R]=!1;var Z=typeof Fi=="object"&&Fi&&Fi.Object===Object&&Fi,Q=typeof self=="object"&&self&&self.Object===Object&&self,U=Z||Q||Function("return this")(),ie=I&&!I.nodeType&&I,ee=ie&&!0&&j&&!j.nodeType&&j,he=ee&&ee.exports===ie,pe=he&&Z.process,be=function(){try{return pe&&pe.binding&&pe.binding("util")}catch{}}(),Le=be&&be.isTypedArray;function Te(J,ne){for(var ge=-1,we=J==null?0:J.length,Ze=0,Ne=[];++ge<we;){var nt=J[ge];ne(nt,ge,J)&&(Ne[Ze++]=nt)}return Ne}function ze(J,ne){for(var ge=-1,we=ne.length,Ze=J.length;++ge<we;)J[Ze+ge]=ne[ge];return J}function Ee(J,ne){for(var ge=-1,we=J==null?0:J.length;++ge<we;)if(ne(J[ge],ge,J))return!0;return!1}function ut(J,ne){for(var ge=-1,we=Array(J);++ge<J;)we[ge]=ne(ge);return we}function Et(J){return function(ne){return J(ne)}}function Pt(J,ne){return J.has(ne)}function Xt(J,ne){return J==null?void 0:J[ne]}function jt(J){var ne=-1,ge=Array(J.size);return J.forEach(function(we,Ze){ge[++ne]=[Ze,we]}),ge}function at(J,ne){return function(ge){return J(ne(ge))}}function ot(J){var ne=-1,ge=Array(J.size);return J.forEach(function(we){ge[++ne]=we}),ge}var At=Array.prototype,ue=Function.prototype,ye=Object.prototype,Se=U["__core-js_shared__"],De=ue.toString,Re=ye.hasOwnProperty,je=function(){var J=/[^.]+$/.exec(Se&&Se.keys&&Se.keys.IE_PROTO||"");return J?"Symbol(src)_1."+J:""}(),ke=ye.toString,Ve=RegExp("^"+De.call(Re).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=he?U.Buffer:void 0,Pe=U.Symbol,ae=U.Uint8Array,ve=ye.propertyIsEnumerable,Me=At.splice,Ge=Pe?Pe.toStringTag:void 0,Ri=Object.getOwnPropertySymbols,ni=Be?Be.isBuffer:void 0,Wi=at(Object.keys,Object),vi=qt(U,"DataView"),ki=qt(U,"Map"),ji=qt(U,"Promise"),rs=qt(U,"Set"),mr=qt(U,"WeakMap"),fn=qt(Object,"create"),ss=Si(vi),Wn=Si(ki),xa=Si(ji),ho=Si(rs),uo=Si(mr),os=Pe?Pe.prototype:void 0,_r=os?os.valueOf:void 0;function Vi(J){var ne=-1,ge=J==null?0:J.length;for(this.clear();++ne<ge;){var we=J[ne];this.set(we[0],we[1])}}function $i(){this.__data__=fn?fn(null):{},this.size=0}function Mt(J){var ne=this.has(J)&&delete this.__data__[J];return this.size-=ne?1:0,ne}function Nt(J){var ne=this.__data__;if(fn){var ge=ne[J];return ge===M?void 0:ge}return Re.call(ne,J)?ne[J]:void 0}function dn(J){var ne=this.__data__;return fn?ne[J]!==void 0:Re.call(ne,J)}function as(J,ne){var ge=this.__data__;return this.size+=this.has(J)?0:1,ge[J]=fn&&ne===void 0?M:ne,this}Vi.prototype.clear=$i,Vi.prototype.delete=Mt,Vi.prototype.get=Nt,Vi.prototype.has=dn,Vi.prototype.set=as;function mi(J){var ne=-1,ge=J==null?0:J.length;for(this.clear();++ne<ge;){var we=J[ne];this.set(we[0],we[1])}}function La(){this.__data__=[],this.size=0}function fo(J){var ne=this.__data__,ge=$t(ne,J);if(ge<0)return!1;var we=ne.length-1;return ge==we?ne.pop():Me.call(ne,ge,1),--this.size,!0}function jn(J){var ne=this.__data__,ge=$t(ne,J);return ge<0?void 0:ne[ge][1]}function ls(J){return $t(this.__data__,J)>-1}function Gi(J,ne){var ge=this.__data__,we=$t(ge,J);return we<0?(++this.size,ge.push([J,ne])):ge[we][1]=ne,this}mi.prototype.clear=La,mi.prototype.delete=fo,mi.prototype.get=jn,mi.prototype.has=ls,mi.prototype.set=Gi;function Vt(J){var ne=-1,ge=J==null?0:J.length;for(this.clear();++ne<ge;){var we=J[ne];this.set(we[0],we[1])}}function Vn(){this.size=0,this.__data__={hash:new Vi,map:new(ki||mi),string:new Vi}}function pn(J){var ne=Yn(this,J).delete(J);return this.size-=ne?1:0,ne}function mt(J){return Yn(this,J).get(J)}function po(J){return Yn(this,J).has(J)}function go(J,ne){var ge=Yn(this,J),we=ge.size;return ge.set(J,ne),this.size+=ge.size==we?0:1,this}Vt.prototype.clear=Vn,Vt.prototype.delete=pn,Vt.prototype.get=mt,Vt.prototype.has=po,Vt.prototype.set=go;function ri(J){var ne=-1,ge=J==null?0:J.length;for(this.__data__=new Vt;++ne<ge;)this.add(J[ne])}function gn(J){return this.__data__.set(J,M),this}function _i(J){return this.__data__.has(J)}ri.prototype.add=ri.prototype.push=gn,ri.prototype.has=_i;function Di(J){var ne=this.__data__=new mi(J);this.size=ne.size}function vo(){this.__data__=new mi,this.size=0}function mo(J){var ne=this.__data__,ge=ne.delete(J);return this.size=ne.size,ge}function Ra(J){return this.__data__.get(J)}function yr(J){return this.__data__.has(J)}function br(J,ne){var ge=this.__data__;if(ge instanceof mi){var we=ge.__data__;if(!ki||we.length<L-1)return we.push([J,ne]),this.size=++ge.size,this;ge=this.__data__=new Vt(we)}return ge.set(J,ne),this.size=ge.size,this}Di.prototype.clear=vo,Di.prototype.delete=mo,Di.prototype.get=Ra,Di.prototype.has=yr,Di.prototype.set=br;function yi(J,ne){var ge=Xn(J),we=!ge&&mn(J),Ze=!ge&&!we&&Cr(J),Ne=!ge&&!we&&!Ze&&Qn(J),nt=ge||we||Ze||Ne,ft=nt?ut(J.length,String):[],lt=ft.length;for(var Je in J)Re.call(J,Je)&&!(nt&&(Je=="length"||Ze&&(Je=="offset"||Je=="parent")||Ne&&(Je=="buffer"||Je=="byteLength"||Je=="byteOffset")||ps(Je,lt)))&&ft.push(Je);return ft}function $t(J,ne){for(var ge=J.length;ge--;)if(Ki(J[ge][0],ne))return ge;return-1}function _o(J,ne,ge){var we=ne(J);return Xn(J)?we:ze(we,ge(J))}function Gn(J){return J==null?J===void 0?w:f:Ge&&Ge in Object(J)?$a(J):gs(J)}function Kn(J){return Yi(J)&&Gn(J)==v}function cs(J,ne,ge,we,Ze){return J===ne?!0:J==null||ne==null||!Yi(J)&&!Yi(ne)?J!==J&&ne!==ne:Sr(J,ne,ge,we,cs,Ze)}function Sr(J,ne,ge,we,Ze,Ne){var nt=Xn(J),ft=Xn(ne),lt=nt?h:bi(J),Je=ft?h:bi(ne);lt=lt==v?u:lt,Je=Je==v?u:Je;var It=lt==u,Qt=Je==u,Tt=lt==Je;if(Tt&&Cr(J)){if(!Cr(ne))return!1;nt=!0,It=!1}if(Tt&&!It)return Ne||(Ne=new Di),nt||Qn(J)?us(J,ne,ge,we,Ze,Ne):fs(J,ne,lt,ge,we,Ze,Ne);if(!(ge&K)){var Kt=It&&Re.call(J,"__wrapped__"),Ht=Qt&&Re.call(ne,"__wrapped__");if(Kt||Ht){var Oi=Kt?J.value():J,Ci=Ht?ne.value():ne;return Ne||(Ne=new Di),Ze(Oi,Ci,ge,we,Ne)}}return Tt?(Ne||(Ne=new Di),vn(J,ne,ge,we,Ze,Ne)):!1}function ka(J){if(!wi(J)||Oa(J))return!1;var ne=Er(J)?Ve:G;return ne.test(Si(J))}function Gt(J){return Yi(J)&&_n(J.length)&&!!q[Gn(J)]}function hs(J){if(!wr(J))return Wi(J);var ne=[];for(var ge in Object(J))Re.call(J,ge)&&ge!="constructor"&&ne.push(ge);return ne}function us(J,ne,ge,we,Ze,Ne){var nt=ge&K,ft=J.length,lt=ne.length;if(ft!=lt&&!(nt&&lt>ft))return!1;var Je=Ne.get(J);if(Je&&Ne.get(ne))return Je==ne;var It=-1,Qt=!0,Tt=ge&D?new ri:void 0;for(Ne.set(J,ne),Ne.set(ne,J);++It<ft;){var Kt=J[It],Ht=ne[It];if(we)var Oi=nt?we(Ht,Kt,It,ne,J,Ne):we(Kt,Ht,It,J,ne,Ne);if(Oi!==void 0){if(Oi)continue;Qt=!1;break}if(Tt){if(!Ee(ne,function(Ci,Xi){if(!Pt(Tt,Xi)&&(Kt===Ci||Ze(Kt,Ci,ge,we,Ne)))return Tt.push(Xi)})){Qt=!1;break}}else if(!(Kt===Ht||Ze(Kt,Ht,ge,we,Ne))){Qt=!1;break}}return Ne.delete(J),Ne.delete(ne),Qt}function fs(J,ne,ge,we,Ze,Ne,nt){switch(ge){case k:if(J.byteLength!=ne.byteLength||J.byteOffset!=ne.byteOffset)return!1;J=J.buffer,ne=ne.buffer;case H:return!(J.byteLength!=ne.byteLength||!Ne(new ae(J),new ae(ne)));case s:case i:case l:return Ki(+J,+ne);case r:return J.name==ne.name&&J.message==ne.message;case _:case S:return J==ne+"";case a:var ft=jt;case p:var lt=we&K;if(ft||(ft=ot),J.size!=ne.size&&!lt)return!1;var Je=nt.get(J);if(Je)return Je==ne;we|=D,nt.set(J,ne);var It=us(ft(J),ft(ne),we,Ze,Ne,nt);return nt.delete(J),It;case b:if(_r)return _r.call(J)==_r.call(ne)}return!1}function vn(J,ne,ge,we,Ze,Ne){var nt=ge&K,ft=ds(J),lt=ft.length,Je=ds(ne),It=Je.length;if(lt!=It&&!nt)return!1;for(var Qt=lt;Qt--;){var Tt=ft[Qt];if(!(nt?Tt in ne:Re.call(ne,Tt)))return!1}var Kt=Ne.get(J);if(Kt&&Ne.get(ne))return Kt==ne;var Ht=!0;Ne.set(J,ne),Ne.set(ne,J);for(var Oi=nt;++Qt<lt;){Tt=ft[Qt];var Ci=J[Tt],Xi=ne[Tt];if(we)var So=nt?we(Xi,Ci,Tt,ne,J,Ne):we(Ci,Xi,Tt,J,ne,Ne);if(!(So===void 0?Ci===Xi||Ze(Ci,Xi,ge,we,Ne):So)){Ht=!1;break}Oi||(Oi=Tt=="constructor")}if(Ht&&!Oi){var Tr=J.constructor,Zn=ne.constructor;Tr!=Zn&&"constructor"in J&&"constructor"in ne&&!(typeof Tr=="function"&&Tr instanceof Tr&&typeof Zn=="function"&&Zn instanceof Zn)&&(Ht=!1)}return Ne.delete(J),Ne.delete(ne),Ht}function ds(J){return _o(J,bo,yo)}function Yn(J,ne){var ge=J.__data__;return Da(ne)?ge[typeof ne=="string"?"string":"hash"]:ge.map}function qt(J,ne){var ge=Xt(J,ne);return ka(ge)?ge:void 0}function $a(J){var ne=Re.call(J,Ge),ge=J[Ge];try{J[Ge]=void 0;var we=!0}catch{}var Ze=ke.call(J);return we&&(ne?J[Ge]=ge:delete J[Ge]),Ze}var yo=Ri?function(J){return J==null?[]:(J=Object(J),Te(Ri(J),function(ne){return ve.call(J,ne)}))}:Ar,bi=Gn;(vi&&bi(new vi(new ArrayBuffer(1)))!=k||ki&&bi(new ki)!=a||ji&&bi(ji.resolve())!=g||rs&&bi(new rs)!=p||mr&&bi(new mr)!=R)&&(bi=function(J){var ne=Gn(J),ge=ne==u?J.constructor:void 0,we=ge?Si(ge):"";if(we)switch(we){case ss:return k;case Wn:return a;case xa:return g;case ho:return p;case uo:return R}return ne});function ps(J,ne){return ne=ne??x,!!ne&&(typeof J=="number"||Y.test(J))&&J>-1&&J%1==0&&J<ne}function Da(J){var ne=typeof J;return ne=="string"||ne=="number"||ne=="symbol"||ne=="boolean"?J!=="__proto__":J===null}function Oa(J){return!!je&&je in J}function wr(J){var ne=J&&J.constructor,ge=typeof ne=="function"&&ne.prototype||ye;return J===ge}function gs(J){return ke.call(J)}function Si(J){if(J!=null){try{return De.call(J)}catch{}try{return J+""}catch{}}return""}function Ki(J,ne){return J===ne||J!==J&&ne!==ne}var mn=Kn(function(){return arguments}())?Kn:function(J){return Yi(J)&&Re.call(J,"callee")&&!ve.call(J,"callee")},Xn=Array.isArray;function vs(J){return J!=null&&_n(J.length)&&!Er(J)}var Cr=ni||Mr;function qn(J,ne){return cs(J,ne)}function Er(J){if(!wi(J))return!1;var ne=Gn(J);return ne==n||ne==o||ne==d||ne==y}function _n(J){return typeof J=="number"&&J>-1&&J%1==0&&J<=x}function wi(J){var ne=typeof J;return J!=null&&(ne=="object"||ne=="function")}function Yi(J){return J!=null&&typeof J=="object"}var Qn=Le?Et(Le):Gt;function bo(J){return vs(J)?yi(J):hs(J)}function Ar(){return[]}function Mr(){return!1}j.exports=qn}(lo,lo.exports)),lo.exports}var xi={},Bd;function lp(){if(Bd)return xi;Bd=1,Object.defineProperty(xi,"__esModule",{value:!0}),xi.getAceInstance=xi.debounce=xi.editorEvents=xi.editorOptions=void 0;var j=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];xi.editorOptions=j;var I=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];xi.editorEvents=I;var L=function(){var K;return typeof window>"u"?(Fi.window={},K=Aa(),delete Fi.window):window.ace?(K=window.ace,K.acequire=window.ace.require||window.ace.acequire):K=Aa(),K};xi.getAceInstance=L;var M=function(K,D){var x=null;return function(){var v=this,h=arguments;clearTimeout(x),x=setTimeout(function(){K.apply(v,h)},D)}};return xi.debounce=M,xi}var Nd;function dm(){if(Nd)return Fn;Nd=1;var j=Fn&&Fn.__extends||function(){var d=function(s,i){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])},d(s,i)};return function(s,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");d(s,i);function r(){this.constructor=s}s.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),I=Fn&&Fn.__assign||function(){return I=Object.assign||function(d){for(var s,i=1,r=arguments.length;i<r;i++){s=arguments[i];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(d[n]=s[n])}return d},I.apply(this,arguments)};Object.defineProperty(Fn,"__esModule",{value:!0});var L=Aa(),M=nh(),K=is(),D=ap(),x=lp(),v=(0,x.getAceInstance)(),h=function(d){j(s,d);function s(i){var r=d.call(this,i)||this;return x.editorEvents.forEach(function(n){r[n]=r[n].bind(r)}),r.debounce=x.debounce,r}return s.prototype.isInShadow=function(i){for(var r=i&&i.parentNode;r;){if(r.toString()==="[object ShadowRoot]")return!0;r=r.parentNode}return!1},s.prototype.componentDidMount=function(){var i=this,r=this.props,n=r.className,o=r.onBeforeLoad,a=r.onValidate,l=r.mode,f=r.focus,u=r.theme,g=r.fontSize,y=r.lineHeight,_=r.value,p=r.defaultValue,S=r.showGutter,b=r.wrapEnabled,w=r.showPrintMargin,R=r.scrollMargin,H=R===void 0?[0,0,0,0]:R,k=r.keyboardHandler,E=r.onLoad,A=r.commands,C=r.annotations,$=r.markers,z=r.placeholder;this.editor=v.edit(this.refEditor),o&&o(v);for(var F=Object.keys(this.props.editorProps),N=0;N<F.length;N++)this.editor[F[N]]=this.props.editorProps[F[N]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(H[0],H[1],H[2],H[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof l=="string"?"ace/mode/".concat(l):l),u&&u!==""&&this.editor.setTheme("ace/theme/".concat(u)),this.editor.setFontSize(typeof g=="number"?"".concat(g,"px"):g),y&&(this.editor.container.style.lineHeight=typeof y=="number"?"".concat(y,"px"):"".concat(y),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(p||_||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(S),this.editor.getSession().setUseWrapMode(b),this.editor.setShowPrintMargin(w),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),z&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),a&&this.editor.getSession().on("changeAnnotation",function(){var P=i.editor.getSession().getAnnotations();i.props.onValidate(P)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(C||[]),$&&$.length>0&&this.handleMarkers($);var B=this.editor.$options;x.editorOptions.forEach(function(P){B.hasOwnProperty(P)?i.editor.setOption(P,i.props[P]):i.props[P]&&console.warn("ReactAce: editor option ".concat(P," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(A)&&A.forEach(function(P){typeof P.exec=="string"?i.editor.commands.bindKey(P.bindKey,P.exec):i.editor.commands.addCommand(P)}),k&&this.editor.setKeyboardHandler("ace/keyboard/"+k),n&&(this.refEditor.className+=" "+n),E&&E(this.editor),this.editor.resize(),f&&this.editor.focus()},s.prototype.componentDidUpdate=function(i){for(var r=i,n=this.props,o=0;o<x.editorOptions.length;o++){var a=x.editorOptions[o];n[a]!==r[a]&&this.editor.setOption(a,n[a])}if(n.className!==r.className){var l=this.refEditor.className,f=l.trim().split(" "),u=r.className.trim().split(" ");u.forEach(function(_){var p=f.indexOf(_);f.splice(p,1)}),this.refEditor.className=" "+n.className+" "+f.join(" ")}var g=this.editor&&n.value!=null&&this.editor.getValue()!==n.value;if(g){this.silent=!0;var y=this.editor.session.selection.toJSON();this.editor.setValue(n.value,n.cursorStart),this.editor.session.selection.fromJSON(y),this.silent=!1}n.placeholder!==r.placeholder&&this.updatePlaceholder(),n.mode!==r.mode&&this.editor.getSession().setMode(typeof n.mode=="string"?"ace/mode/".concat(n.mode):n.mode),n.theme!==r.theme&&this.editor.setTheme("ace/theme/"+n.theme),n.keyboardHandler!==r.keyboardHandler&&(n.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+n.keyboardHandler):this.editor.setKeyboardHandler(null)),n.fontSize!==r.fontSize&&this.editor.setFontSize(typeof n.fontSize=="number"?"".concat(n.fontSize,"px"):n.fontSize),n.lineHeight!==r.lineHeight&&(this.editor.container.style.lineHeight=typeof n.lineHeight=="number"?"".concat(n.lineHeight,"px"):n.lineHeight,this.editor.renderer.updateFontSize()),n.wrapEnabled!==r.wrapEnabled&&this.editor.getSession().setUseWrapMode(n.wrapEnabled),n.showPrintMargin!==r.showPrintMargin&&this.editor.setShowPrintMargin(n.showPrintMargin),n.showGutter!==r.showGutter&&this.editor.renderer.setShowGutter(n.showGutter),D(n.setOptions,r.setOptions)||this.handleOptions(n),(g||!D(n.annotations,r.annotations))&&this.editor.getSession().setAnnotations(n.annotations||[]),!D(n.markers,r.markers)&&Array.isArray(n.markers)&&this.handleMarkers(n.markers),D(n.scrollMargin,r.scrollMargin)||this.handleScrollMargins(n.scrollMargin),(i.height!==this.props.height||i.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!i.focus&&this.editor.focus()},s.prototype.handleScrollMargins=function(i){i===void 0&&(i=[0,0,0,0]),this.editor.renderer.setScrollMargin(i[0],i[1],i[2],i[3])},s.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},s.prototype.onChange=function(i){if(this.editor&&this.props.onChange&&!this.silent){var r=this.editor.getValue();this.props.onChange(r,i)}},s.prototype.onSelectionChange=function(i){if(this.props.onSelectionChange){var r=this.editor.getSelection();this.props.onSelectionChange(r,i)}},s.prototype.onCursorChange=function(i){if(this.props.onCursorChange){var r=this.editor.getSelection();this.props.onCursorChange(r,i)}},s.prototype.onInput=function(i){this.props.onInput&&this.props.onInput(i),this.props.placeholder&&this.updatePlaceholder()},s.prototype.onFocus=function(i){this.props.onFocus&&this.props.onFocus(i,this.editor)},s.prototype.onBlur=function(i){this.props.onBlur&&this.props.onBlur(i,this.editor)},s.prototype.onCopy=function(i){var r=i.text;this.props.onCopy&&this.props.onCopy(r)},s.prototype.onPaste=function(i){var r=i.text;this.props.onPaste&&this.props.onPaste(r)},s.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},s.prototype.handleOptions=function(i){for(var r=Object.keys(i.setOptions),n=0;n<r.length;n++)this.editor.setOption(r[n],i.setOptions[r[n]])},s.prototype.handleMarkers=function(i){var r=this,n=this.editor.getSession().getMarkers(!0);for(var o in n)n.hasOwnProperty(o)&&this.editor.getSession().removeMarker(n[o].id);n=this.editor.getSession().getMarkers(!1);for(var o in n)n.hasOwnProperty(o)&&n[o].clazz!=="ace_active-line"&&n[o].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(n[o].id);i.forEach(function(a){var l=a.startRow,f=a.startCol,u=a.endRow,g=a.endCol,y=a.className,_=a.type,p=a.inFront,S=p===void 0?!1:p,b=new L.Range(l,f,u,g);r.editor.getSession().addMarker(b,y,_,S)})},s.prototype.updatePlaceholder=function(){var i=this.editor,r=this.props.placeholder,n=!i.session.getValue().length,o=i.renderer.placeholderNode;!n&&o?(i.renderer.scroller.removeChild(i.renderer.placeholderNode),i.renderer.placeholderNode=null):n&&!o?(o=i.renderer.placeholderNode=document.createElement("div"),o.textContent=r||"",o.className="ace_comment ace_placeholder",o.style.padding="0 9px",o.style.position="absolute",o.style.zIndex="3",i.renderer.scroller.appendChild(o)):n&&o&&(o.textContent=r)},s.prototype.updateRef=function(i){this.refEditor=i},s.prototype.render=function(){var i=this.props,r=i.name,n=i.width,o=i.height,a=i.style,l=I({width:n,height:o},a);return K.createElement("div",{ref:this.updateRef,id:r,style:l})},s.propTypes={mode:M.oneOfType([M.string,M.object]),focus:M.bool,theme:M.string,name:M.string,className:M.string,height:M.string,width:M.string,fontSize:M.oneOfType([M.number,M.string]),lineHeight:M.oneOfType([M.number,M.string]),showGutter:M.bool,onChange:M.func,onCopy:M.func,onPaste:M.func,onFocus:M.func,onInput:M.func,onBlur:M.func,onScroll:M.func,value:M.string,defaultValue:M.string,onLoad:M.func,onSelectionChange:M.func,onCursorChange:M.func,onBeforeLoad:M.func,onValidate:M.func,minLines:M.number,maxLines:M.number,readOnly:M.bool,highlightActiveLine:M.bool,tabSize:M.number,showPrintMargin:M.bool,cursorStart:M.number,debounceChangePeriod:M.number,editorProps:M.object,setOptions:M.object,style:M.object,scrollMargin:M.array,annotations:M.array,markers:M.array,keyboardHandler:M.string,wrapEnabled:M.bool,enableSnippets:M.bool,enableBasicAutocompletion:M.oneOfType([M.bool,M.array]),enableLiveAutocompletion:M.oneOfType([M.bool,M.array]),navigateToFileEnd:M.bool,commands:M.array,placeholder:M.string},s.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},s}(K.Component);return Fn.default=h,Fn}var ts={},Pn={},Fc={exports:{}},Id;function pm(){return Id||(Id=1,function(j,I){ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(L,M,K){var D=L("./lib/oop");L("./lib/lang");var x=L("./lib/event_emitter").EventEmitter,v=L("./editor").Editor,h=L("./virtual_renderer").VirtualRenderer,d=L("./edit_session").EditSession,s;s=function(i,r,n){this.BELOW=1,this.BESIDE=0,this.$container=i,this.$theme=r,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(n||1),this.$cEditor=this.$editors[0],this.on("focus",(function(o){this.$cEditor=o}).bind(this))},(function(){D.implement(this,x),this.$createEditor=function(){var i=document.createElement("div");i.className=this.$editorCSS,i.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(i);var r=new v(new h(i,this.$theme));return r.on("focus",(function(){this._emit("focus",r)}).bind(this)),this.$editors.push(r),r.setFontSize(this.$fontSize),r},this.setSplits=function(i){var r;if(i<1)throw"The number of splits have to be > 0!";if(i!=this.$splits){if(i>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<i;)r=this.$editors[this.$splits],this.$container.appendChild(r.container),r.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<i;)this.$createEditor(),this.$splits++}else for(;this.$splits>i;)r=this.$editors[this.$splits-1],this.$container.removeChild(r.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(i){return this.$editors[i]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(i){this.$editors.forEach(function(r){r.setTheme(i)})},this.setKeyboardHandler=function(i){this.$editors.forEach(function(r){r.setKeyboardHandler(i)})},this.forEach=function(i,r){this.$editors.forEach(i,r)},this.$fontSize="",this.setFontSize=function(i){this.$fontSize=i,this.forEach(function(r){r.setFontSize(i)})},this.$cloneSession=function(i){var r=new d(i.getDocument(),i.getMode()),n=i.getUndoManager();return r.setUndoManager(n),r.setTabSize(i.getTabSize()),r.setUseSoftTabs(i.getUseSoftTabs()),r.setOverwrite(i.getOverwrite()),r.setBreakpoints(i.getBreakpoints()),r.setUseWrapMode(i.getUseWrapMode()),r.setUseWorker(i.getUseWorker()),r.setWrapLimitRange(i.$wrapLimitRange.min,i.$wrapLimitRange.max),r.$foldData=i.$cloneFoldData(),r},this.setSession=function(i,r){var n;r==null?n=this.$cEditor:n=this.$editors[r];var o=this.$editors.some(function(a){return a.session===i});return o&&(i=this.$cloneSession(i)),n.setSession(i),i},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(i){this.$orientation!=i&&(this.$orientation=i,this.resize())},this.resize=function(){var i=this.$container.clientWidth,r=this.$container.clientHeight,n;if(this.$orientation==this.BESIDE)for(var o=i/this.$splits,a=0;a<this.$splits;a++)n=this.$editors[a],n.container.style.width=o+"px",n.container.style.top="0px",n.container.style.left=a*o+"px",n.container.style.height=r+"px",n.resize();else for(var l=r/this.$splits,a=0;a<this.$splits;a++)n=this.$editors[a],n.container.style.width=i+"px",n.container.style.top=a*l+"px",n.container.style.left="0px",n.container.style.height=l+"px",n.resize()}}).call(s.prototype),M.Split=s}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(L,M,K){K.exports=L("../split")}),function(){ace.require(["ace/ext/split"],function(L){j&&(j.exports=L)})}()}(Fc)),Fc.exports}var Pc,Hd;function gm(){if(Hd)return Pc;Hd=1;var j="Expected a function",I="__lodash_hash_undefined__",L="[object Function]",M="[object GeneratorFunction]",K="[object Symbol]",D=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x=/^\w*$/,v=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/[\\^$.*+?()[\]{}|]/g,s=/\\(\\)?/g,i=/^\[object .+?Constructor\]$/,r=typeof Fi=="object"&&Fi&&Fi.Object===Object&&Fi,n=typeof self=="object"&&self&&self.Object===Object&&self,o=r||n||Function("return this")();function a(ae,ve){return ae==null?void 0:ae[ve]}function l(ae){var ve=!1;if(ae!=null&&typeof ae.toString!="function")try{ve=!!(ae+"")}catch{}return ve}var f=Array.prototype,u=Function.prototype,g=Object.prototype,y=o["__core-js_shared__"],_=function(){var ae=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||"");return ae?"Symbol(src)_1."+ae:""}(),p=u.toString,S=g.hasOwnProperty,b=g.toString,w=RegExp("^"+p.call(S).replace(d,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=o.Symbol,H=f.splice,k=Pt(o,"Map"),E=Pt(Object,"create"),A=R?R.prototype:void 0,C=A?A.toString:void 0;function $(ae){var ve=-1,Me=ae?ae.length:0;for(this.clear();++ve<Me;){var Ge=ae[ve];this.set(Ge[0],Ge[1])}}function z(){this.__data__=E?E(null):{}}function F(ae){return this.has(ae)&&delete this.__data__[ae]}function N(ae){var ve=this.__data__;if(E){var Me=ve[ae];return Me===I?void 0:Me}return S.call(ve,ae)?ve[ae]:void 0}function B(ae){var ve=this.__data__;return E?ve[ae]!==void 0:S.call(ve,ae)}function P(ae,ve){var Me=this.__data__;return Me[ae]=E&&ve===void 0?I:ve,this}$.prototype.clear=z,$.prototype.delete=F,$.prototype.get=N,$.prototype.has=B,$.prototype.set=P;function V(ae){var ve=-1,Me=ae?ae.length:0;for(this.clear();++ve<Me;){var Ge=ae[ve];this.set(Ge[0],Ge[1])}}function G(){this.__data__=[]}function Y(ae){var ve=this.__data__,Me=Le(ve,ae);if(Me<0)return!1;var Ge=ve.length-1;return Me==Ge?ve.pop():H.call(ve,Me,1),!0}function q(ae){var ve=this.__data__,Me=Le(ve,ae);return Me<0?void 0:ve[Me][1]}function Z(ae){return Le(this.__data__,ae)>-1}function Q(ae,ve){var Me=this.__data__,Ge=Le(Me,ae);return Ge<0?Me.push([ae,ve]):Me[Ge][1]=ve,this}V.prototype.clear=G,V.prototype.delete=Y,V.prototype.get=q,V.prototype.has=Z,V.prototype.set=Q;function U(ae){var ve=-1,Me=ae?ae.length:0;for(this.clear();++ve<Me;){var Ge=ae[ve];this.set(Ge[0],Ge[1])}}function ie(){this.__data__={hash:new $,map:new(k||V),string:new $}}function ee(ae){return Et(this,ae).delete(ae)}function he(ae){return Et(this,ae).get(ae)}function pe(ae){return Et(this,ae).has(ae)}function be(ae,ve){return Et(this,ae).set(ae,ve),this}U.prototype.clear=ie,U.prototype.delete=ee,U.prototype.get=he,U.prototype.has=pe,U.prototype.set=be;function Le(ae,ve){for(var Me=ae.length;Me--;)if(Se(ae[Me][0],ve))return Me;return-1}function Te(ae,ve){ve=Xt(ve,ae)?[ve]:ut(ve);for(var Me=0,Ge=ve.length;ae!=null&&Me<Ge;)ae=ae[At(ve[Me++])];return Me&&Me==Ge?ae:void 0}function ze(ae){if(!je(ae)||at(ae))return!1;var ve=Re(ae)||l(ae)?w:i;return ve.test(ue(ae))}function Ee(ae){if(typeof ae=="string")return ae;if(Ve(ae))return C?C.call(ae):"";var ve=ae+"";return ve=="0"&&1/ae==-1/0?"-0":ve}function ut(ae){return De(ae)?ae:ot(ae)}function Et(ae,ve){var Me=ae.__data__;return jt(ve)?Me[typeof ve=="string"?"string":"hash"]:Me.map}function Pt(ae,ve){var Me=a(ae,ve);return ze(Me)?Me:void 0}function Xt(ae,ve){if(De(ae))return!1;var Me=typeof ae;return Me=="number"||Me=="symbol"||Me=="boolean"||ae==null||Ve(ae)?!0:x.test(ae)||!D.test(ae)||ve!=null&&ae in Object(ve)}function jt(ae){var ve=typeof ae;return ve=="string"||ve=="number"||ve=="symbol"||ve=="boolean"?ae!=="__proto__":ae===null}function at(ae){return!!_&&_ in ae}var ot=ye(function(ae){ae=Be(ae);var ve=[];return v.test(ae)&&ve.push(""),ae.replace(h,function(Me,Ge,Ri,ni){ve.push(Ri?ni.replace(s,"$1"):Ge||Me)}),ve});function At(ae){if(typeof ae=="string"||Ve(ae))return ae;var ve=ae+"";return ve=="0"&&1/ae==-1/0?"-0":ve}function ue(ae){if(ae!=null){try{return p.call(ae)}catch{}try{return ae+""}catch{}}return""}function ye(ae,ve){if(typeof ae!="function"||ve&&typeof ve!="function")throw new TypeError(j);var Me=function(){var Ge=arguments,Ri=ve?ve.apply(this,Ge):Ge[0],ni=Me.cache;if(ni.has(Ri))return ni.get(Ri);var Wi=ae.apply(this,Ge);return Me.cache=ni.set(Ri,Wi),Wi};return Me.cache=new(ye.Cache||U),Me}ye.Cache=U;function Se(ae,ve){return ae===ve||ae!==ae&&ve!==ve}var De=Array.isArray;function Re(ae){var ve=je(ae)?b.call(ae):"";return ve==L||ve==M}function je(ae){var ve=typeof ae;return!!ae&&(ve=="object"||ve=="function")}function ke(ae){return!!ae&&typeof ae=="object"}function Ve(ae){return typeof ae=="symbol"||ke(ae)&&b.call(ae)==K}function Be(ae){return ae==null?"":Ee(ae)}function Pe(ae,ve,Me){var Ge=ae==null?void 0:Te(ae,ve);return Ge===void 0?Me:Ge}return Pc=Pe,Pc}var zd;function cp(){if(zd)return Pn;zd=1;var j=Pn&&Pn.__extends||function(){var i=function(r,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])},i(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");i(r,n);function o(){this.constructor=r}r.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),I=Pn&&Pn.__assign||function(){return I=Object.assign||function(i){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])}return i},I.apply(this,arguments)};Object.defineProperty(Pn,"__esModule",{value:!0});var L=lp(),M=(0,L.getAceInstance)(),K=Aa(),D=pm(),x=nh(),v=is(),h=ap(),d=gm(),s=function(i){j(r,i);function r(n){var o=i.call(this,n)||this;return L.editorEvents.forEach(function(a){o[a]=o[a].bind(o)}),o.debounce=L.debounce,o}return r.prototype.isInShadow=function(n){for(var o=n&&n.parentNode;o;){if(o.toString()==="[object ShadowRoot]")return!0;o=o.parentNode}return!1},r.prototype.componentDidMount=function(){var n=this,o=this.props,a=o.className,l=o.onBeforeLoad,f=o.mode,u=o.focus,g=o.theme,y=o.fontSize,_=o.value,p=o.defaultValue,S=o.cursorStart,b=o.showGutter,w=o.wrapEnabled,R=o.showPrintMargin,H=o.scrollMargin,k=H===void 0?[0,0,0,0]:H,E=o.keyboardHandler,A=o.onLoad,C=o.commands,$=o.annotations,z=o.markers,F=o.splits;this.editor=M.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(g)),l&&l(M);var N=Object.keys(this.props.editorProps),B=new D.Split(this.editor.container,"ace/theme/".concat(g),F);this.editor.env.split=B,this.splitEditor=B.getEditor(0),this.split=B,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var P=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),B.forEach(function(G,Y){for(var q=0;q<N.length;q++)G[N[q]]=n.props.editorProps[N[q]];var Z=d(p,Y),Q=d(_,Y,"");G.session.setUndoManager(new M.UndoManager),G.setTheme("ace/theme/".concat(g)),G.renderer.setScrollMargin(k[0],k[1],k[2],k[3]),G.getSession().setMode("ace/mode/".concat(f)),G.setFontSize(y),G.renderer.setShowGutter(b),G.getSession().setUseWrapMode(w),G.setShowPrintMargin(R),G.on("focus",n.onFocus),G.on("blur",n.onBlur),G.on("input",n.onInput),G.on("copy",n.onCopy),G.on("paste",n.onPaste),G.on("change",n.onChange),G.getSession().selection.on("changeSelection",n.onSelectionChange),G.getSession().selection.on("changeCursor",n.onCursorChange),G.session.on("changeScrollTop",n.onScroll),G.setValue(Z===void 0?Q:Z,S);var U=d($,Y,[]),ie=d(z,Y,[]);G.getSession().setAnnotations(U),ie&&ie.length>0&&n.handleMarkers(ie,G);for(var q=0;q<L.editorOptions.length;q++){var ee=L.editorOptions[q];P.hasOwnProperty(ee)?G.setOption(ee,n.props[ee]):n.props[ee]&&console.warn("ReaceAce: editor option ".concat(ee," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}n.handleOptions(n.props,G),Array.isArray(C)&&C.forEach(function(he){typeof he.exec=="string"?G.commands.bindKey(he.bindKey,he.exec):G.commands.addCommand(he)}),E&&G.setKeyboardHandler("ace/keyboard/"+E)}),a&&(this.refEditor.className+=" "+a),u&&this.splitEditor.focus();var V=this.editor.env.split;V.setOrientation(this.props.orientation==="below"?V.BELOW:V.BESIDE),V.resize(!0),A&&A(V)},r.prototype.componentDidUpdate=function(n){var o=this,a=n,l=this.props,f=this.editor.env.split;if(l.splits!==a.splits&&f.setSplits(l.splits),l.orientation!==a.orientation&&f.setOrientation(l.orientation==="below"?f.BELOW:f.BESIDE),f.forEach(function(_,p){l.mode!==a.mode&&_.getSession().setMode("ace/mode/"+l.mode),l.keyboardHandler!==a.keyboardHandler&&(l.keyboardHandler?_.setKeyboardHandler("ace/keyboard/"+l.keyboardHandler):_.setKeyboardHandler(null)),l.fontSize!==a.fontSize&&_.setFontSize(l.fontSize),l.wrapEnabled!==a.wrapEnabled&&_.getSession().setUseWrapMode(l.wrapEnabled),l.showPrintMargin!==a.showPrintMargin&&_.setShowPrintMargin(l.showPrintMargin),l.showGutter!==a.showGutter&&_.renderer.setShowGutter(l.showGutter);for(var S=0;S<L.editorOptions.length;S++){var b=L.editorOptions[S];l[b]!==a[b]&&_.setOption(b,l[b])}h(l.setOptions,a.setOptions)||o.handleOptions(l,_);var w=d(l.value,p,"");if(_.getValue()!==w){o.silent=!0;var R=_.session.selection.toJSON();_.setValue(w,l.cursorStart),_.session.selection.fromJSON(R),o.silent=!1}var H=d(l.annotations,p,[]),k=d(a.annotations,p,[]);h(H,k)||_.getSession().setAnnotations(H);var E=d(l.markers,p,[]),A=d(a.markers,p,[]);!h(E,A)&&Array.isArray(E)&&o.handleMarkers(E,_)}),l.className!==a.className){var u=this.refEditor.className,g=u.trim().split(" "),y=a.className.trim().split(" ");y.forEach(function(_){var p=g.indexOf(_);g.splice(p,1)}),this.refEditor.className=" "+l.className+" "+g.join(" ")}l.theme!==a.theme&&f.setTheme("ace/theme/"+l.theme),l.focus&&!a.focus&&this.splitEditor.focus(),(l.height!==this.props.height||l.width!==this.props.width)&&this.editor.resize()},r.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},r.prototype.onChange=function(n){if(this.props.onChange&&!this.silent){var o=[];this.editor.env.split.forEach(function(a){o.push(a.getValue())}),this.props.onChange(o,n)}},r.prototype.onSelectionChange=function(n){if(this.props.onSelectionChange){var o=[];this.editor.env.split.forEach(function(a){o.push(a.getSelection())}),this.props.onSelectionChange(o,n)}},r.prototype.onCursorChange=function(n){if(this.props.onCursorChange){var o=[];this.editor.env.split.forEach(function(a){o.push(a.getSelection())}),this.props.onCursorChange(o,n)}},r.prototype.onFocus=function(n){this.props.onFocus&&this.props.onFocus(n)},r.prototype.onInput=function(n){this.props.onInput&&this.props.onInput(n)},r.prototype.onBlur=function(n){this.props.onBlur&&this.props.onBlur(n)},r.prototype.onCopy=function(n){this.props.onCopy&&this.props.onCopy(n)},r.prototype.onPaste=function(n){this.props.onPaste&&this.props.onPaste(n)},r.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},r.prototype.handleOptions=function(n,o){for(var a=Object.keys(n.setOptions),l=0;l<a.length;l++)o.setOption(a[l],n.setOptions[a[l]])},r.prototype.handleMarkers=function(n,o){var a=o.getSession().getMarkers(!0);for(var l in a)a.hasOwnProperty(l)&&o.getSession().removeMarker(a[l].id);a=o.getSession().getMarkers(!1);for(var l in a)a.hasOwnProperty(l)&&o.getSession().removeMarker(a[l].id);n.forEach(function(f){var u=f.startRow,g=f.startCol,y=f.endRow,_=f.endCol,p=f.className,S=f.type,b=f.inFront,w=b===void 0?!1:b,R=new K.Range(u,g,y,_);o.getSession().addMarker(R,p,S,w)})},r.prototype.updateRef=function(n){this.refEditor=n},r.prototype.render=function(){var n=this.props,o=n.name,a=n.width,l=n.height,f=n.style,u=I({width:a,height:l},f);return v.createElement("div",{ref:this.updateRef,id:o,style:u})},r.propTypes={className:x.string,debounceChangePeriod:x.number,defaultValue:x.arrayOf(x.string),focus:x.bool,fontSize:x.oneOfType([x.number,x.string]),height:x.string,mode:x.string,name:x.string,onBlur:x.func,onChange:x.func,onCopy:x.func,onFocus:x.func,onInput:x.func,onLoad:x.func,onPaste:x.func,onScroll:x.func,orientation:x.string,showGutter:x.bool,splits:x.number,theme:x.string,value:x.arrayOf(x.string),width:x.string,onSelectionChange:x.func,onCursorChange:x.func,onBeforeLoad:x.func,minLines:x.number,maxLines:x.number,readOnly:x.bool,highlightActiveLine:x.bool,tabSize:x.number,showPrintMargin:x.bool,cursorStart:x.number,editorProps:x.object,setOptions:x.object,style:x.object,scrollMargin:x.array,annotations:x.array,markers:x.array,keyboardHandler:x.string,wrapEnabled:x.bool,enableBasicAutocompletion:x.oneOfType([x.bool,x.array]),enableLiveAutocompletion:x.oneOfType([x.bool,x.array]),commands:x.array},r.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},r}(v.Component);return Pn.default=s,Pn}var Uc={exports:{}},Fd;function vm(){return Fd||(Fd=1,function(j){var I=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},L=-1,M=1,K=0;I.Diff=function(D,x){return[D,x]},I.prototype.diff_main=function(D,x,v,h){typeof h>"u"&&(this.Diff_Timeout<=0?h=Number.MAX_VALUE:h=new Date().getTime()+this.Diff_Timeout*1e3);var d=h;if(D==null||x==null)throw new Error("Null input. (diff_main)");if(D==x)return D?[new I.Diff(K,D)]:[];typeof v>"u"&&(v=!0);var s=v,i=this.diff_commonPrefix(D,x),r=D.substring(0,i);D=D.substring(i),x=x.substring(i),i=this.diff_commonSuffix(D,x);var n=D.substring(D.length-i);D=D.substring(0,D.length-i),x=x.substring(0,x.length-i);var o=this.diff_compute_(D,x,s,d);return r&&o.unshift(new I.Diff(K,r)),n&&o.push(new I.Diff(K,n)),this.diff_cleanupMerge(o),o},I.prototype.diff_compute_=function(D,x,v,h){var d;if(!D)return[new I.Diff(M,x)];if(!x)return[new I.Diff(L,D)];var s=D.length>x.length?D:x,i=D.length>x.length?x:D,r=s.indexOf(i);if(r!=-1)return d=[new I.Diff(M,s.substring(0,r)),new I.Diff(K,i),new I.Diff(M,s.substring(r+i.length))],D.length>x.length&&(d[0][0]=d[2][0]=L),d;if(i.length==1)return[new I.Diff(L,D),new I.Diff(M,x)];var n=this.diff_halfMatch_(D,x);if(n){var o=n[0],a=n[1],l=n[2],f=n[3],u=n[4],g=this.diff_main(o,l,v,h),y=this.diff_main(a,f,v,h);return g.concat([new I.Diff(K,u)],y)}return v&&D.length>100&&x.length>100?this.diff_lineMode_(D,x,h):this.diff_bisect_(D,x,h)},I.prototype.diff_lineMode_=function(D,x,v){var h=this.diff_linesToChars_(D,x);D=h.chars1,x=h.chars2;var d=h.lineArray,s=this.diff_main(D,x,!1,v);this.diff_charsToLines_(s,d),this.diff_cleanupSemantic(s),s.push(new I.Diff(K,""));for(var i=0,r=0,n=0,o="",a="";i<s.length;){switch(s[i][0]){case M:n++,a+=s[i][1];break;case L:r++,o+=s[i][1];break;case K:if(r>=1&&n>=1){s.splice(i-r-n,r+n),i=i-r-n;for(var l=this.diff_main(o,a,!1,v),f=l.length-1;f>=0;f--)s.splice(i,0,l[f]);i=i+l.length}n=0,r=0,o="",a="";break}i++}return s.pop(),s},I.prototype.diff_bisect_=function(D,x,v){for(var h=D.length,d=x.length,s=Math.ceil((h+d)/2),i=s,r=2*s,n=new Array(r),o=new Array(r),a=0;a<r;a++)n[a]=-1,o[a]=-1;n[i+1]=0,o[i+1]=0;for(var l=h-d,f=l%2!=0,u=0,g=0,y=0,_=0,p=0;p<s&&!(new Date().getTime()>v);p++){for(var S=-p+u;S<=p-g;S+=2){var b=i+S,w;S==-p||S!=p&&n[b-1]<n[b+1]?w=n[b+1]:w=n[b-1]+1;for(var R=w-S;w<h&&R<d&&D.charAt(w)==x.charAt(R);)w++,R++;if(n[b]=w,w>h)g+=2;else if(R>d)u+=2;else if(f){var H=i+l-S;if(H>=0&&H<r&&o[H]!=-1){var k=h-o[H];if(w>=k)return this.diff_bisectSplit_(D,x,w,R,v)}}}for(var E=-p+y;E<=p-_;E+=2){var H=i+E,k;E==-p||E!=p&&o[H-1]<o[H+1]?k=o[H+1]:k=o[H-1]+1;for(var A=k-E;k<h&&A<d&&D.charAt(h-k-1)==x.charAt(d-A-1);)k++,A++;if(o[H]=k,k>h)_+=2;else if(A>d)y+=2;else if(!f){var b=i+l-E;if(b>=0&&b<r&&n[b]!=-1){var w=n[b],R=i+w-b;if(k=h-k,w>=k)return this.diff_bisectSplit_(D,x,w,R,v)}}}}return[new I.Diff(L,D),new I.Diff(M,x)]},I.prototype.diff_bisectSplit_=function(D,x,v,h,d){var s=D.substring(0,v),i=x.substring(0,h),r=D.substring(v),n=x.substring(h),o=this.diff_main(s,i,!1,d),a=this.diff_main(r,n,!1,d);return o.concat(a)},I.prototype.diff_linesToChars_=function(D,x){var v=[],h={};v[0]="";function d(n){for(var o="",a=0,l=-1,f=v.length;l<n.length-1;){l=n.indexOf(`
`,a),l==-1&&(l=n.length-1);var u=n.substring(a,l+1);(h.hasOwnProperty?h.hasOwnProperty(u):h[u]!==void 0)?o+=String.fromCharCode(h[u]):(f==s&&(u=n.substring(a),l=n.length),o+=String.fromCharCode(f),h[u]=f,v[f++]=u),a=l+1}return o}var s=4e4,i=d(D);s=65535;var r=d(x);return{chars1:i,chars2:r,lineArray:v}},I.prototype.diff_charsToLines_=function(D,x){for(var v=0;v<D.length;v++){for(var h=D[v][1],d=[],s=0;s<h.length;s++)d[s]=x[h.charCodeAt(s)];D[v][1]=d.join("")}},I.prototype.diff_commonPrefix=function(D,x){if(!D||!x||D.charAt(0)!=x.charAt(0))return 0;for(var v=0,h=Math.min(D.length,x.length),d=h,s=0;v<d;)D.substring(s,d)==x.substring(s,d)?(v=d,s=v):h=d,d=Math.floor((h-v)/2+v);return d},I.prototype.diff_commonSuffix=function(D,x){if(!D||!x||D.charAt(D.length-1)!=x.charAt(x.length-1))return 0;for(var v=0,h=Math.min(D.length,x.length),d=h,s=0;v<d;)D.substring(D.length-d,D.length-s)==x.substring(x.length-d,x.length-s)?(v=d,s=v):h=d,d=Math.floor((h-v)/2+v);return d},I.prototype.diff_commonOverlap_=function(D,x){var v=D.length,h=x.length;if(v==0||h==0)return 0;v>h?D=D.substring(v-h):v<h&&(x=x.substring(0,v));var d=Math.min(v,h);if(D==x)return d;for(var s=0,i=1;;){var r=D.substring(d-i),n=x.indexOf(r);if(n==-1)return s;i+=n,(n==0||D.substring(d-i)==x.substring(0,i))&&(s=i,i++)}},I.prototype.diff_halfMatch_=function(D,x){if(this.Diff_Timeout<=0)return null;var v=D.length>x.length?D:x,h=D.length>x.length?x:D;if(v.length<4||h.length*2<v.length)return null;var d=this;function s(g,y,_){for(var p=g.substring(_,_+Math.floor(g.length/4)),S=-1,b="",w,R,H,k;(S=y.indexOf(p,S+1))!=-1;){var E=d.diff_commonPrefix(g.substring(_),y.substring(S)),A=d.diff_commonSuffix(g.substring(0,_),y.substring(0,S));b.length<A+E&&(b=y.substring(S-A,S)+y.substring(S,S+E),w=g.substring(0,_-A),R=g.substring(_+E),H=y.substring(0,S-A),k=y.substring(S+E))}return b.length*2>=g.length?[w,R,H,k,b]:null}var i=s(v,h,Math.ceil(v.length/4)),r=s(v,h,Math.ceil(v.length/2)),n;if(!i&&!r)return null;r?i?n=i[4].length>r[4].length?i:r:n=r:n=i;var o,a,l,f;D.length>x.length?(o=n[0],a=n[1],l=n[2],f=n[3]):(l=n[0],f=n[1],o=n[2],a=n[3]);var u=n[4];return[o,a,l,f,u]},I.prototype.diff_cleanupSemantic=function(D){for(var x=!1,v=[],h=0,d=null,s=0,i=0,r=0,n=0,o=0;s<D.length;)D[s][0]==K?(v[h++]=s,i=n,r=o,n=0,o=0,d=D[s][1]):(D[s][0]==M?n+=D[s][1].length:o+=D[s][1].length,d&&d.length<=Math.max(i,r)&&d.length<=Math.max(n,o)&&(D.splice(v[h-1],0,new I.Diff(L,d)),D[v[h-1]+1][0]=M,h--,h--,s=h>0?v[h-1]:-1,i=0,r=0,n=0,o=0,d=null,x=!0)),s++;for(x&&this.diff_cleanupMerge(D),this.diff_cleanupSemanticLossless(D),s=1;s<D.length;){if(D[s-1][0]==L&&D[s][0]==M){var a=D[s-1][1],l=D[s][1],f=this.diff_commonOverlap_(a,l),u=this.diff_commonOverlap_(l,a);f>=u?(f>=a.length/2||f>=l.length/2)&&(D.splice(s,0,new I.Diff(K,l.substring(0,f))),D[s-1][1]=a.substring(0,a.length-f),D[s+1][1]=l.substring(f),s++):(u>=a.length/2||u>=l.length/2)&&(D.splice(s,0,new I.Diff(K,a.substring(0,u))),D[s-1][0]=M,D[s-1][1]=l.substring(0,l.length-u),D[s+1][0]=L,D[s+1][1]=a.substring(u),s++),s++}s++}},I.prototype.diff_cleanupSemanticLossless=function(D){function x(u,g){if(!u||!g)return 6;var y=u.charAt(u.length-1),_=g.charAt(0),p=y.match(I.nonAlphaNumericRegex_),S=_.match(I.nonAlphaNumericRegex_),b=p&&y.match(I.whitespaceRegex_),w=S&&_.match(I.whitespaceRegex_),R=b&&y.match(I.linebreakRegex_),H=w&&_.match(I.linebreakRegex_),k=R&&u.match(I.blanklineEndRegex_),E=H&&g.match(I.blanklineStartRegex_);return k||E?5:R||H?4:p&&!b&&w?3:b||w?2:p||S?1:0}for(var v=1;v<D.length-1;){if(D[v-1][0]==K&&D[v+1][0]==K){var h=D[v-1][1],d=D[v][1],s=D[v+1][1],i=this.diff_commonSuffix(h,d);if(i){var r=d.substring(d.length-i);h=h.substring(0,h.length-i),d=r+d.substring(0,d.length-i),s=r+s}for(var n=h,o=d,a=s,l=x(h,d)+x(d,s);d.charAt(0)===s.charAt(0);){h+=d.charAt(0),d=d.substring(1)+s.charAt(0),s=s.substring(1);var f=x(h,d)+x(d,s);f>=l&&(l=f,n=h,o=d,a=s)}D[v-1][1]!=n&&(n?D[v-1][1]=n:(D.splice(v-1,1),v--),D[v][1]=o,a?D[v+1][1]=a:(D.splice(v+1,1),v--))}v++}},I.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,I.whitespaceRegex_=/\s/,I.linebreakRegex_=/[\r\n]/,I.blanklineEndRegex_=/\n\r?\n$/,I.blanklineStartRegex_=/^\r?\n\r?\n/,I.prototype.diff_cleanupEfficiency=function(D){for(var x=!1,v=[],h=0,d=null,s=0,i=!1,r=!1,n=!1,o=!1;s<D.length;)D[s][0]==K?(D[s][1].length<this.Diff_EditCost&&(n||o)?(v[h++]=s,i=n,r=o,d=D[s][1]):(h=0,d=null),n=o=!1):(D[s][0]==L?o=!0:n=!0,d&&(i&&r&&n&&o||d.length<this.Diff_EditCost/2&&i+r+n+o==3)&&(D.splice(v[h-1],0,new I.Diff(L,d)),D[v[h-1]+1][0]=M,h--,d=null,i&&r?(n=o=!0,h=0):(h--,s=h>0?v[h-1]:-1,n=o=!1),x=!0)),s++;x&&this.diff_cleanupMerge(D)},I.prototype.diff_cleanupMerge=function(D){D.push(new I.Diff(K,""));for(var x=0,v=0,h=0,d="",s="",i;x<D.length;)switch(D[x][0]){case M:h++,s+=D[x][1],x++;break;case L:v++,d+=D[x][1],x++;break;case K:v+h>1?(v!==0&&h!==0&&(i=this.diff_commonPrefix(s,d),i!==0&&(x-v-h>0&&D[x-v-h-1][0]==K?D[x-v-h-1][1]+=s.substring(0,i):(D.splice(0,0,new I.Diff(K,s.substring(0,i))),x++),s=s.substring(i),d=d.substring(i)),i=this.diff_commonSuffix(s,d),i!==0&&(D[x][1]=s.substring(s.length-i)+D[x][1],s=s.substring(0,s.length-i),d=d.substring(0,d.length-i))),x-=v+h,D.splice(x,v+h),d.length&&(D.splice(x,0,new I.Diff(L,d)),x++),s.length&&(D.splice(x,0,new I.Diff(M,s)),x++),x++):x!==0&&D[x-1][0]==K?(D[x-1][1]+=D[x][1],D.splice(x,1)):x++,h=0,v=0,d="",s="";break}D[D.length-1][1]===""&&D.pop();var r=!1;for(x=1;x<D.length-1;)D[x-1][0]==K&&D[x+1][0]==K&&(D[x][1].substring(D[x][1].length-D[x-1][1].length)==D[x-1][1]?(D[x][1]=D[x-1][1]+D[x][1].substring(0,D[x][1].length-D[x-1][1].length),D[x+1][1]=D[x-1][1]+D[x+1][1],D.splice(x-1,1),r=!0):D[x][1].substring(0,D[x+1][1].length)==D[x+1][1]&&(D[x-1][1]+=D[x+1][1],D[x][1]=D[x][1].substring(D[x+1][1].length)+D[x+1][1],D.splice(x+1,1),r=!0)),x++;r&&this.diff_cleanupMerge(D)},I.prototype.diff_xIndex=function(D,x){var v=0,h=0,d=0,s=0,i;for(i=0;i<D.length&&(D[i][0]!==M&&(v+=D[i][1].length),D[i][0]!==L&&(h+=D[i][1].length),!(v>x));i++)d=v,s=h;return D.length!=i&&D[i][0]===L?s:s+(x-d)},I.prototype.diff_prettyHtml=function(D){for(var x=[],v=/&/g,h=/</g,d=/>/g,s=/\n/g,i=0;i<D.length;i++){var r=D[i][0],n=D[i][1],o=n.replace(v,"&amp;").replace(h,"&lt;").replace(d,"&gt;").replace(s,"&para;<br>");switch(r){case M:x[i]='<ins style="background:#e6ffe6;">'+o+"</ins>";break;case L:x[i]='<del style="background:#ffe6e6;">'+o+"</del>";break;case K:x[i]="<span>"+o+"</span>";break}}return x.join("")},I.prototype.diff_text1=function(D){for(var x=[],v=0;v<D.length;v++)D[v][0]!==M&&(x[v]=D[v][1]);return x.join("")},I.prototype.diff_text2=function(D){for(var x=[],v=0;v<D.length;v++)D[v][0]!==L&&(x[v]=D[v][1]);return x.join("")},I.prototype.diff_levenshtein=function(D){for(var x=0,v=0,h=0,d=0;d<D.length;d++){var s=D[d][0],i=D[d][1];switch(s){case M:v+=i.length;break;case L:h+=i.length;break;case K:x+=Math.max(v,h),v=0,h=0;break}}return x+=Math.max(v,h),x},I.prototype.diff_toDelta=function(D){for(var x=[],v=0;v<D.length;v++)switch(D[v][0]){case M:x[v]="+"+encodeURI(D[v][1]);break;case L:x[v]="-"+D[v][1].length;break;case K:x[v]="="+D[v][1].length;break}return x.join("	").replace(/%20/g," ")},I.prototype.diff_fromDelta=function(D,x){for(var v=[],h=0,d=0,s=x.split(/\t/g),i=0;i<s.length;i++){var r=s[i].substring(1);switch(s[i].charAt(0)){case"+":try{v[h++]=new I.Diff(M,decodeURI(r))}catch{throw new Error("Illegal escape in diff_fromDelta: "+r)}break;case"-":case"=":var n=parseInt(r,10);if(isNaN(n)||n<0)throw new Error("Invalid number in diff_fromDelta: "+r);var o=D.substring(d,d+=n);s[i].charAt(0)=="="?v[h++]=new I.Diff(K,o):v[h++]=new I.Diff(L,o);break;default:if(s[i])throw new Error("Invalid diff operation in diff_fromDelta: "+s[i])}}if(d!=D.length)throw new Error("Delta length ("+d+") does not equal source text length ("+D.length+").");return v},I.prototype.match_main=function(D,x,v){if(D==null||x==null||v==null)throw new Error("Null input. (match_main)");return v=Math.max(0,Math.min(v,D.length)),D==x?0:D.length?D.substring(v,v+x.length)==x?v:this.match_bitap_(D,x,v):-1},I.prototype.match_bitap_=function(D,x,v){if(x.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var h=this.match_alphabet_(x),d=this;function s(w,R){var H=w/x.length,k=Math.abs(v-R);return d.Match_Distance?H+k/d.Match_Distance:k?1:H}var i=this.Match_Threshold,r=D.indexOf(x,v);r!=-1&&(i=Math.min(s(0,r),i),r=D.lastIndexOf(x,v+x.length),r!=-1&&(i=Math.min(s(0,r),i)));var n=1<<x.length-1;r=-1;for(var o,a,l=x.length+D.length,f,u=0;u<x.length;u++){for(o=0,a=l;o<a;)s(u,v+a)<=i?o=a:l=a,a=Math.floor((l-o)/2+o);l=a;var g=Math.max(1,v-a+1),y=Math.min(v+a,D.length)+x.length,_=Array(y+2);_[y+1]=(1<<u)-1;for(var p=y;p>=g;p--){var S=h[D.charAt(p-1)];if(u===0?_[p]=(_[p+1]<<1|1)&S:_[p]=(_[p+1]<<1|1)&S|((f[p+1]|f[p])<<1|1)|f[p+1],_[p]&n){var b=s(u,p-1);if(b<=i)if(i=b,r=p-1,r>v)g=Math.max(1,2*v-r);else break}}if(s(u+1,v)>i)break;f=_}return r},I.prototype.match_alphabet_=function(D){for(var x={},v=0;v<D.length;v++)x[D.charAt(v)]=0;for(var v=0;v<D.length;v++)x[D.charAt(v)]|=1<<D.length-v-1;return x},I.prototype.patch_addContext_=function(D,x){if(x.length!=0){if(D.start2===null)throw Error("patch not initialized");for(var v=x.substring(D.start2,D.start2+D.length1),h=0;x.indexOf(v)!=x.lastIndexOf(v)&&v.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)h+=this.Patch_Margin,v=x.substring(D.start2-h,D.start2+D.length1+h);h+=this.Patch_Margin;var d=x.substring(D.start2-h,D.start2);d&&D.diffs.unshift(new I.Diff(K,d));var s=x.substring(D.start2+D.length1,D.start2+D.length1+h);s&&D.diffs.push(new I.Diff(K,s)),D.start1-=d.length,D.start2-=d.length,D.length1+=d.length+s.length,D.length2+=d.length+s.length}},I.prototype.patch_make=function(D,x,v){var h,d;if(typeof D=="string"&&typeof x=="string"&&typeof v>"u")h=D,d=this.diff_main(h,x,!0),d.length>2&&(this.diff_cleanupSemantic(d),this.diff_cleanupEfficiency(d));else if(D&&typeof D=="object"&&typeof x>"u"&&typeof v>"u")d=D,h=this.diff_text1(d);else if(typeof D=="string"&&x&&typeof x=="object"&&typeof v>"u")h=D,d=x;else if(typeof D=="string"&&typeof x=="string"&&v&&typeof v=="object")h=D,d=v;else throw new Error("Unknown call format to patch_make.");if(d.length===0)return[];for(var s=[],i=new I.patch_obj,r=0,n=0,o=0,a=h,l=h,f=0;f<d.length;f++){var u=d[f][0],g=d[f][1];switch(!r&&u!==K&&(i.start1=n,i.start2=o),u){case M:i.diffs[r++]=d[f],i.length2+=g.length,l=l.substring(0,o)+g+l.substring(o);break;case L:i.length1+=g.length,i.diffs[r++]=d[f],l=l.substring(0,o)+l.substring(o+g.length);break;case K:g.length<=2*this.Patch_Margin&&r&&d.length!=f+1?(i.diffs[r++]=d[f],i.length1+=g.length,i.length2+=g.length):g.length>=2*this.Patch_Margin&&r&&(this.patch_addContext_(i,a),s.push(i),i=new I.patch_obj,r=0,a=l,n=o);break}u!==M&&(n+=g.length),u!==L&&(o+=g.length)}return r&&(this.patch_addContext_(i,a),s.push(i)),s},I.prototype.patch_deepCopy=function(D){for(var x=[],v=0;v<D.length;v++){var h=D[v],d=new I.patch_obj;d.diffs=[];for(var s=0;s<h.diffs.length;s++)d.diffs[s]=new I.Diff(h.diffs[s][0],h.diffs[s][1]);d.start1=h.start1,d.start2=h.start2,d.length1=h.length1,d.length2=h.length2,x[v]=d}return x},I.prototype.patch_apply=function(D,x){if(D.length==0)return[x,[]];D=this.patch_deepCopy(D);var v=this.patch_addPadding(D);x=v+x+v,this.patch_splitMax(D);for(var h=0,d=[],s=0;s<D.length;s++){var i=D[s].start2+h,r=this.diff_text1(D[s].diffs),n,o=-1;if(r.length>this.Match_MaxBits?(n=this.match_main(x,r.substring(0,this.Match_MaxBits),i),n!=-1&&(o=this.match_main(x,r.substring(r.length-this.Match_MaxBits),i+r.length-this.Match_MaxBits),(o==-1||n>=o)&&(n=-1))):n=this.match_main(x,r,i),n==-1)d[s]=!1,h-=D[s].length2-D[s].length1;else{d[s]=!0,h=n-i;var a;if(o==-1?a=x.substring(n,n+r.length):a=x.substring(n,o+this.Match_MaxBits),r==a)x=x.substring(0,n)+this.diff_text2(D[s].diffs)+x.substring(n+r.length);else{var l=this.diff_main(r,a,!1);if(r.length>this.Match_MaxBits&&this.diff_levenshtein(l)/r.length>this.Patch_DeleteThreshold)d[s]=!1;else{this.diff_cleanupSemanticLossless(l);for(var f=0,u,g=0;g<D[s].diffs.length;g++){var y=D[s].diffs[g];y[0]!==K&&(u=this.diff_xIndex(l,f)),y[0]===M?x=x.substring(0,n+u)+y[1]+x.substring(n+u):y[0]===L&&(x=x.substring(0,n+u)+x.substring(n+this.diff_xIndex(l,f+y[1].length))),y[0]!==L&&(f+=y[1].length)}}}}}return x=x.substring(v.length,x.length-v.length),[x,d]},I.prototype.patch_addPadding=function(D){for(var x=this.Patch_Margin,v="",h=1;h<=x;h++)v+=String.fromCharCode(h);for(var h=0;h<D.length;h++)D[h].start1+=x,D[h].start2+=x;var d=D[0],s=d.diffs;if(s.length==0||s[0][0]!=K)s.unshift(new I.Diff(K,v)),d.start1-=x,d.start2-=x,d.length1+=x,d.length2+=x;else if(x>s[0][1].length){var i=x-s[0][1].length;s[0][1]=v.substring(s[0][1].length)+s[0][1],d.start1-=i,d.start2-=i,d.length1+=i,d.length2+=i}if(d=D[D.length-1],s=d.diffs,s.length==0||s[s.length-1][0]!=K)s.push(new I.Diff(K,v)),d.length1+=x,d.length2+=x;else if(x>s[s.length-1][1].length){var i=x-s[s.length-1][1].length;s[s.length-1][1]+=v.substring(0,i),d.length1+=i,d.length2+=i}return v},I.prototype.patch_splitMax=function(D){for(var x=this.Match_MaxBits,v=0;v<D.length;v++)if(!(D[v].length1<=x)){var h=D[v];D.splice(v--,1);for(var d=h.start1,s=h.start2,i="";h.diffs.length!==0;){var r=new I.patch_obj,n=!0;for(r.start1=d-i.length,r.start2=s-i.length,i!==""&&(r.length1=r.length2=i.length,r.diffs.push(new I.Diff(K,i)));h.diffs.length!==0&&r.length1<x-this.Patch_Margin;){var o=h.diffs[0][0],a=h.diffs[0][1];o===M?(r.length2+=a.length,s+=a.length,r.diffs.push(h.diffs.shift()),n=!1):o===L&&r.diffs.length==1&&r.diffs[0][0]==K&&a.length>2*x?(r.length1+=a.length,d+=a.length,n=!1,r.diffs.push(new I.Diff(o,a)),h.diffs.shift()):(a=a.substring(0,x-r.length1-this.Patch_Margin),r.length1+=a.length,d+=a.length,o===K?(r.length2+=a.length,s+=a.length):n=!1,r.diffs.push(new I.Diff(o,a)),a==h.diffs[0][1]?h.diffs.shift():h.diffs[0][1]=h.diffs[0][1].substring(a.length))}i=this.diff_text2(r.diffs),i=i.substring(i.length-this.Patch_Margin);var l=this.diff_text1(h.diffs).substring(0,this.Patch_Margin);l!==""&&(r.length1+=l.length,r.length2+=l.length,r.diffs.length!==0&&r.diffs[r.diffs.length-1][0]===K?r.diffs[r.diffs.length-1][1]+=l:r.diffs.push(new I.Diff(K,l))),n||D.splice(++v,0,r)}}},I.prototype.patch_toText=function(D){for(var x=[],v=0;v<D.length;v++)x[v]=D[v];return x.join("")},I.prototype.patch_fromText=function(D){var x=[];if(!D)return x;for(var v=D.split(`
`),h=0,d=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;h<v.length;){var s=v[h].match(d);if(!s)throw new Error("Invalid patch string: "+v[h]);var i=new I.patch_obj;for(x.push(i),i.start1=parseInt(s[1],10),s[2]===""?(i.start1--,i.length1=1):s[2]=="0"?i.length1=0:(i.start1--,i.length1=parseInt(s[2],10)),i.start2=parseInt(s[3],10),s[4]===""?(i.start2--,i.length2=1):s[4]=="0"?i.length2=0:(i.start2--,i.length2=parseInt(s[4],10)),h++;h<v.length;){var r=v[h].charAt(0);try{var n=decodeURI(v[h].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+n)}if(r=="-")i.diffs.push(new I.Diff(L,n));else if(r=="+")i.diffs.push(new I.Diff(M,n));else if(r==" ")i.diffs.push(new I.Diff(K,n));else{if(r=="@")break;if(r!=="")throw new Error('Invalid patch mode "'+r+'" in: '+n)}h++}}return x},I.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},I.patch_obj.prototype.toString=function(){var D,x;this.length1===0?D=this.start1+",0":this.length1==1?D=this.start1+1:D=this.start1+1+","+this.length1,this.length2===0?x=this.start2+",0":this.length2==1?x=this.start2+1:x=this.start2+1+","+this.length2;for(var v=["@@ -"+D+" +"+x+` @@
`],h,d=0;d<this.diffs.length;d++){switch(this.diffs[d][0]){case M:h="+";break;case L:h="-";break;case K:h=" ";break}v[d+1]=h+encodeURI(this.diffs[d][1])+`
`}return v.join("").replace(/%20/g," ")},j.exports=I,j.exports.diff_match_patch=I,j.exports.DIFF_DELETE=L,j.exports.DIFF_INSERT=M,j.exports.DIFF_EQUAL=K}(Uc)),Uc.exports}var Pd;function mm(){if(Pd)return ts;Pd=1;var j=ts&&ts.__extends||function(){var x=function(v,h){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,s){d.__proto__=s}||function(d,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(d[i]=s[i])},x(v,h)};return function(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");x(v,h);function d(){this.constructor=v}v.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}();Object.defineProperty(ts,"__esModule",{value:!0});var I=nh(),L=is(),M=cp(),K=vm(),D=function(x){j(v,x);function v(h){var d=x.call(this,h)||this;return d.state={value:d.props.value},d.onChange=d.onChange.bind(d),d.diff=d.diff.bind(d),d}return v.prototype.componentDidUpdate=function(){var h=this.props.value;h!==this.state.value&&this.setState({value:h})},v.prototype.onChange=function(h){this.setState({value:h}),this.props.onChange&&this.props.onChange(h)},v.prototype.diff=function(){var h=new K,d=this.state.value[0],s=this.state.value[1];if(d.length===0&&s.length===0)return[];var i=h.diff_main(d,s);h.diff_cleanupSemantic(i);var r=this.generateDiffedLines(i),n=this.setCodeMarkers(r);return n},v.prototype.generateDiffedLines=function(h){var d={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},s={left:[],right:[]},i={left:1,right:1};return h.forEach(function(r){var n=r[0],o=r[1],a=o.split(`
`).length-1;if(o.length!==0){var l=o[0],f=o[o.length-1],u=0;switch(n){case d.DIFF_EQUAL:i.left+=a,i.right+=a;break;case d.DIFF_DELETE:l===`
`&&(i.left++,a--),u=a,u===0&&s.right.push({startLine:i.right,endLine:i.right}),f===`
`&&(u-=1),s.left.push({startLine:i.left,endLine:i.left+u}),i.left+=a;break;case d.DIFF_INSERT:l===`
`&&(i.right++,a--),u=a,u===0&&s.left.push({startLine:i.left,endLine:i.left}),f===`
`&&(u-=1),s.right.push({startLine:i.right,endLine:i.right+u}),i.right+=a;break;default:throw new Error("Diff type was not defined.")}}}),s},v.prototype.setCodeMarkers=function(h){h===void 0&&(h={left:[],right:[]});for(var d=[],s={left:[],right:[]},i=0;i<h.left.length;i++){var r={startRow:h.left[i].startLine-1,endRow:h.left[i].endLine,type:"text",className:"codeMarker"};s.left.push(r)}for(var i=0;i<h.right.length;i++){var r={startRow:h.right[i].startLine-1,endRow:h.right[i].endLine,type:"text",className:"codeMarker"};s.right.push(r)}return d[0]=s.left,d[1]=s.right,d},v.prototype.render=function(){var h=this.diff();return L.createElement(M.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:h})},v.propTypes={cursorStart:I.number,editorProps:I.object,enableBasicAutocompletion:I.bool,enableLiveAutocompletion:I.bool,focus:I.bool,fontSize:I.number,height:I.string,highlightActiveLine:I.bool,maxLines:I.number,minLines:I.number,mode:I.string,name:I.string,className:I.string,onLoad:I.func,onPaste:I.func,onScroll:I.func,onChange:I.func,orientation:I.string,readOnly:I.bool,scrollMargin:I.array,setOptions:I.object,showGutter:I.bool,showPrintMargin:I.bool,splits:I.number,style:I.object,tabSize:I.number,theme:I.string,value:I.array,width:I.string,wrapEnabled:I.bool},v.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},v}(L.Component);return ts.default=D,ts}var Ud;function _m(){if(Ud)return zn;Ud=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.diff=zn.split=void 0;var j=dm(),I=mm();zn.diff=I.default;var L=cp();return zn.split=L.default,zn.default=j.default,zn}var ym=_m();const bm=tv(ym),Sm=({selectedFile:j})=>{const I=j.split(".");switch(I[I.length-1]){case"js":return"javascript";case"py":return"python";case"java":return"java";case"xml":return"xml";case"rb":return"ruby";case"sass":return"sass";case"md":return"markdown";case"sql":return"mysql";case"json":return"json";case"html":return"html";case"hbs":return"handlebars";case"handlebars":return"handlebars";case"go":return"golang";case"cs":return"csharp";case"litcoffee":return"coffee";case"css":return"css";default:return""}};var Wc={exports:{}},Wd;function wm(){return Wd||(Wd=1,function(j,I){ace.define("ace/mode/jsdoc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(L,M,K){var D=L("../lib/oop"),x=L("./text_highlight_rules").TextHighlightRules,v=function(){this.$rules={start:[{token:["comment.doc.tag","comment.doc.text","lparen.doc"],regex:"(@(?:param|member|typedef|property|namespace|var|const|callback))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:["rparen.doc","text.doc","variable.parameter.doc","lparen.doc","variable.parameter.doc","rparen.doc"],regex:/(})(\s*)(?:([\w=:\/\.]+)|(?:(\[)([\w=:\/\.\-\'\" ]+)(\])))/,next:"pop"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","lparen.doc"],regex:"(@(?:returns?|yields|type|this|suppress|public|protected|private|package|modifies|implements|external|exception|throws|enum|define|extends))(\\s*)({)",push:[{token:"lparen.doc",regex:"{",push:[{include:"doc-syntax"},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"}]},{token:"rparen.doc",regex:"}|(?=$)",next:"pop"},{include:"doc-syntax"},{defaultToken:"text.doc"}]},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:'(@(?:alias|memberof|instance|module|name|lends|namespace|external|this|template|requires|param|implements|function|extends|typedef|mixes|constructor|var|memberof\\!|event|listens|exports|class|constructs|interface|emits|fires|throws|const|callback|borrows|augments))(\\s+)(\\w[\\w#.:/~"\\-]*)?'},{token:["comment.doc.tag","text.doc","variable.parameter.doc"],regex:"(@method)(\\s+)(\\w[\\w.\\(\\)]*)"},{token:"comment.doc.tag",regex:"@access\\s+(?:private|public|protected)"},{token:"comment.doc.tag",regex:"@kind\\s+(?:class|constant|event|external|file|function|member|mixin|module|namespace|typedef)"},{token:"comment.doc.tag",regex:"@\\w+(?=\\s|$)"},v.getTagRule(),{defaultToken:"comment.doc.body",caseInsensitive:!0}],"doc-syntax":[{token:"operator.doc",regex:/[|:]/},{token:"paren.doc",regex:/[\[\]]/}]},this.normalizeRules()};D.inherits(v,x),v.getTagRule=function(h){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},v.getStartRule=function(h){return{token:"comment.doc",regex:/\/\*\*(?!\/)/,next:h}},v.getEndRule=function(h){return{token:"comment.doc",regex:"\\*\\/",next:h}},M.JsDocCommentHighlightRules=v}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/jsdoc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(L,M,K){var D=L("../lib/oop"),x=L("./jsdoc_comment_highlight_rules").JsDocCommentHighlightRules,v=L("./text_highlight_rules").TextHighlightRules,h="[a-zA-Z\\$_¡-￿][a-zA-Z\\d\\$_¡-￿]*",d=function(r){var n={"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},o=this.createKeywordMapper(n,"identifier"),a="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",l="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)",f="(function)(\\s*)(\\*?)",u={token:["identifier","text","paren.lparen"],regex:"(\\b(?!"+Object.values(n).join("|")+"\\b)"+h+")(\\s*)(\\()"};this.$rules={no_regex:[x.getStartRule("doc-start"),i("no_regex"),u,{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+h+")(\\s*)(=)(\\s*)"+f+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))("+h+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","storage.type","text","paren.lparen"],regex:"("+h+")(\\s*)(:)(\\s*)"+f+"(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)"+f+"(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:`from(?=\\s*('|"))`},{token:"keyword",regex:"(?:"+a+")\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|debug|time|trace|timeEnd|assert)\b/},{token:o,regex:h},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:"keyword.operator",regex:/=/},{token:["storage.type","text","storage.type","text","paren.lparen"],regex:f+"(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","storage.type","text","text","entity.name.function","text","paren.lparen"],regex:"(function)(?:(?:(\\s*)(\\*)(\\s*))|(\\s+))(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:"prototype"},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:h},{regex:"",token:"empty",next:"no_regex"}],start:[x.getStartRule("doc-start"),i("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[i("function_arguments"),{token:"variable.parameter",regex:h},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:l},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:l},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},(!r||!r.noES6)&&(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(g,y,_){if(this.next=g=="{"?this.nextState:"",g=="{"&&_.length)_.unshift("start",y);else if(g=="}"&&_.length&&(_.shift(),this.next=_.shift(),this.next.indexOf("string")!=-1||this.next.indexOf("jsx")!=-1))return"paren.quasi.end";return g=="{"?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:l},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+h+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=[^\\(]+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!r||r.jsx!=!1)&&s.call(this)),this.embedRules(x,"doc-",[x.getEndRule("no_regex")]),this.normalizeRules()};D.inherits(d,v);function s(){var r=h.replace("\\d","\\d\\-"),n={onMatch:function(a,l,f){var u=a.charAt(1)=="/"?2:1;return u==1?(l!=this.nextState?f.unshift(this.next,this.nextState,0):f.unshift(this.next),f[2]++):u==2&&l==this.nextState&&(f[1]--,(!f[1]||f[1]<0)&&(f.shift(),f.shift())),[{type:"meta.tag.punctuation."+(u==1?"":"end-")+"tag-open.xml",value:a.slice(0,u)},{type:"meta.tag.tag-name.xml",value:a.substr(u)}]},regex:"</?(?:"+r+"|(?=>))",next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(n);var o={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[o,n,{include:"reference"},{defaultToken:"string.xml"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(a,l,f){return l==f[0]&&f.shift(),a.length==2&&(f[0]==this.nextState&&f[1]--,(!f[1]||f[1]<0)&&f.splice(0,2)),this.next=f[0]||"start",[{type:this.token,value:a}]},nextState:"jsx"},o,i("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:r},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},n],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function i(r){return[{token:"comment",regex:/\/\*/,next:[x.getTagRule(),{token:"comment",regex:"\\*\\/",next:r||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[x.getTagRule(),{token:"comment",regex:"$|^",next:r||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}M.JavaScriptHighlightRules=d}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(L,M,K){var D=L("../range").Range,x=function(){};(function(){this.checkOutdent=function(v,h){return/^\s+$/.test(v)?/^\s*\}/.test(h):!1},this.autoOutdent=function(v,h){var d=v.getLine(h),s=d.match(/^(\s*\})/);if(!s)return 0;var i=s[1].length,r=v.findMatchingBracket({row:h,column:i});if(!r||r.row==h)return 0;var n=this.$getIndent(v.getLine(r.row));v.replace(new D(h,0,h,i-1),n)},this.$getIndent=function(v){return v.match(/^\s*/)[0]}}).call(x.prototype),M.MatchingBraceOutdent=x}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(L,M,K){var D=L("../../lib/oop"),x=L("../behaviour").Behaviour,v=L("../../token_iterator").TokenIterator;function h(s,i){return s&&s.type.lastIndexOf(i+".xml")>-1}var d=function(){this.add("string_dquotes","insertion",function(s,i,r,n,o){if(o=='"'||o=="'"){var a=o,l=n.doc.getTextRange(r.getSelectionRange());if(l!==""&&l!=="'"&&l!='"'&&r.getWrapBehavioursEnabled())return{text:a+l+a,selection:!1};var f=r.getCursorPosition(),u=n.doc.getLine(f.row),g=u.substring(f.column,f.column+1),y=new v(n,f.row,f.column),_=y.getCurrentToken();if(g==a&&(h(_,"attribute-value")||h(_,"string")))return{text:"",selection:[1,1]};if(_||(_=y.stepBackward()),!_)return;for(;h(_,"tag-whitespace")||h(_,"whitespace");)_=y.stepBackward();var p=!g||g.match(/\s/);if(h(_,"attribute-equals")&&(p||g==">")||h(_,"decl-attribute-equals")&&(p||g=="?"))return{text:a+a,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(s,i,r,n,o){var a=n.doc.getTextRange(o);if(!o.isMultiLine()&&(a=='"'||a=="'")){var l=n.doc.getLine(o.start.row),f=l.substring(o.start.column+1,o.start.column+2);if(f==a)return o.end.column++,o}}),this.add("autoclosing","insertion",function(s,i,r,n,o){if(o==">"){var a=r.getSelectionRange().start,l=new v(n,a.row,a.column),f=l.getCurrentToken()||l.stepBackward();if(!f||!(h(f,"tag-name")||h(f,"tag-whitespace")||h(f,"attribute-name")||h(f,"attribute-equals")||h(f,"attribute-value"))||h(f,"reference.attribute-value"))return;if(h(f,"attribute-value")){var u=l.getCurrentTokenColumn()+f.value.length;if(a.column<u)return;if(a.column==u){var g=l.stepForward();if(g&&h(g,"attribute-value"))return;l.stepBackward()}}if(/^\s*>/.test(n.getLine(a.row).slice(a.column)))return;for(;!h(f,"tag-name");)if(f=l.stepBackward(),f.value=="<"){f=l.stepForward();break}var y=l.getCurrentTokenRow(),_=l.getCurrentTokenColumn();if(h(l.stepBackward(),"end-tag-open"))return;var p=f.value;return y==a.row&&(p=p.substring(0,a.column-_)),this.voidElements&&this.voidElements.hasOwnProperty(p.toLowerCase())?void 0:{text:"></"+p+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(s,i,r,n,o){if(o==`
`){var a=r.getCursorPosition(),l=n.getLine(a.row),f=new v(n,a.row,a.column),u=f.getCurrentToken();if(h(u,"")&&u.type.indexOf("tag-close")!==-1){if(u.value=="/>")return;for(;u&&u.type.indexOf("tag-name")===-1;)u=f.stepBackward();if(!u)return;var g=u.value,y=f.getCurrentTokenRow();if(u=f.stepBackward(),!u||u.type.indexOf("end-tag")!==-1)return;if(this.voidElements&&!this.voidElements[g]||!this.voidElements){var _=n.getTokenAt(a.row,a.column+1),l=n.getLine(y),p=this.$getIndent(l),S=p+n.getTabString();return _&&_.value==="</"?{text:`
`+S+`
`+p,selection:[1,S.length,1,S.length]}:{text:`
`+S}}}}})};D.inherits(d,x),M.XmlBehaviour=d}),ace.define("ace/mode/behaviour/javascript",["require","exports","module","ace/lib/oop","ace/token_iterator","ace/mode/behaviour/cstyle","ace/mode/behaviour/xml"],function(L,M,K){var D=L("../../lib/oop"),x=L("../../token_iterator").TokenIterator,v=L("../behaviour/cstyle").CstyleBehaviour,h=L("../behaviour/xml").XmlBehaviour,d=function(){var s=new h({closeCurlyBraces:!0}).getBehaviours();this.addBehaviours(s),this.inherit(v),this.add("autoclosing-fragment","insertion",function(i,r,n,o,a){if(a==">"){var l=n.getSelectionRange().start,f=new x(o,l.row,l.column),u=f.getCurrentToken()||f.stepBackward();if(!u)return;if(u.value=="<")return{text:"></>",selection:[1,1]}}})};D.inherits(d,v),M.JavaScriptBehaviour=d}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(L,M,K){var D=L("../../lib/oop"),x=L("../../range").Range,v=L("./fold_mode").FoldMode,h=M.FoldMode=function(i,r){v.call(this),this.voidElements=i||{},this.optionalEndTags=D.mixin({},this.voidElements),r&&D.mixin(this.optionalEndTags,r)};D.inherits(h,v);var d=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function s(i,r){return i&&i.type&&i.type.lastIndexOf(r+".xml")>-1}(function(){this.getFoldWidget=function(i,r,n){var o=this._getFirstTagInLine(i,n);return o?o.closing||!o.tagName&&o.selfClosing?r==="markbeginend"?"end":"":!o.tagName||o.selfClosing||this.voidElements.hasOwnProperty(o.tagName.toLowerCase())||this._findEndTagInLine(i,n,o.tagName,o.end.column)?"":"start":this.getCommentFoldWidget(i,n)},this.getCommentFoldWidget=function(i,r){return/comment/.test(i.getState(r))&&/<!-/.test(i.getLine(r))?"start":""},this._getFirstTagInLine=function(i,r){for(var n=i.getTokens(r),o=new d,a=0;a<n.length;a++){var l=n[a];if(s(l,"tag-open")){if(o.end.column=o.start.column+l.value.length,o.closing=s(l,"end-tag-open"),l=n[++a],!l)return null;if(o.tagName=l.value,l.value===""){if(l=n[++a],!l)return null;o.tagName=l.value}for(o.end.column+=l.value.length,a++;a<n.length;a++)if(l=n[a],o.end.column+=l.value.length,s(l,"tag-close")){o.selfClosing=l.value=="/>";break}return o}else if(s(l,"tag-close"))return o.selfClosing=l.value=="/>",o;o.start.column+=l.value.length}return null},this._findEndTagInLine=function(i,r,n,o){for(var a=i.getTokens(r),l=0,f=0;f<a.length;f++){var u=a[f];if(l+=u.value.length,!(l<o-1)&&s(u,"end-tag-open")&&(u=a[f+1],s(u,"tag-name")&&u.value===""&&(u=a[f+2]),u&&u.value==n))return!0}return!1},this.getFoldWidgetRange=function(i,r,n){var o=this._getFirstTagInLine(i,n);if(!o)return this.getCommentFoldWidget(i,n)&&i.getCommentFoldRange(n,i.getLine(n).length);var a=i.getMatchingTags({row:n,column:0});if(a)return new x(a.openTag.end.row,a.openTag.end.column,a.closeTag.start.row,a.closeTag.start.column)}}).call(h.prototype)}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(L,M,K){var D=L("../../lib/oop"),x=L("../../range").Range,v=L("./fold_mode").FoldMode,h=M.FoldMode=function(d){d&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+d.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+d.end)))};D.inherits(h,v),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(d,s,i){var r=d.getLine(i);if(this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r))return"";var n=this._getFoldWidgetBase(d,s,i);return!n&&this.startRegionRe.test(r)?"start":n},this.getFoldWidgetRange=function(d,s,i,r){var n=d.getLine(i);if(this.startRegionRe.test(n))return this.getCommentRegionBlock(d,n,i);var l=n.match(this.foldingStartMarker);if(l){var o=l.index;if(l[1])return this.openingBracketBlock(d,l[1],i,o);var a=d.getCommentFoldRange(i,o+l[0].length,1);return a&&!a.isMultiLine()&&(r?a=this.getSectionRange(d,i):s!="all"&&(a=null)),a}if(s!=="markbegin"){var l=n.match(this.foldingStopMarker);if(l){var o=l.index+l[0].length;return l[1]?this.closingBracketBlock(d,l[1],i,o):d.getCommentFoldRange(i,o,-1)}}},this.getSectionRange=function(d,s){var i=d.getLine(s),r=i.search(/\S/),n=s,o=i.length;s=s+1;for(var a=s,l=d.getLength();++s<l;){i=d.getLine(s);var f=i.search(/\S/);if(f!==-1){if(r>f)break;var u=this.getFoldWidgetRange(d,"all",s);if(u){if(u.start.row<=n)break;if(u.isMultiLine())s=u.end.row;else if(r==f)break}a=s}}return new x(n,o,a,d.getLine(a).length)},this.getCommentRegionBlock=function(d,s,i){for(var r=s.search(/\s*$/),n=d.getLength(),o=i,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++i<n;){s=d.getLine(i);var f=a.exec(s);if(f&&(f[1]?l--:l++,!l))break}var u=i;if(u>o)return new x(o,r,u,s.length)}}).call(h.prototype)}),ace.define("ace/mode/folding/javascript",["require","exports","module","ace/lib/oop","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(L,M,K){var D=L("../../lib/oop"),x=L("./xml").FoldMode,v=L("./cstyle").FoldMode,h=M.FoldMode=function(d){d&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+d.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+d.end))),this.xmlFoldMode=new x};D.inherits(h,v),(function(){this.getFoldWidgetRangeBase=this.getFoldWidgetRange,this.getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(d,s,i){var r=this.getFoldWidgetBase(d,s,i);return r||this.xmlFoldMode.getFoldWidget(d,s,i)},this.getFoldWidgetRange=function(d,s,i,r){var n=this.getFoldWidgetRangeBase(d,s,i,r);return n||this.xmlFoldMode.getFoldWidgetRange(d,s,i)}}).call(h.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/javascript","ace/mode/folding/javascript"],function(L,M,K){var D=L("../lib/oop"),x=L("./text").Mode,v=L("./javascript_highlight_rules").JavaScriptHighlightRules,h=L("./matching_brace_outdent").MatchingBraceOutdent,d=L("../worker/worker_client").WorkerClient,s=L("./behaviour/javascript").JavaScriptBehaviour,i=L("./folding/javascript").FoldMode,r=function(){this.HighlightRules=v,this.$outdent=new h,this.$behaviour=new s,this.foldingRules=new i};D.inherits(r,x),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.$pairQuotesAfter={"`":/\w/},this.getNextLineIndent=function(n,o,a){var l=this.$getIndent(o),f=this.getTokenizer().getLineTokens(o,n),u=f.tokens,g=f.state;if(u.length&&u[u.length-1].type=="comment")return l;if(n=="start"||n=="no_regex"){var y=o.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);y&&(l+=a)}else if(n=="doc-start"&&(g=="start"||g=="no_regex"))return"";return l},this.checkOutdent=function(n,o,a){return this.$outdent.checkOutdent(o,a)},this.autoOutdent=function(n,o,a){this.$outdent.autoOutdent(o,a)},this.createWorker=function(n){var o=new d(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return o.attachToDocument(n.getDocument()),o.on("annotate",function(a){n.setAnnotations(a.data)}),o.on("terminate",function(){n.clearAnnotations()}),o},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}).call(r.prototype),M.Mode=r}),function(){ace.require(["ace/mode/javascript"],function(L){j&&(j.exports=L)})}()}(Wc)),Wc.exports}wm();var jc={exports:{}},jd;function Cm(){return jd||(jd=1,function(j,I){ace.define("ace/theme/tomorrow_night_eighties-css",["require","exports","module"],function(L,M,K){K.exports=`.ace-tomorrow-night-eighties .ace_gutter {
  background: #272727;
  color: #CCC
}

.ace-tomorrow-night-eighties .ace_print-margin {
  width: 1px;
  background: #272727
}

.ace-tomorrow-night-eighties {
  background-color: #2D2D2D;
  color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_constant.ace_other,
.ace-tomorrow-night-eighties .ace_cursor {
  color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_selection {
  background: #515151
}

.ace-tomorrow-night-eighties.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #2D2D2D;
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #6A6A6A
}

.ace-tomorrow-night-bright .ace_stack {
  background: rgb(66, 90, 44)
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_active-line {
  background: #393939
}

.ace-tomorrow-night-eighties .ace_gutter-active-line {
  background-color: #393939
}

.ace-tomorrow-night-eighties .ace_marker-layer .ace_selected-word {
  border: 1px solid #515151
}

.ace-tomorrow-night-eighties .ace_invisible {
  color: #6A6A6A
}

.ace-tomorrow-night-eighties .ace_keyword,
.ace-tomorrow-night-eighties .ace_meta,
.ace-tomorrow-night-eighties .ace_storage,
.ace-tomorrow-night-eighties .ace_storage.ace_type,
.ace-tomorrow-night-eighties .ace_support.ace_type {
  color: #CC99CC
}

.ace-tomorrow-night-eighties .ace_keyword.ace_operator {
  color: #66CCCC
}

.ace-tomorrow-night-eighties .ace_constant.ace_character,
.ace-tomorrow-night-eighties .ace_constant.ace_language,
.ace-tomorrow-night-eighties .ace_constant.ace_numeric,
.ace-tomorrow-night-eighties .ace_keyword.ace_other.ace_unit,
.ace-tomorrow-night-eighties .ace_support.ace_constant,
.ace-tomorrow-night-eighties .ace_variable.ace_parameter {
  color: #F99157
}

.ace-tomorrow-night-eighties .ace_invalid {
  color: #CDCDCD;
  background-color: #F2777A
}

.ace-tomorrow-night-eighties .ace_invalid.ace_deprecated {
  color: #CDCDCD;
  background-color: #CC99CC
}

.ace-tomorrow-night-eighties .ace_fold {
  background-color: #6699CC;
  border-color: #CCCCCC
}

.ace-tomorrow-night-eighties .ace_entity.ace_name.ace_function,
.ace-tomorrow-night-eighties .ace_support.ace_function,
.ace-tomorrow-night-eighties .ace_variable {
  color: #6699CC
}

.ace-tomorrow-night-eighties .ace_support.ace_class,
.ace-tomorrow-night-eighties .ace_support.ace_type {
  color: #FFCC66
}

.ace-tomorrow-night-eighties .ace_heading,
.ace-tomorrow-night-eighties .ace_markup.ace_heading,
.ace-tomorrow-night-eighties .ace_string {
  color: #99CC99
}

.ace-tomorrow-night-eighties .ace_comment {
  color: #999999
}

.ace-tomorrow-night-eighties .ace_entity.ace_name.ace_tag,
.ace-tomorrow-night-eighties .ace_entity.ace_other.ace_attribute-name,
.ace-tomorrow-night-eighties .ace_meta.ace_tag,
.ace-tomorrow-night-eighties .ace_variable {
  color: #F2777A
}

.ace-tomorrow-night-eighties .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ09NrYAgMjP4PAAtGAwchHMyAAAAAAElFTkSuQmCC) right repeat-y
}

.ace-tomorrow-night-eighties .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/tomorrow_night_eighties",["require","exports","module","ace/theme/tomorrow_night_eighties-css","ace/lib/dom"],function(L,M,K){M.isDark=!0,M.cssClass="ace-tomorrow-night-eighties",M.cssText=L("./tomorrow_night_eighties-css");var D=L("../lib/dom");D.importCssString(M.cssText,M.cssClass,!1)}),function(){ace.require(["ace/theme/tomorrow_night_eighties"],function(L){j&&(j.exports=L)})}()}(jc)),jc.exports}Cm();var Vc={exports:{}},Vd;function Em(){return Vd||(Vd=1,function(j,I){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(L,M,K){var D=L("./lib/dom"),x=L("./lib/oop"),v=L("./lib/event_emitter").EventEmitter,h=L("./lib/lang"),d=L("./range").Range,s=L("./range_list").RangeList,i=L("./keyboard/hash_handler").HashHandler,r=L("./tokenizer").Tokenizer,n=L("./clipboard"),o={CURRENT_WORD:function(p){return p.session.getTextRange(p.session.getWordRange())},SELECTION:function(p,S,b){var w=p.session.getTextRange();return b?w.replace(/\n\r?([ \t]*\S)/g,`
`+b+"$1"):w},CURRENT_LINE:function(p){return p.session.getLine(p.getCursorPosition().row)},PREV_LINE:function(p){return p.session.getLine(p.getCursorPosition().row-1)},LINE_INDEX:function(p){return p.getCursorPosition().row},LINE_NUMBER:function(p){return p.getCursorPosition().row+1},SOFT_TABS:function(p){return p.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(p){return p.session.getTabSize()},CLIPBOARD:function(p){return n.getText&&n.getText()},FILENAME:function(p){return/[^/\\]*$/.exec(this.FILEPATH(p))[0]},FILENAME_BASE:function(p){return/[^/\\]*$/.exec(this.FILEPATH(p))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(p){return this.FILEPATH(p).replace(/[^/\\]*$/,"")},FILEPATH:function(p){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(p){var S=p.session.$mode||{};return S.blockComment&&S.blockComment.start||""},BLOCK_COMMENT_END:function(p){var S=p.session.$mode||{};return S.blockComment&&S.blockComment.end||""},LINE_COMMENT:function(p){var S=p.session.$mode||{};return S.lineCommentStart||""},CURRENT_YEAR:a.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:a.bind(null,{year:"2-digit"}),CURRENT_MONTH:a.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:a.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:a.bind(null,{month:"short"}),CURRENT_DATE:a.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:a.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:a.bind(null,{weekday:"short"}),CURRENT_HOUR:a.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:a.bind(null,{minute:"2-digit"}),CURRENT_SECOND:a.bind(null,{second:"2-digit"})};o.SELECTED_TEXT=o.SELECTION;function a(p){var S=new Date().toLocaleString("en-us",p);return S.length==1?"0"+S:S}var l=function(){function p(){this.snippetMap={},this.snippetNameMap={},this.variables=o}return p.prototype.getTokenizer=function(){return p.$tokenizer||this.createTokenizer()},p.prototype.createTokenizer=function(){function S(R){return R=R.substr(1),/^\d+$/.test(R)?[{tabstopId:parseInt(R,10)}]:[{text:R}]}function b(R){return"(?:[^\\\\"+R+"]|\\\\.)"}var w={regex:"/("+b("/")+"+)/",onMatch:function(R,H,k){var E=k[0];return E.fmtString=!0,E.guard=R.slice(1,-1),E.flag="",""},next:"formatString"};return p.$tokenizer=new r({start:[{regex:/\\./,onMatch:function(R,H,k){var E=R[1];return(E=="}"&&k.length||"`$\\".indexOf(E)!=-1)&&(R=E),[R]}},{regex:/}/,onMatch:function(R,H,k){return[k.length?k.shift():R]}},{regex:/\$(?:\d+|\w+)/,onMatch:S},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(R,H,k){var E=S(R.substr(1));return k.unshift(E[0]),E},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+b("\\|")+"*\\|",onMatch:function(R,H,k){var E=R.slice(1,-1).replace(/\\[,|\\]|,/g,function(A){return A.length==2?A[1]:"\0"}).split("\0").map(function(A){return{value:A}});return k[0].choices=E,[E[0]]},next:"start"},w,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(R,H,k){return k.length&&k[0].expectElse?(k[0].expectElse=!1,k[0].ifEnd={elseEnd:k[0]},[k[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(R,H,k){var E=R[1];return E=="}"&&k.length||"`$\\".indexOf(E)!=-1?R=E:E=="n"?R=`
`:E=="t"?R="	":"ulULE".indexOf(E)!=-1&&(R={changeCase:E,local:E>"a"}),[R]}},{regex:"/\\w*}",onMatch:function(R,H,k){var E=k.shift();return E&&(E.flag=R.slice(1,-1)),this.next=E&&E.tabstopId?"start":"",[E||R]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(R,H,k){return[{text:R.slice(1)}]}},{regex:/\${\w+/,onMatch:function(R,H,k){var E={text:R.slice(2)};return k.unshift(E),[E]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(R,H,k){var E=k.shift();return this.next=E&&E.tabstopId?"start":"",[E||R]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(R,H,k){var E=k[0];return E.formatFunction=R.slice(2,-1),[k.shift()]},next:"formatString"},w,{regex:/:[\?\-+]?/,onMatch:function(R,H,k){R[1]=="+"&&(k[0].ifEnd=k[0]),R[1]=="?"&&(k[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),p.$tokenizer},p.prototype.tokenizeTmSnippet=function(S,b){return this.getTokenizer().getLineTokens(S,b).tokens.map(function(w){return w.value||w})},p.prototype.getVariableValue=function(S,b,w){if(/^\d+$/.test(b))return(this.variables.__||{})[b]||"";if(/^[A-Z]\d+$/.test(b))return(this.variables[b[0]+"__"]||{})[b.substr(1)]||"";if(b=b.replace(/^TM_/,""),!this.variables.hasOwnProperty(b))return"";var R=this.variables[b];return typeof R=="function"&&(R=this.variables[b](S,b,w)),R??""},p.prototype.tmStrFormat=function(S,b,w){if(!b.fmt)return S;var R=b.flag||"",H=b.guard;H=new RegExp(H,R.replace(/[^gim]/g,""));var k=typeof b.fmt=="string"?this.tokenizeTmSnippet(b.fmt,"formatString"):b.fmt,E=this,A=S.replace(H,function(){var C=E.variables.__;E.variables.__=[].slice.call(arguments);for(var $=E.resolveVariables(k,w),z="E",F=0;F<$.length;F++){var N=$[F];if(typeof N=="object")if($[F]="",N.changeCase&&N.local){var B=$[F+1];B&&typeof B=="string"&&(N.changeCase=="u"?$[F]=B[0].toUpperCase():$[F]=B[0].toLowerCase(),$[F+1]=B.substr(1))}else N.changeCase&&(z=N.changeCase);else z=="U"?$[F]=N.toUpperCase():z=="L"&&($[F]=N.toLowerCase())}return E.variables.__=C,$.join("")});return A},p.prototype.tmFormatFunction=function(S,b,w){return b.formatFunction=="upcase"?S.toUpperCase():b.formatFunction=="downcase"?S.toLowerCase():S},p.prototype.resolveVariables=function(S,b){for(var w=[],R="",H=!0,k=0;k<S.length;k++){var E=S[k];if(typeof E=="string"){w.push(E),E==`
`?(H=!0,R=""):H&&(R=/^\t*/.exec(E)[0],H=/\S/.test(E));continue}if(E){if(H=!1,E.fmtString){var A=S.indexOf(E,k+1);A==-1&&(A=S.length),E.fmt=S.slice(k+1,A),k=A}if(E.text){var C=this.getVariableValue(b,E.text,R)+"";E.fmtString&&(C=this.tmStrFormat(C,E,b)),E.formatFunction&&(C=this.tmFormatFunction(C,E,b)),C&&!E.ifEnd?(w.push(C),$(E)):!C&&E.ifEnd&&$(E.ifEnd)}else E.elseEnd?$(E.elseEnd):(E.tabstopId!=null||E.changeCase!=null)&&w.push(E)}}function $(z){var F=S.indexOf(z,k+1);F!=-1&&(k=F)}return w},p.prototype.getDisplayTextForSnippet=function(S,b){var w=f.call(this,S,b);return w.text},p.prototype.insertSnippetForSelection=function(S,b,w){w===void 0&&(w={});var R=f.call(this,S,b,w),H=S.getSelectionRange(),k=S.session.replace(H,R.text),E=new u(S),A=S.inVirtualSelectionMode&&S.selection.index;E.addTabstops(R.tabstops,H.start,k,A)},p.prototype.insertSnippet=function(S,b,w){w===void 0&&(w={});var R=this;if(S.inVirtualSelectionMode)return R.insertSnippetForSelection(S,b,w);S.forEachSelection(function(){R.insertSnippetForSelection(S,b,w)},null,{keepOrder:!0}),S.tabstopManager&&S.tabstopManager.tabNext()},p.prototype.$getScope=function(S){var b=S.session.$mode.$id||"";if(b=b.split("/").pop(),b==="html"||b==="php"){b==="php"&&!S.session.$mode.inlinePhp&&(b="html");var w=S.getCursorPosition(),R=S.session.getState(w.row);typeof R=="object"&&(R=R[0]),R.substring&&(R.substring(0,3)=="js-"?b="javascript":R.substring(0,4)=="css-"?b="css":R.substring(0,4)=="php-"&&(b="php"))}return b},p.prototype.getActiveScopes=function(S){var b=this.$getScope(S),w=[b],R=this.snippetMap;return R[b]&&R[b].includeScopes&&w.push.apply(w,R[b].includeScopes),w.push("_"),w},p.prototype.expandWithTab=function(S,b){var w=this,R=S.forEachSelection(function(){return w.expandSnippetForSelection(S,b)},null,{keepOrder:!0});return R&&S.tabstopManager&&S.tabstopManager.tabNext(),R},p.prototype.expandSnippetForSelection=function(S,b){var w=S.getCursorPosition(),R=S.session.getLine(w.row),H=R.substring(0,w.column),k=R.substr(w.column),E=this.snippetMap,A;return this.getActiveScopes(S).some(function(C){var $=E[C];return $&&(A=this.findMatchingSnippet($,H,k)),!!A},this),A?(b&&b.dryRun||(S.session.doc.removeInLine(w.row,w.column-A.replaceBefore.length,w.column+A.replaceAfter.length),this.variables.M__=A.matchBefore,this.variables.T__=A.matchAfter,this.insertSnippetForSelection(S,A.content),this.variables.M__=this.variables.T__=null),!0):!1},p.prototype.findMatchingSnippet=function(S,b,w){for(var R=S.length;R--;){var H=S[R];if(!(H.startRe&&!H.startRe.test(b))&&!(H.endRe&&!H.endRe.test(w))&&!(!H.startRe&&!H.endRe))return H.matchBefore=H.startRe?H.startRe.exec(b):[""],H.matchAfter=H.endRe?H.endRe.exec(w):[""],H.replaceBefore=H.triggerRe?H.triggerRe.exec(b)[0]:"",H.replaceAfter=H.endTriggerRe?H.endTriggerRe.exec(w)[0]:"",H}},p.prototype.register=function(S,b){var w=this.snippetMap,R=this.snippetNameMap,H=this;S||(S=[]);function k(C){return C&&!/^\^?\(.*\)\$?$|^\\b$/.test(C)&&(C="(?:"+C+")"),C||""}function E(C,$,z){return C=k(C),$=k($),C=$+C,C&&C[C.length-1]!="$"&&(C=C+"$"),new RegExp(C)}function A(C){C.scope||(C.scope=b||"_"),b=C.scope,w[b]||(w[b]=[],R[b]={});var $=R[b];if(C.name){var z=$[C.name];z&&H.unregister(z),$[C.name]=C}w[b].push(C),C.prefix&&(C.tabTrigger=C.prefix),!C.content&&C.body&&(C.content=Array.isArray(C.body)?C.body.join(`
`):C.body),C.tabTrigger&&!C.trigger&&(!C.guard&&/^\w/.test(C.tabTrigger)&&(C.guard="\\b"),C.trigger=h.escapeRegExp(C.tabTrigger)),!(!C.trigger&&!C.guard&&!C.endTrigger&&!C.endGuard)&&(C.startRe=E(C.trigger,C.guard),C.triggerRe=new RegExp(C.trigger),C.endRe=E(C.endTrigger,C.endGuard),C.endTriggerRe=new RegExp(C.endTrigger))}Array.isArray(S)?S.forEach(A):Object.keys(S).forEach(function(C){A(S[C])}),this._signal("registerSnippets",{scope:b})},p.prototype.unregister=function(S,b){var w=this.snippetMap,R=this.snippetNameMap;function H(k){var E=R[k.scope||b];if(E&&E[k.name]){delete E[k.name];var A=w[k.scope||b],C=A&&A.indexOf(k);C>=0&&A.splice(C,1)}}S.content?H(S):Array.isArray(S)&&S.forEach(H)},p.prototype.parseSnippetFile=function(S){S=S.replace(/\r/g,"");for(var b=[],w={},R=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,H;H=R.exec(S);){if(H[1])try{w=JSON.parse(H[1]),b.push(w)}catch{}if(H[4])w.content=H[4].replace(/^\t/gm,""),b.push(w),w={};else{var k=H[2],E=H[3];if(k=="regex"){var A=/\/((?:[^\/\\]|\\.)*)|$/g;w.guard=A.exec(E)[1],w.trigger=A.exec(E)[1],w.endTrigger=A.exec(E)[1],w.endGuard=A.exec(E)[1]}else k=="snippet"?(w.tabTrigger=E.match(/^\S*/)[0],w.name||(w.name=E)):k&&(w[k]=E)}}return b},p.prototype.getSnippetByName=function(S,b){var w=this.snippetNameMap,R;return this.getActiveScopes(b).some(function(H){var k=w[H];return k&&(R=k[S]),!!R},this),R},p}();x.implement(l.prototype,v);var f=function(p,S,b){b===void 0&&(b={});var w=p.getCursorPosition(),R=p.session.getLine(w.row),H=p.session.getTabString(),k=R.match(/^\s*/)[0];w.column<k.length&&(k=k.slice(0,w.column)),S=S.replace(/\r/g,"");var E=this.tokenizeTmSnippet(S);E=this.resolveVariables(E,p),E=E.map(function(Z){return Z==`
`&&!b.excludeExtraIndent?Z+k:typeof Z=="string"?Z.replace(/\t/g,H):Z});var A=[];E.forEach(function(Z,Q){if(typeof Z=="object"){var U=Z.tabstopId,ie=A[U];if(ie||(ie=A[U]=[],ie.index=U,ie.value="",ie.parents={}),ie.indexOf(Z)===-1){Z.choices&&!ie.choices&&(ie.choices=Z.choices),ie.push(Z);var ee=E.indexOf(Z,Q+1);if(ee!==-1){var he=E.slice(Q+1,ee),pe=he.some(function(be){return typeof be=="object"});pe&&!ie.value?ie.value=he:he.length&&(!ie.value||typeof ie.value!="string")&&(ie.value=he.join(""))}}}}),A.forEach(function(Z){Z.length=0});var C={};function $(Z){for(var Q=[],U=0;U<Z.length;U++){var ie=Z[U];if(typeof ie=="object"){if(C[ie.tabstopId])continue;var ee=Z.lastIndexOf(ie,U-1);ie=Q[ee]||{tabstopId:ie.tabstopId}}Q[U]=ie}return Q}for(var z=0;z<E.length;z++){var F=E[z];if(typeof F=="object"){var N=F.tabstopId,B=A[N],P=E.indexOf(F,z+1);if(C[N]){C[N]===F&&(delete C[N],Object.keys(C).forEach(function(Z){B.parents[Z]=!0}));continue}C[N]=F;var V=B.value;typeof V!="string"?V=$(V):F.fmt&&(V=this.tmStrFormat(V,F,p)),E.splice.apply(E,[z+1,Math.max(0,P-z)].concat(V,F)),B.indexOf(F)===-1&&B.push(F)}}var G=0,Y=0,q="";return E.forEach(function(Z){if(typeof Z=="string"){var Q=Z.split(`
`);Q.length>1?(Y=Q[Q.length-1].length,G+=Q.length-1):Y+=Z.length,q+=Z}else Z&&(Z.start?Z.end={row:G,column:Y}:Z.start={row:G,column:Y})}),{text:q,tabstops:A,tokens:E}},u=function(){function p(S){if(this.index=0,this.ranges=[],this.tabstops=[],S.tabstopManager)return S.tabstopManager;S.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=h.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(S)}return p.prototype.attach=function(S){this.$openTabstops=null,this.selectedTabstop=null,this.editor=S,this.session=S.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},p.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},p.prototype.onChange=function(S){for(var b=S.action[0]=="r",w=this.selectedTabstop||{},R=w.parents||{},H=this.tabstops.slice(),k=0;k<H.length;k++){var E=H[k],A=E==w||R[E.index];if(E.rangeList.$bias=A?0:1,S.action=="remove"&&E!==w){var C=E.parents&&E.parents[w.index],$=E.rangeList.pointIndex(S.start,C);$=$<0?-$-1:$+1;var z=E.rangeList.pointIndex(S.end,C);z=z<0?-z-1:z-1;for(var F=E.rangeList.ranges.slice($,z),N=0;N<F.length;N++)this.removeRange(F[N])}E.rangeList.$onChange(S)}var B=this.session;!this.$inChange&&b&&B.getLength()==1&&!B.getValue()&&this.detach()},p.prototype.updateLinkedFields=function(){var S=this.selectedTabstop;if(!(!S||!S.hasLinkedRanges||!S.firstNonLinked)){this.$inChange=!0;for(var b=this.session,w=b.getTextRange(S.firstNonLinked),R=0;R<S.length;R++){var H=S[R];if(H.linked){var k=H.original,E=M.snippetManager.tmStrFormat(w,k,this.editor);b.replace(H,E)}}this.$inChange=!1}},p.prototype.onAfterExec=function(S){S.command&&!S.command.readOnly&&this.updateLinkedFields()},p.prototype.onChangeSelection=function(){if(this.editor){for(var S=this.editor.selection.lead,b=this.editor.selection.anchor,w=this.editor.selection.isEmpty(),R=0;R<this.ranges.length;R++)if(!this.ranges[R].linked){var H=this.ranges[R].contains(S.row,S.column),k=w||this.ranges[R].contains(b.row,b.column);if(H&&k)return}this.detach()}},p.prototype.onChangeSession=function(){this.detach()},p.prototype.tabNext=function(S){var b=this.tabstops.length,w=this.index+(S||1);w=Math.min(Math.max(w,1),b),w==b&&(w=0),this.selectTabstop(w),this.updateTabstopMarkers(),w===0&&this.detach()},p.prototype.selectTabstop=function(S){this.$openTabstops=null;var b=this.tabstops[this.index];if(b&&this.addTabstopMarkers(b),this.index=S,b=this.tabstops[this.index],!(!b||!b.length)){this.selectedTabstop=b;var w=b.firstNonLinked||b;if(b.choices&&(w.cursor=w.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(w);else{var R=this.editor.multiSelect;R.toSingleRange(w);for(var H=0;H<b.length;H++)b.hasLinkedRanges&&b[H].linked||R.addRange(b[H].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},p.prototype.addTabstops=function(S,b,w){var R=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!S[0]){var H=d.fromPoints(w,w);y(H.start,b),y(H.end,b),S[0]=[H],S[0].index=0}var k=this.index,E=[k+1,0],A=this.ranges,C=this.snippetId=(this.snippetId||0)+1;S.forEach(function($,z){var F=this.$openTabstops[z]||$;F.snippetId=C;for(var N=0;N<$.length;N++){var B=$[N],P=d.fromPoints(B.start,B.end||B.start);g(P.start,b),g(P.end,b),P.original=B,P.tabstop=F,A.push(P),F!=$?F.unshift(P):F[N]=P,B.fmtString||F.firstNonLinked&&R?(P.linked=!0,F.hasLinkedRanges=!0):F.firstNonLinked||(F.firstNonLinked=P)}F.firstNonLinked||(F.hasLinkedRanges=!1),F===$&&(E.push(F),this.$openTabstops[z]=F),this.addTabstopMarkers(F),F.rangeList=F.rangeList||new s,F.rangeList.$bias=0,F.rangeList.addList(F)},this),E.length>2&&(this.tabstops.length&&E.push(E.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,E))},p.prototype.addTabstopMarkers=function(S){var b=this.session;S.forEach(function(w){w.markerId||(w.markerId=b.addMarker(w,"ace_snippet-marker","text"))})},p.prototype.removeTabstopMarkers=function(S){var b=this.session;S.forEach(function(w){b.removeMarker(w.markerId),w.markerId=null})},p.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var S=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&S--,this.tabstops.forEach(function(b){b.snippetId===S?this.addTabstopMarkers(b):this.removeTabstopMarkers(b)},this)}},p.prototype.removeRange=function(S){var b=S.tabstop.indexOf(S);b!=-1&&S.tabstop.splice(b,1),b=this.ranges.indexOf(S),b!=-1&&this.ranges.splice(b,1),b=S.tabstop.rangeList.ranges.indexOf(S),b!=-1&&S.tabstop.splice(b,1),this.session.removeMarker(S.markerId),S.tabstop.length||(b=this.tabstops.indexOf(S.tabstop),b!=-1&&this.tabstops.splice(b,1),this.tabstops.length||this.detach())},p}();u.prototype.keyboardHandler=new i,u.prototype.keyboardHandler.bindKeys({Tab:function(p){M.snippetManager&&M.snippetManager.expandWithTab(p)||(p.tabstopManager.tabNext(1),p.renderer.scrollCursorIntoView())},"Shift-Tab":function(p){p.tabstopManager.tabNext(-1),p.renderer.scrollCursorIntoView()},Esc:function(p){p.tabstopManager.detach()}});var g=function(p,S){p.row==0&&(p.column+=S.column),p.row+=S.row},y=function(p,S){p.row==S.row&&(p.column-=S.column),p.row-=S.row};D.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),M.snippetManager=new l;var _=L("./editor").Editor;(function(){this.insertSnippet=function(p,S){return M.snippetManager.insertSnippet(this,p,S)},this.expandSnippet=function(p){return M.snippetManager.expandWithTab(this,p)}}).call(_.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(L,M,K){var D=L("../virtual_renderer").VirtualRenderer,x=L("../editor").Editor,v=L("../range").Range,h=L("../lib/event"),d=L("../lib/lang"),s=L("../lib/dom"),i=L("../config").nls,r=L("./../lib/useragent"),n=function(g){return"suggest-aria-id:".concat(g)},o=r.isSafari?"menu":"listbox",a=r.isSafari?"menuitem":"option",l=r.isSafari?"aria-current":"aria-selected",f=function(g){var y=new D(g);y.$maxLines=4;var _=new x(y);return _.setHighlightActiveLine(!1),_.setShowPrintMargin(!1),_.renderer.setShowGutter(!1),_.renderer.setHighlightGutterLine(!1),_.$mouseHandler.$focusTimeout=0,_.$highlightTagPending=!0,_},u=function(){function g(y){var _=s.createElement("div"),p=f(_);y&&y.appendChild(_),_.style.display="none",p.renderer.content.style.cursor="default",p.renderer.setStyle("ace_autocomplete"),p.renderer.$textLayer.element.setAttribute("role",o),p.renderer.$textLayer.element.setAttribute("aria-roledescription",i("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),p.renderer.$textLayer.element.setAttribute("aria-label",i("autocomplete.popup.aria-label","Autocomplete suggestions")),p.renderer.textarea.setAttribute("aria-hidden","true"),p.setOption("displayIndentGuides",!1),p.setOption("dragDelay",150);var S=function(){};p.focus=S,p.$isFocused=!0,p.renderer.$cursorLayer.restartTimer=S,p.renderer.$cursorLayer.element.style.opacity="0",p.renderer.$maxLines=8,p.renderer.$keepTextAreaAtCursor=!1,p.setHighlightActiveLine(!1),p.session.highlight(""),p.session.$searchHighlight.clazz="ace_highlight-marker",p.on("mousedown",function(A){var C=A.getDocumentPosition();p.selection.moveToPosition(C),R.start.row=R.end.row=C.row,A.stop()});var b,w=new v(-1,0,-1,1/0),R=new v(-1,0,-1,1/0);R.id=p.session.addMarker(R,"ace_active-line","fullLine"),p.setSelectOnHover=function(A){A?w.id&&(p.session.removeMarker(w.id),w.id=null):w.id=p.session.addMarker(w,"ace_line-hover","fullLine")},p.setSelectOnHover(!1),p.on("mousemove",function(A){if(!b){b=A;return}if(!(b.x==A.x&&b.y==A.y)){b=A,b.scrollTop=p.renderer.scrollTop,p.isMouseOver=!0;var C=b.getDocumentPosition().row;w.start.row!=C&&(w.id||p.setRow(C),k(C))}}),p.renderer.on("beforeRender",function(){if(b&&w.start.row!=-1){b.$pos=null;var A=b.getDocumentPosition().row;w.id||p.setRow(A),k(A,!0)}}),p.renderer.on("afterRender",function(){for(var A=p.renderer.$textLayer,C=A.config.firstRow,$=A.config.lastRow;C<=$;C++){var z=A.element.childNodes[C-A.config.firstRow];z.setAttribute("role",a),z.setAttribute("aria-roledescription",i("autocomplete.popup.item.aria-roledescription","item")),z.setAttribute("aria-setsize",p.data.length),z.setAttribute("aria-describedby","doc-tooltip"),z.setAttribute("aria-posinset",C+1);var F=p.getData(C);if(F){var N="".concat(F.caption||F.value).concat(F.meta?", ".concat(F.meta):"");z.setAttribute("aria-label",N)}var B=z.querySelectorAll(".ace_completion-highlight");B.forEach(function(P){P.setAttribute("role","mark")})}}),p.renderer.on("afterRender",function(){var A=p.getRow(),C=p.renderer.$textLayer,$=C.element.childNodes[A-C.config.firstRow],z=document.activeElement;if($!==p.selectedNode&&p.selectedNode&&(s.removeCssClass(p.selectedNode,"ace_selected"),p.selectedNode.removeAttribute(l),p.selectedNode.removeAttribute("id")),z.removeAttribute("aria-activedescendant"),p.selectedNode=$,$){var F=n(A);s.addCssClass($,"ace_selected"),$.id=F,C.element.setAttribute("aria-activedescendant",F),z.setAttribute("aria-activedescendant",F),$.setAttribute(l,"true")}});var H=function(){k(-1)},k=function(A,C){A!==w.start.row&&(w.start.row=w.end.row=A,C||p.session._emit("changeBackMarker"),p._emit("changeHoverMarker"))};p.getHoveredRow=function(){return w.start.row},h.addListener(p.container,"mouseout",function(){p.isMouseOver=!1,H()}),p.on("hide",H),p.on("changeSelection",H),p.session.doc.getLength=function(){return p.data.length},p.session.doc.getLine=function(A){var C=p.data[A];return typeof C=="string"?C:C&&C.value||""};var E=p.session.bgTokenizer;return E.$tokenizeRow=function(A){var C=p.data[A],$=[];if(!C)return $;typeof C=="string"&&(C={value:C});var z=C.caption||C.value||C.name;function F(Z,Q){Z&&$.push({type:(C.className||"")+(Q||""),value:Z})}for(var N=z.toLowerCase(),B=(p.filterText||"").toLowerCase(),P=0,V=0,G=0;G<=B.length;G++)if(G!=V&&(C.matchMask&1<<G||G==B.length)){var Y=B.slice(V,G);V=G;var q=N.indexOf(Y,P);if(q==-1)continue;F(z.slice(P,q),""),P=q+Y.length,F(z.slice(q,P),"completion-highlight")}return F(z.slice(P,z.length),""),$.push({type:"completion-spacer",value:" "}),C.meta&&$.push({type:"completion-meta",value:C.meta}),C.message&&$.push({type:"completion-message",value:C.message}),$},E.$updateOnChange=S,E.start=S,p.session.$computeWidth=function(){return this.screenWidth=0},p.isOpen=!1,p.isTopdown=!1,p.autoSelect=!0,p.filterText="",p.isMouseOver=!1,p.data=[],p.setData=function(A,C){p.filterText=C||"",p.setValue(d.stringRepeat(`
`,A.length),-1),p.data=A||[],p.setRow(0)},p.getData=function(A){return p.data[A]},p.getRow=function(){return R.start.row},p.setRow=function(A){A=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,A)),R.start.row!=A&&(p.selection.clearSelection(),R.start.row=R.end.row=A||0,p.session._emit("changeBackMarker"),p.moveCursorTo(A||0,0),p.isOpen&&p._signal("select"))},p.on("changeSelection",function(){p.isOpen&&p.setRow(p.selection.lead.row),p.renderer.scrollCursorIntoView()}),p.hide=function(){this.container.style.display="none",p.anchorPos=null,p.anchor=null,p.isOpen&&(p.isOpen=!1,this._signal("hide"))},p.tryShow=function(A,C,$,z){if(!z&&p.isOpen&&p.anchorPos&&p.anchor&&p.anchorPos.top===A.top&&p.anchorPos.left===A.left&&p.anchor===$)return!0;var F=this.container,N=this.renderer.scrollBar.width||10,B=window.innerHeight-N,P=window.innerWidth-N,V=this.renderer,G=V.$maxLines*C*1.4,Y={top:0,bottom:0},q=B-A.top-3*this.$borderSize-C,Z=A.top-3*this.$borderSize;$||(Z<=q||q>=G?$="bottom":$="top"),$==="top"?(Y.bottom=A.top-this.$borderSize,Y.top=Y.bottom-G):$==="bottom"&&(Y.top=A.top+C+this.$borderSize,Y.bottom=Y.top+G);var Q=Y.top>=0&&Y.bottom<=B;if(!z&&!Q)return!1;Q?V.$maxPixelHeight=null:$==="top"?V.$maxPixelHeight=Z:V.$maxPixelHeight=q,$==="top"?(F.style.top="",F.style.bottom=B+N-Y.bottom+"px",p.isTopdown=!1):(F.style.top=Y.top+"px",F.style.bottom="",p.isTopdown=!0),F.style.display="";var U=A.left;return U+F.offsetWidth>P&&(U=P-F.offsetWidth),F.style.left=U+"px",F.style.right="",p.isOpen||(p.isOpen=!0,this._signal("show"),b=null),p.anchorPos=A,p.anchor=$,!0},p.show=function(A,C,$){this.tryShow(A,C,$?"bottom":void 0,!0)},p.goTo=function(A){var C=this.getRow(),$=this.session.getLength()-1;switch(A){case"up":C=C<=0?$:C-1;break;case"down":C=C>=$?-1:C+1;break;case"start":C=0;break;case"end":C=$;break}this.setRow(C)},p.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},p.$imageSize=0,p.$borderSize=1,p}return g}();s.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),M.AcePopup=u,M.$singleLineEditor=f,M.getAriaId=n}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(L,M,K){var D=function(){function x(v){this.editor=v,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return x.prototype.setScreenReaderContent=function(v){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",(function(){var d=this.popup.getRow(),s=this.popup.renderer.$textLayer,i=s.element.childNodes[d-s.config.firstRow];if(i){for(var r="doc-tooltip ",n=0;n<this._lines.length;n++)r+="ace-inline-screenreader-line-".concat(n," ");i.setAttribute("aria-describedby",r)}}).bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=v.split(/\r\n|\r|\n/);var h=this.createCodeBlock();this.screenReaderDiv.appendChild(h)},x.prototype.destroy=function(){this.screenReaderDiv.remove()},x.prototype.createCodeBlock=function(){var v=document.createElement("pre");v.setAttribute("id","ace-inline-screenreader");for(var h=0;h<this._lines.length;h++){var d=document.createElement("code");d.setAttribute("id","ace-inline-screenreader-line-".concat(h));var s=document.createTextNode(this._lines[h]);d.appendChild(s),v.appendChild(d)}return v},x}();M.AceInlineScreenReader=D}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(L,M,K){var D=L("../snippets").snippetManager,x=L("./inline_screenreader").AceInlineScreenReader,v=function(){function h(){this.editor=null}return h.prototype.show=function(d,s,i){if(i=i||"",d&&this.editor&&this.editor!==d&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!d||!s)return!1;this.inlineScreenReader||(this.inlineScreenReader=new x(d));var r=s.snippet?D.getDisplayTextForSnippet(d,s.snippet):s.value;return s.hideInlinePreview||!r||!r.startsWith(i)?!1:(this.editor=d,this.inlineScreenReader.setScreenReaderContent(r),r=r.slice(i.length),r===""?d.removeGhostText():d.setGhostText(r),!0)},h.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},h.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},h.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},h}();M.AceInline=v}),ace.define("ace/autocomplete/util",["require","exports","module"],function(L,M,K){M.parForEach=function(x,v,h){var d=0,s=x.length;s===0&&h();for(var i=0;i<s;i++)v(x[i],function(r,n){d++,d===s&&h(r,n)})};var D=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;M.retrievePrecedingIdentifier=function(x,v,h){h=h||D;for(var d=[],s=v-1;s>=0&&h.test(x[s]);s--)d.push(x[s]);return d.reverse().join("")},M.retrieveFollowingIdentifier=function(x,v,h){h=h||D;for(var d=[],s=v;s<x.length&&h.test(x[s]);s++)d.push(x[s]);return d},M.getCompletionPrefix=function(x){var v=x.getCursorPosition(),h=x.session.getLine(v.row),d;return x.completers.forEach((function(s){s.identifierRegexps&&s.identifierRegexps.forEach((function(i){!d&&i&&(d=this.retrievePrecedingIdentifier(h,v.column,i))}).bind(this))}).bind(this)),d||this.retrievePrecedingIdentifier(h,v.column)},M.triggerAutocomplete=function(x,h){var h=h??x.session.getPrecedingCharacter();return x.completers.some(function(d){if(d.triggerCharacters&&Array.isArray(d.triggerCharacters))return d.triggerCharacters.includes(h)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(L,M,K){var D=L("./keyboard/hash_handler").HashHandler,x=L("./autocomplete/popup").AcePopup,v=L("./autocomplete/inline").AceInline,h=L("./autocomplete/popup").getAriaId,d=L("./autocomplete/util"),s=L("./lib/lang"),i=L("./lib/dom"),r=L("./snippets").snippetManager,n=L("./config"),o=L("./lib/event"),a=L("./lib/scroll").preventParentScroll,l=function(y,_){_.completer&&_.completer.destroy()},f=function(){function y(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new D,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=s.delayedCall((function(){this.updateCompletions(!0)}).bind(this)),this.tooltipTimer=s.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=s.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=s.delayedCall((function(){this.stickySelection=!0}).bind(this),this.stickySelectionDelay),this.$firstOpenTimer=s.delayedCall((function(){var _=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!_||this.editor.completers.length===0||(this.completions=new g(y.completionsForLoading),this.openPopup(this.editor,_.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}).bind(this),this.stickySelectionDelay)}return Object.defineProperty(y,"completionsForLoading",{get:function(){return[{caption:n.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),y.prototype.$init=function(){return this.popup=new x(this.parentNode||document.body||document.documentElement),this.popup.on("click",(function(_){this.insertMatch(),_.stop()}).bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),o.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},y.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new v,this.inlineRenderer},y.prototype.getPopup=function(){return this.popup||this.$init()},y.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},y.prototype.$seen=function(_){!this.hasSeen.has(_)&&_&&_.completer&&_.completer.onSeen&&typeof _.completer.onSeen=="function"&&(_.completer.onSeen(this.editor,_),this.hasSeen.add(_))},y.prototype.$onPopupChange=function(_){if(this.inlineRenderer&&this.inlineEnabled){var p=_?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(p),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},y.prototype.$updateGhostText=function(_){var p=this.base.row,S=this.base.column,b=this.editor.getCursorPosition().column,w=this.editor.session.getLine(p).slice(S,b);this.inlineRenderer.show(this.editor,_,w)?this.$seen(_):this.inlineRenderer.hide()},y.prototype.$onPopupRender=function(){var _=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var p=this.popup.getFirstVisibleRow();p<=this.popup.getLastVisibleRow();p++){var S=this.popup.getData(p);S&&(!_||S.hideInlinePreview)&&this.$seen(S)}},y.prototype.$onPopupShow=function(_){this.$onPopupChange(_),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},y.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var _=this.editor.container.parentNode,p=[];_;)p.push(_),_.addEventListener("scroll",this.onLayoutChange,{passive:!0}),_=_.parentNode;this.$elements=p}},y.prototype.unObserveLayoutChanges=function(){var _=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(p){p.removeEventListener("scroll",_.onLayoutChange,{passive:!0})}),this.$elements=null},y.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},y.prototype.$updatePopupPosition=function(){var _=this.editor,p=_.renderer,S=p.layerConfig.lineHeight,b=p.$cursorLayer.getPixelPosition(this.base,!0);b.left-=this.popup.getTextLeftOffset();var w=_.container.getBoundingClientRect();b.top+=w.top-p.layerConfig.offset,b.left+=w.left-_.renderer.scrollLeft,b.left+=p.gutterWidth;var R={top:b.top,left:b.left};p.$ghostText&&p.$ghostTextWidget&&this.base.row===p.$ghostText.position.row&&(R.top+=p.$ghostTextWidget.el.offsetHeight);var H=_.container.getBoundingClientRect().bottom-S,k=H<R.top?{top:H,left:R.left}:R;this.popup.tryShow(k,S,"bottom")||this.popup.tryShow(b,S,"top")||this.popup.show(b,S)},y.prototype.openPopup=function(_,p,S){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var b=this.popup.getRow(),w=this.popup.data[b];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:h(this.popup.getRow()),inline:this.inlineEnabled}),_.keyBinding.addKeyboardHandler(this.keyboardHandler);var R;this.stickySelection&&(R=this.popup.data.indexOf(w)),(!R||R===-1)&&(R=0),this.popup.setRow(this.autoSelect?R:-1),R===b&&w!==this.completions.filtered[R]&&this.$onPopupChange();var H=this.inlineRenderer&&this.inlineEnabled;if(R===b&&H){var k=this.popup.getData(this.popup.getRow());this.$updateGhostText(k)}S||(this.popup.setTheme(_.getTheme()),this.popup.setFontSize(_.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},y.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},y.prototype.changeListener=function(_){var p=this.editor.selection.lead;(p.row!=this.base.row||p.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},y.prototype.blurListener=function(_){var p=document.activeElement,S=this.editor.textInput.getElement(),b=_.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(_.relatedTarget),w=this.popup&&this.popup.container;p!=S&&p.parentNode!=w&&!b&&p!=this.tooltipNode&&_.relatedTarget!=S&&this.detach()},y.prototype.mousedownListener=function(_){this.detach()},y.prototype.mousewheelListener=function(_){this.popup&&!this.popup.isMouseOver&&this.detach()},y.prototype.mouseOutListener=function(_){this.popup.isOpen&&this.$updatePopupPosition()},y.prototype.goTo=function(_){this.popup.goTo(_)},y.prototype.insertMatch=function(_,p){if(_||(_=this.popup.getData(this.popup.getRow())),!_)return!1;if(_.value==="")return this.detach();var S=this.completions,b=this.getCompletionProvider().insertMatch(this.editor,_,S.filterText,p);return this.completions==S&&this.detach(),b},y.prototype.showPopup=function(_,p){this.editor&&this.detach(),this.activated=!0,this.editor=_,_.completer!=this&&(_.completer&&_.completer.detach(),_.completer=this),_.on("changeSelection",this.changeListener),_.on("blur",this.blurListener),_.on("mousedown",this.mousedownListener),_.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,p)},y.prototype.getCompletionProvider=function(_){return this.completionProvider||(this.completionProvider=new u(_)),this.completionProvider},y.prototype.gatherCompletions=function(_,p){return this.getCompletionProvider().gatherCompletions(_,p)},y.prototype.updateCompletions=function(_,p){if(_&&this.base&&this.completions){var b=this.editor.getCursorPosition(),w=this.editor.session.getTextRange({start:this.base,end:b});if(w==this.completions.filterText)return;if(this.completions.setFilter(w),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==w&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,w,_);return}if(p&&p.matches){var b=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(b.row,b.column),this.base.$insertRight=!0,this.completions=new g(p.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",_)}var S=this.editor.getSession(),b=this.editor.getCursorPosition(),w=d.getCompletionPrefix(this.editor);this.base=S.doc.createAnchor(b.row,b.column-w.length),this.base.$insertRight=!0;var R={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:w,pos:b}).provideCompletions(this.editor,R,(function(H,k,E){var A=k.filtered,C=d.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),E){if(!A.length){var $=!this.autoShown&&this.emptyMessage;if(typeof $=="function"&&($=this.emptyMessage(C)),$){var z=[{caption:$,value:""}];this.completions=new g(z),this.openPopup(this.editor,C,_),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(A.length==1&&A[0].value==C&&!A[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&A.length==1)return this.insertMatch(A[0])}this.completions=!E&&this.showLoadingState?new g(y.completionsForLoading.concat(A),k.filterText):k,this.openPopup(this.editor,C,_),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!E)}).bind(this)),this.showLoadingState&&!this.autoShown&&!(this.popup&&this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},y.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},y.prototype.updateDocTooltip=function(){var _=this.popup,p=this.completions&&this.completions.filtered,S=p&&(p[_.getHoveredRow()]||p[_.getRow()]),b=null;if(!S||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var w=this.editor.completers.length,R=0;R<w;R++){var H=this.editor.completers[R];if(H.getDocTooltip&&S.completerId===H.id){b=H.getDocTooltip(S);break}}if(!b&&typeof S!="string"&&(b=S),typeof b=="string"&&(b={docText:b}),!b||!(b.docHTML||b.docText))return this.hideDocTooltip();this.showDocTooltip(b)},y.prototype.showDocTooltip=function(_){this.tooltipNode||(this.tooltipNode=i.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",a));var p=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(p.isDark?"ace_dark ":"")+(p.cssClass||"");var S=this.tooltipNode;_.docHTML?S.innerHTML=_.docHTML:_.docText&&(S.textContent=_.docText),S.parentNode||this.popup.container.appendChild(this.tooltipNode);var b=this.popup,w=b.container.getBoundingClientRect(),R=400,H=300,k=b.renderer.scrollBar.width||10,E=w.left,A=window.innerWidth-w.right-k,C=b.isTopdown?w.top:window.innerHeight-k-w.bottom,$=[Math.min(A/R,1),Math.min(E/R,1),Math.min(C/H*.9)],z=Math.max.apply(Math,$),F=S.style;F.display="block",z==$[0]?(F.left=w.right+1+"px",F.right="",F.maxWidth=R*z+"px",F.top=w.top+"px",F.bottom="",F.maxHeight=Math.min(window.innerHeight-k-w.top,H)+"px"):z==$[1]?(F.right=window.innerWidth-w.left+"px",F.left="",F.maxWidth=R*z+"px",F.top=w.top+"px",F.bottom="",F.maxHeight=Math.min(window.innerHeight-k-w.top,H)+"px"):z==$[2]&&(F.left=window.innerWidth-w.left+"px",F.maxWidth=Math.min(R,window.innerWidth)+"px",b.isTopdown?(F.top=w.bottom+"px",F.left=w.left+"px",F.right="",F.bottom="",F.maxHeight=Math.min(window.innerHeight-k-w.bottom,H)+"px"):(F.top=b.container.offsetTop-S.offsetHeight+"px",F.left=w.left+"px",F.right="",F.bottom="",F.maxHeight=Math.min(b.container.offsetTop,H)+"px"))},y.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var _=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==_&&this.editor.focus(),this.tooltipNode=null,_.parentNode&&_.parentNode.removeChild(_)}},y.prototype.onTooltipClick=function(_){for(var p=_.target;p&&p!=this.tooltipNode;){if(p.nodeName=="A"&&p.href){p.rel="noreferrer",p.target="_blank";break}p=p.parentNode}},y.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var _=this.popup.container;_&&_.parentNode&&_.parentNode.removeChild(_)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",l),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},y.for=function(_){return _.completer instanceof y||(_.completer&&(_.completer.destroy(),_.completer=null),n.get("sharedPopups")?(y.$sharedInstance||(y.$sharedInstance=new y),_.completer=y.$sharedInstance):(_.completer=new y,_.once("destroy",l))),_.completer},y}();f.prototype.commands={Up:function(y){y.completer.goTo("up")},Down:function(y){y.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(y){y.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(y){y.completer.goTo("end")},Esc:function(y){y.completer.detach()},Return:function(y){return y.completer.insertMatch()},"Shift-Return":function(y){y.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(y){var _=y.completer.insertMatch();if(!_&&!y.tabstopManager)y.completer.goTo("down");else return _},Backspace:function(y){y.execCommand("backspace");var _=d.getCompletionPrefix(y);!_&&y.completer&&y.completer.detach()},PageUp:function(y){y.completer.popup.gotoPageUp()},PageDown:function(y){y.completer.popup.gotoPageDown()}},f.startCommand={name:"startAutocomplete",exec:function(y,_){var p=f.for(y);p.autoInsert=!1,p.autoSelect=!0,p.autoShown=!1,p.showPopup(y,_),p.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var u=function(){function y(_){this.initialPosition=_,this.active=!0}return y.prototype.insertByIndex=function(_,p,S){return!this.completions||!this.completions.filtered?!1:this.insertMatch(_,this.completions.filtered[p],S)},y.prototype.insertMatch=function(_,p,S){if(!p)return!1;if(_.startOperation({command:{name:"insertMatch"}}),p.completer&&p.completer.insertMatch)p.completer.insertMatch(_,p);else{if(!this.completions)return!1;var b=this.completions.filterText.length,w=0;if(p.range&&p.range.start.row===p.range.end.row&&(b-=this.initialPosition.prefix.length,b+=this.initialPosition.pos.column-p.range.start.column,w+=p.range.end.column-this.initialPosition.pos.column),b||w){var R;_.selection.getAllRanges?R=_.selection.getAllRanges():R=[_.getSelectionRange()];for(var H=0,k;k=R[H];H++)k.start.column-=b,k.end.column+=w,_.session.remove(k)}p.snippet?r.insertSnippet(_,p.snippet):this.$insertString(_,p),p.completer&&p.completer.onInsert&&typeof p.completer.onInsert=="function"&&p.completer.onInsert(_,p),p.command&&p.command==="startAutocomplete"&&_.execCommand(p.command)}return _.endOperation(),!0},y.prototype.$insertString=function(_,p){var S=p.value||p;_.execCommand("insertstring",S)},y.prototype.gatherCompletions=function(_,p){var S=_.getSession(),b=_.getCursorPosition(),w=d.getCompletionPrefix(_),R=[];this.completers=_.completers;var H=_.completers.length;return _.completers.forEach(function(k,E){k.getCompletions(_,S,b,w,function(A,C){k.hideInlinePreview&&(C=C.map(function($){return Object.assign($,{hideInlinePreview:k.hideInlinePreview})})),!A&&C&&(R=R.concat(C)),p(null,{prefix:d.getCompletionPrefix(_),matches:R,finished:--H===0})})}),!0},y.prototype.provideCompletions=function(_,p,S){var b=(function(k){var E=k.prefix,A=k.matches;this.completions=new g(A),p.exactMatch&&(this.completions.exactMatch=!0),p.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(E),(k.finished||this.completions.filtered.length)&&S(null,this.completions,k.finished)}).bind(this),w=!0,R=null;if(this.gatherCompletions(_,(function(k,E){if(this.active){k&&(S(k,[],!0),this.detach());var A=E.prefix;if(A.indexOf(E.prefix)===0){if(w){R=E;return}b(E)}}}).bind(this)),w=!1,R){var H=R;R=null,b(H)}},y.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(_){typeof _.cancel=="function"&&_.cancel()})},y}(),g=function(){function y(_,p){this.all=_,this.filtered=_,this.filterText=p||"",this.exactMatch=!1,this.ignoreCaption=!1}return y.prototype.setFilter=function(_){if(_.length>this.filterText&&_.lastIndexOf(this.filterText,0)===0)var p=this.filtered;else var p=this.all;this.filterText=_,p=this.filterCompletions(p,this.filterText),p=p.sort(function(b,w){return w.exactMatch-b.exactMatch||w.$score-b.$score||(b.caption||b.value).localeCompare(w.caption||w.value)});var S=null;p=p.filter(function(b){var w=b.snippet||b.caption||b.value;return w===S?!1:(S=w,!0)}),this.filtered=p},y.prototype.filterCompletions=function(_,p){var S=[],b=p.toUpperCase(),w=p.toLowerCase();e:for(var R=0,H;H=_[R];R++){if(H.skipFilter){H.$score=H.score,S.push(H);continue}var k=!this.ignoreCaption&&H.caption||H.value||H.snippet;if(k){var E=-1,A=0,C=0,$,z;if(this.exactMatch){if(p!==k.substr(0,p.length))continue e}else{var F=k.toLowerCase().indexOf(w);if(F>-1)C=F;else for(var N=0;N<p.length;N++){var B=k.indexOf(w[N],E+1),P=k.indexOf(b[N],E+1);if($=B>=0&&(P<0||B<P)?B:P,$<0)continue e;z=$-E-1,z>0&&(E===-1&&(C+=10),C+=z,A=A|1<<N),E=$}}H.matchMask=A,H.exactMatch=C?0:1,H.$score=(H.score||0)-C,S.push(H)}}return S},y}();M.Autocomplete=f,M.CompletionProvider=u,M.FilteredList=g}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(L,M,K){var D=L("../range").Range,x=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;function v(d,s){var i=d.getTextRange(D.fromPoints({row:0,column:0},s));return i.split(x).length-1}function h(d,s){var i=v(d,s),r=d.getValue().split(x),n=Object.create(null),o=r[i];return r.forEach(function(a,l){if(!(!a||a===o)){var f=Math.abs(i-l),u=r.length-f;n[a]?n[a]=Math.max(u,n[a]):n[a]=u}}),n}M.getCompletions=function(d,s,i,r,n){var o=h(s,i),a=Object.keys(o);n(null,a.map(function(l){return{caption:l,value:l,score:o[l],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(L,M,K){var D=L("../snippets").snippetManager,x=L("../autocomplete").Autocomplete,v=L("../config"),h=L("../lib/lang"),d=L("../autocomplete/util"),s=L("../autocomplete/text_completer"),i={getCompletions:function(b,w,R,H,k){if(w.$mode.completer)return w.$mode.completer.getCompletions(b,w,R,H,k);var E=b.session.getState(R.row),A=w.$mode.getCompletions(E,w,R,H);A=A.map(function(C){return C.completerId=i.id,C}),k(null,A)},id:"keywordCompleter"},r=function(b){var w={};return b.replace(/\${(\d+)(:(.*?))?}/g,function(R,H,k,E){return w[H]=E||""}).replace(/\$(\d+?)/g,function(R,H){return w[H]})},n={getCompletions:function(b,w,R,H,k){var E=[],A=w.getTokenAt(R.row,R.column);A&&A.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?E.push("html-tag"):E=D.getActiveScopes(b);var C=D.snippetMap,$=[];E.forEach(function(z){for(var F=C[z]||[],N=F.length;N--;){var B=F[N],P=B.name||B.tabTrigger;P&&$.push({caption:P,snippet:B.content,meta:B.tabTrigger&&!B.name?B.tabTrigger+"⇥ ":"snippet",completerId:n.id})}},this),k(null,$)},getDocTooltip:function(b){b.snippet&&!b.docHTML&&(b.docHTML=["<b>",h.escapeHTML(b.caption),"</b>","<hr></hr>",h.escapeHTML(r(b.snippet))].join(""))},id:"snippetCompleter"},o=[n,s,i];M.setCompleters=function(b){o.length=0,b&&o.push.apply(o,b)},M.addCompleter=function(b){o.push(b)},M.textCompleter=s,M.keyWordCompleter=i,M.snippetCompleter=n;var a={name:"expandSnippet",exec:function(b){return D.expandWithTab(b)},bindKey:"Tab"},l=function(b,w){f(w.session.$mode)},f=function(b){typeof b=="string"&&(b=v.$modes[b]),b&&(D.files||(D.files={}),u(b.$id,b.snippetFileId),b.modes&&b.modes.forEach(f))},u=function(b,w){!w||!b||D.files[b]||(D.files[b]={},v.loadModule(w,function(R){R&&(D.files[b]=R,!R.snippets&&R.snippetText&&(R.snippets=D.parseSnippetFile(R.snippetText)),D.register(R.snippets||[],R.scope),R.includeScopes&&(D.snippetMap[R.scope].includeScopes=R.includeScopes,R.includeScopes.forEach(function(H){f("ace/mode/"+H)})))}))},g=function(b){var w=b.editor,R=w.completer&&w.completer.activated;if(b.command.name==="backspace")R&&!d.getCompletionPrefix(w)&&w.completer.detach();else if(b.command.name==="insertstring"&&!R){y=b;var H=b.editor.$liveAutocompletionDelay;H?_.delay(H):p(b)}},y,_=h.delayedCall(function(){p(y)},0),p=function(b){var w=b.editor,R=d.getCompletionPrefix(w),H=b.args,k=d.triggerAutocomplete(w,H);if(R&&R.length>=w.$liveAutocompletionThreshold||k){var E=x.for(w);E.autoShown=!0,E.showPopup(w)}},S=L("../editor").Editor;L("../config").defineOptions(S.prototype,"editor",{enableBasicAutocompletion:{set:function(b){b?(this.completers||(this.completers=Array.isArray(b)?b:o),this.commands.addCommand(x.startCommand)):this.commands.removeCommand(x.startCommand)},value:!1},enableLiveAutocompletion:{set:function(b){b?(this.completers||(this.completers=Array.isArray(b)?b:o),this.commands.on("afterExec",g)):this.commands.off("afterExec",g)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(b){b?(this.commands.addCommand(a),this.on("changeMode",l),l(null,this)):(this.commands.removeCommand(a),this.off("changeMode",l))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(L){j&&(j.exports=L)})}()}(Vc)),Vc.exports}Em();function Am(){const[j,I]=kt.useState({}),[L,M]=kt.useState(""),[K,D]=kt.useState(""),[x,v]=kt.useState(""),[h,d]=kt.useState(300),[s,i]=kt.useState(!1),r=K===x;kt.useEffect(()=>{if(!r&&x){const g=setTimeout(()=>{co.emit("file:change",{path:L,content:x})},5e3);return()=>{clearTimeout(g)}}},[x,L,r]),kt.useEffect(()=>{v("")},[L]),kt.useEffect(()=>{v(K)},[K]);const n=async()=>{const y=await(await fetch("http://localhost:9000/files")).json();I(y.tree)},o=kt.useCallback(async()=>{if(!L)return;const y=await(await fetch(`http://localhost:9000/files/content?path=${L}`)).json();D(y.content)},[L]);kt.useEffect(()=>{L&&o()},[o,L]),kt.useEffect(()=>(co.on("file:refresh",n),()=>{co.off("file:refresh",n)}),[]);const a=()=>{i(!0)},l=g=>{if(s){const y=document.querySelector(".playground-container").clientHeight,_=y-g.clientY;_>100&&_<y-200&&d(_)}},f=()=>{i(!1)};kt.useEffect(()=>(s?(document.addEventListener("mousemove",l),document.addEventListener("mouseup",f)):(document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",f)),()=>{document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",f)}),[s]);const u=g=>{if(!g)return"";const y=g.split("/");return y[y.length-1]};return Ie.jsxs("div",{className:"playground-container",children:[Ie.jsx("div",{className:"header",children:Ie.jsx("div",{className:"logo",children:"Code Compiler"})}),Ie.jsx("div",{className:"main-content",children:Ie.jsxs("div",{className:"editor-container",children:[Ie.jsxs("div",{className:"files",children:[Ie.jsxs("div",{className:"file-tree-header",children:[Ie.jsx("span",{children:"Explorer"}),Ie.jsx("button",{onClick:n,children:"↻"})]}),Ie.jsx(hm,{onSelect:g=>{D(""),M(g)},tree:j,selectedFile:L})]}),Ie.jsx("div",{className:"editor",children:L?Ie.jsxs(Ie.Fragment,{children:[Ie.jsxs("div",{className:"editor-header",children:[Ie.jsxs("div",{className:"file-path",children:[u(L),Ie.jsx("span",{className:`file-status ${r?"status-saved":"status-unsaved"}`,children:r?" ● Saved":" ● Unsaved"})]}),Ie.jsx("div",{children:L.replaceAll("/"," > ")})]}),Ie.jsx(bm,{mode:Sm({selectedFile:L}),theme:"tomorrow_night_eighties",value:x,onChange:g=>v(g),name:"code-editor",editorProps:{$blockScrolling:!0},setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,showLineNumbers:!0,tabSize:2}})]}):Ie.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"var(--text-secondary)",flexDirection:"column"},children:[Ie.jsx("div",{style:{fontSize:"60px",marginBottom:"20px"},children:"📄"}),Ie.jsx("p",{children:"Select a file to edit"})]})})]})}),Ie.jsx("div",{className:"resizer-horizontal",onMouseDown:a}),Ie.jsxs("div",{className:"terminal-container",style:{height:h+"px"},children:[Ie.jsx("div",{className:"terminal-header",children:Ie.jsx("div",{className:"terminal-title",children:"Terminal"})}),Ie.jsx(am,{})]})]})}uv.createRoot(document.getElementById("root")).render(Ie.jsx(kt.StrictMode,{children:Ie.jsx(Am,{})}));
